/*! For license information please see nuroplayer.min.js.LICENSE.txt */
!function(t){function e(e){for(var r,i,a=e[0],s=e[1],o=0,c=[];o<a.length;o++)i=a[o],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&c.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(l&&l(e);c.length;)c.shift()()}var r={},n={0:0};function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],r=n[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,i){r=n[t]=[e,i]}));e.push(r[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(t){return i.p+"static/js/"+({}[t]||t)+"."+{1:"f7e044cd"}[t]+".chunk.js"}(t);var l=new Error;s=function(e){o.onerror=o.onload=null,clearTimeout(c);var r=n[t];if(0!==r){if(r){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,r[1](l)}n[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i.oe=function(t){throw console.error(t),t};var a=this.webpackJsonpneuroplayer=this.webpackJsonpneuroplayer||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var o=0;o<a.length;o++)e(a[o]);var l=s;i(i.s=117)}([function(t,e,r){t.exports=r(97)()},function(t,e,r){"use strict";t.exports=r(87)},function(t,e,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=typeof n;if("string"===a||"number"===a)t.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&t.push(s)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&t.push(o);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){"use strict";t.exports=r(95)},function(t,e,r){"use strict";r.d(e,"b",(function(){return s}));var n=r(7),i=r(70),a=r(14);function s(t,e){return e&&"string"===typeof e?e.split(".").reduce((function(t,e){return t&&t[e]?t[e]:null}),t):null}function o(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof t?t(r):Array.isArray(t)?t[r]||i:s(t,r)||i,e&&(n=e(n)),n}e.a=function(t){var e=t.prop,r=t.cssProperty,l=void 0===r?t.prop:r,c=t.themeKey,u=t.transform,h=function(t){if(null==t[e])return null;var r=t[e],h=s(t.theme,c)||{};return Object(a.b)(t,r,(function(t){var r=o(h,u,t);return t===r&&"string"===typeof t&&(r=o(h,u,"".concat(e).concat("default"===t?"":Object(i.a)(t)),t)),!1===l?r:Object(n.a)({},l,r)}))};return h.propTypes={},h.filterProps=[e],h}},function(t,e,r){"use strict";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(57);var i=r(36),a=r(58);function s(t,e){return Object(n.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}}(t,e)||Object(i.a)(t,e)||Object(a.a)()}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t){var e,r,i="";if("string"===typeof t||"number"===typeof t)i+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=n(t[e]))&&(i&&(i+=" "),i+=r);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.a=function(){for(var t,e,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(e=n(t))&&(i&&(i+=" "),i+=e);return i}},function(t,e,r){"use strict";var n=r(70);e.a=n.a},,function(t,e,r){"use strict";r.d(e,"b",(function(){return Mt})),r.d(e,"c",(function(){return It}));var n=r(18),i=r(17),a=r(22),s=(r(99),r(1)),o=r(31),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=Object(o.a)((function(t){return l.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}var h=r(15),f=r(20),d=r(25),p=c,g=function(t){return"theme"!==t},m=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?p:g},v=function(t,e,r){var n;if(e){var i=e.shouldForwardProp;n=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof n&&r&&(n=t.__emotion_forwardProp),n},y=function(){return null},b=function t(e,r){var n,i,a=e.__emotion_real===e,o=a&&e.__emotion_base||e;void 0!==r&&(n=r.label,i=r.target);var l=v(e,r,a),c=l||m(o),p=!c("as");return function(){var g=arguments,b=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==n&&b.push("label:"+n+";"),null==g[0]||void 0===g[0].raw)b.push.apply(b,g);else{0,b.push(g[0][0]);for(var _=g.length,T=1;T<_;T++)b.push(g[T],g[0][T])}var E=Object(h.e)((function(t,e,r){var n=p&&t.as||o,a="",u=[],g=t;if(null==t.theme){for(var v in g={},t)g[v]=t[v];g.theme=Object(s.useContext)(h.b)}"string"===typeof t.className?a=Object(f.a)(e.registered,u,t.className):null!=t.className&&(a=t.className+" ");var _=Object(d.a)(b.concat(u),e.registered,g);Object(f.b)(e,_,"string"===typeof n);a+=e.key+"-"+_.name,void 0!==i&&(a+=" "+i);var T=p&&void 0===l?m(n):c,E={};for(var x in t)p&&"as"===x||T(x)&&(E[x]=t[x]);E.className=a,E.ref=r;var S=Object(s.createElement)(n,E),w=Object(s.createElement)(y,null);return Object(s.createElement)(s.Fragment,null,w,S)}));return E.displayName=void 0!==n?n:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=o,E.__emotion_styles=b,E.__emotion_forwardProp=l,Object.defineProperty(E,"toString",{value:function(){return"."+i}}),E.withComponent=function(e,n){return t(e,u({},r,n,{shouldForwardProp:v(E,n,!0)})).apply(void 0,b)},E}},_=b.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){_[t]=_(t)}));var T=_;function E(t,e){return T(t,e)}var x=r(142),S=r(7),w=r(23),C=r(4);var O=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.reduce((function(t,e){return e.filterProps.forEach((function(r){t[r]=e})),t}),{}),i=function(t){return Object.keys(t).reduce((function(e,r){return n[r]?Object(w.a)(e,n[r](t)):e}),{})};return i.propTypes={},i.filterProps=e.reduce((function(t,e){return t.concat(e.filterProps)}),[]),i},k=r(16),A=r(14);function D(t){return"number"!==typeof t?t:"".concat(t,"px solid")}var L=Object(C.a)({prop:"border",themeKey:"borders",transform:D}),R=Object(C.a)({prop:"borderTop",themeKey:"borders",transform:D}),P=Object(C.a)({prop:"borderRight",themeKey:"borders",transform:D}),M=Object(C.a)({prop:"borderBottom",themeKey:"borders",transform:D}),I=Object(C.a)({prop:"borderLeft",themeKey:"borders",transform:D}),F=Object(C.a)({prop:"borderColor",themeKey:"palette"}),j=Object(C.a)({prop:"borderTopColor",themeKey:"palette"}),N=Object(C.a)({prop:"borderRightColor",themeKey:"palette"}),B=Object(C.a)({prop:"borderBottomColor",themeKey:"palette"}),U=Object(C.a)({prop:"borderLeftColor",themeKey:"palette"}),z=function(t){if(void 0!==t.borderRadius&&null!==t.borderRadius){var e=Object(k.b)(t.theme,"shape.borderRadius",4,"borderRadius");return Object(A.b)(t,t.borderRadius,(function(t){return{borderRadius:Object(k.d)(e,t)}}))}return null};z.propTypes={},z.filterProps=["borderRadius"];var G=O(L,R,P,M,I,F,j,N,B,U,z),H=O(Object(C.a)({prop:"displayPrint",cssProperty:!1,transform:function(t){return{"@media print":{display:t}}}}),Object(C.a)({prop:"display"}),Object(C.a)({prop:"overflow"}),Object(C.a)({prop:"textOverflow"}),Object(C.a)({prop:"visibility"}),Object(C.a)({prop:"whiteSpace"})),V=O(Object(C.a)({prop:"flexBasis"}),Object(C.a)({prop:"flexDirection"}),Object(C.a)({prop:"flexWrap"}),Object(C.a)({prop:"justifyContent"}),Object(C.a)({prop:"alignItems"}),Object(C.a)({prop:"alignContent"}),Object(C.a)({prop:"order"}),Object(C.a)({prop:"flex"}),Object(C.a)({prop:"flexGrow"}),Object(C.a)({prop:"flexShrink"}),Object(C.a)({prop:"alignSelf"}),Object(C.a)({prop:"justifyItems"}),Object(C.a)({prop:"justifySelf"})),W=function(t){if(void 0!==t.gap&&null!==t.gap){var e=Object(k.b)(t.theme,"spacing",8,"gap");return Object(A.b)(t,t.gap,(function(t){return{gap:Object(k.d)(e,t)}}))}return null};W.propTypes={},W.filterProps=["gap"];var Y=function(t){if(void 0!==t.columnGap&&null!==t.columnGap){var e=Object(k.b)(t.theme,"spacing",8,"columnGap");return Object(A.b)(t,t.columnGap,(function(t){return{columnGap:Object(k.d)(e,t)}}))}return null};Y.propTypes={},Y.filterProps=["columnGap"];var X=function(t){if(void 0!==t.rowGap&&null!==t.rowGap){var e=Object(k.b)(t.theme,"spacing",8,"rowGap");return Object(A.b)(t,t.rowGap,(function(t){return{rowGap:Object(k.d)(e,t)}}))}return null};X.propTypes={},X.filterProps=["rowGap"];var q=O(W,Y,X,Object(C.a)({prop:"gridColumn"}),Object(C.a)({prop:"gridRow"}),Object(C.a)({prop:"gridAutoFlow"}),Object(C.a)({prop:"gridAutoColumns"}),Object(C.a)({prop:"gridAutoRows"}),Object(C.a)({prop:"gridTemplateColumns"}),Object(C.a)({prop:"gridTemplateRows"}),Object(C.a)({prop:"gridTemplateAreas"}),Object(C.a)({prop:"gridArea"})),K=O(Object(C.a)({prop:"position"}),Object(C.a)({prop:"zIndex",themeKey:"zIndex"}),Object(C.a)({prop:"top"}),Object(C.a)({prop:"right"}),Object(C.a)({prop:"bottom"}),Object(C.a)({prop:"left"})),$=O(Object(C.a)({prop:"color",themeKey:"palette"}),Object(C.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(C.a)({prop:"backgroundColor",themeKey:"palette"})),Q=Object(C.a)({prop:"boxShadow",themeKey:"shadows"});function Z(t){return t<=1&&0!==t?"".concat(100*t,"%"):t}var J=Object(C.a)({prop:"width",transform:Z}),tt=function(t){if(void 0!==t.maxWidth&&null!==t.maxWidth){return Object(A.b)(t,t.maxWidth,(function(e){var r,n,i;return{maxWidth:(null==(r=t.theme)||null==(n=r.breakpoints)||null==(i=n.values)?void 0:i[e])||A.d[e]||Z(e)}}))}return null};tt.filterProps=["maxWidth"];var et=Object(C.a)({prop:"minWidth",transform:Z}),rt=Object(C.a)({prop:"height",transform:Z}),nt=Object(C.a)({prop:"maxHeight",transform:Z}),it=Object(C.a)({prop:"minHeight",transform:Z}),at=(Object(C.a)({prop:"size",cssProperty:"width",transform:Z}),Object(C.a)({prop:"size",cssProperty:"height",transform:Z}),O(J,tt,et,rt,nt,it,Object(C.a)({prop:"boxSizing"}))),st=Object(C.a)({prop:"fontFamily",themeKey:"typography"}),ot=Object(C.a)({prop:"fontSize",themeKey:"typography"}),lt=Object(C.a)({prop:"fontStyle",themeKey:"typography"}),ct=Object(C.a)({prop:"fontWeight",themeKey:"typography"}),ut=Object(C.a)({prop:"letterSpacing"}),ht=Object(C.a)({prop:"lineHeight"}),ft=Object(C.a)({prop:"textAlign"}),dt=O(Object(C.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),st,ot,lt,ct,ut,ht,ft),pt={borders:G.filterProps,display:H.filterProps,flexbox:V.filterProps,grid:q.filterProps,positions:K.filterProps,palette:$.filterProps,shadows:Q.filterProps,sizing:at.filterProps,spacing:k.c.filterProps,typography:dt.filterProps},gt={borders:G,display:H,flexbox:V,grid:q,positions:K,palette:$,shadows:Q,sizing:at,spacing:k.c,typography:dt},mt=Object.keys(pt).reduce((function(t,e){return pt[e].forEach((function(r){t[r]=gt[e]})),t}),{});var vt=function(t,e,r){var n,i=(n={},Object(S.a)(n,t,e),Object(S.a)(n,"theme",r),n),a=mt[t];return a?a(i):Object(S.a)({},t,e)};function yt(t){var e=t||{},r=e.sx,n=e.theme,i=void 0===n?{}:n;if(!r)return null;function a(t){var e=t;if("function"===typeof t)e=t(i);else if("object"!==typeof t)return t;var r=Object(A.a)(i.breakpoints),n=Object.keys(r),a=r;return Object.keys(e).forEach((function(t){var r,n,s=(r=e[t],n=i,"function"===typeof r?r(n):r);if(null!==s&&void 0!==s)if("object"===typeof s)if(mt[t])a=Object(w.a)(a,vt(t,s,i));else{var o=Object(A.b)({theme:i},s,(function(e){return Object(S.a)({},t,e)}));!function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.reduce((function(t,e){return t.concat(Object.keys(e))}),[]),i=new Set(n);return e.every((function(t){return i.size===Object.keys(t).length}))}(o,s)?a=Object(w.a)(a,o):a[t]=yt({sx:s,theme:i})}else a=Object(w.a)(a,vt(t,s,i))})),Object(A.c)(n,a)}return Array.isArray(r)?r.map(a):a(r)}yt.filterProps=["sx"];var bt=yt,_t=r(70),Tt=["variant"];function Et(t){return 0===t.length}function xt(t){var e=t.variant,r=Object(a.a)(t,Tt),n=e||"";return Object.keys(r).sort().forEach((function(e){n+="color"===e?Et(n)?t[e]:Object(_t.a)(t[e]):"".concat(Et(n)?e:Object(_t.a)(e)).concat(Object(_t.a)(t[e].toString()))})),n}var St=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],wt=["theme"],Ct=["theme"];function Ot(t){return 0===Object.keys(t).length}var kt=function(t,e){return e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null},At=function(t,e){var r=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants);var n={};return r.forEach((function(t){var e=xt(t.props);n[e]=t.style})),n},Dt=function(t,e,r,n){var i,a,s=t.ownerState,o=void 0===s?{}:s,l=[],c=null==r||null==(i=r.components)||null==(a=i[n])?void 0:a.variants;return c&&c.forEach((function(r){var n=!0;Object.keys(r.props).forEach((function(e){o[e]!==r.props[e]&&t[e]!==r.props[e]&&(n=!1)})),n&&l.push(e[xt(r.props)])})),l};function Lt(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}var Rt=Object(x.a)();var Pt=r(29),Mt=function(t){return Lt(t)&&"classes"!==t},It=Lt,Ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultTheme,r=void 0===e?Rt:e,s=t.rootShouldForwardProp,o=void 0===s?Lt:s,l=t.slotShouldForwardProp,c=void 0===l?Lt:l;return function(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.name,u=s.slot,h=s.skipVariantsResolver,f=s.skipSx,d=s.overridesResolver,p=Object(a.a)(s,St),g=void 0!==h?h:u&&"Root"!==u||!1,m=f||!1;var v=Lt;"Root"===u?v=o:u&&(v=c);var y=E(t,Object(i.a)({shouldForwardProp:v,label:e},p)),b=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),o=1;o<e;o++)s[o-1]=arguments[o];var c=s?s.map((function(t){return"function"===typeof t&&t.__emotion_real!==t?function(e){var n=e.theme,s=Object(a.a)(e,wt);return t(Object(i.a)({theme:Ot(n)?r:n},s))}:t})):[],u=t;l&&d&&c.push((function(t){var e=Ot(t.theme)?r:t.theme,n=kt(l,e);return n?d(t,n):null})),l&&!g&&c.push((function(t){var e=Ot(t.theme)?r:t.theme;return Dt(t,At(l,e),e,l)})),m||c.push((function(t){var e=Ot(t.theme)?r:t.theme;return bt(Object(i.a)({},t,{theme:e}))}));var h=c.length-s.length;if(Array.isArray(t)&&h>0){var f=new Array(h).fill("");(u=[].concat(Object(n.a)(t),Object(n.a)(f))).raw=[].concat(Object(n.a)(t.raw),Object(n.a)(f))}else"function"===typeof t&&(u=function(e){var n=e.theme,s=Object(a.a)(e,Ct);return t(Object(i.a)({theme:Ot(n)?r:n},s))});var p=y.apply(void 0,[u].concat(Object(n.a)(c)));return p};return b}}({defaultTheme:Pt.a,rootShouldForwardProp:Mt});e.a=Ft},function(t,e,r){(function(t){var n,i=i||{version:"4.6.0"};if(e.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var a=new(r(113).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=a.document,i.jsdomImplForWrapper=r(114).implForWrapper,i.nodeCanvas=r(115).Canvas,i.window=a,DOMParser=i.window.DOMParser}function s(t,e){var r=t.canvas,n=e.targetCanvas,i=n.getContext("2d");i.translate(0,n.height),i.scale(1,-1);var a=r.height-n.height;i.drawImage(r,0,a,n.width,n.height,0,0,n.width,n.height)}function o(t,e){var r=e.targetCanvas.getContext("2d"),n=e.destinationWidth,i=e.destinationHeight,a=n*i*4,s=new Uint8Array(this.imageBuffer,0,a),o=new Uint8ClampedArray(this.imageBuffer,0,a);t.readPixels(0,0,n,i,t.RGBA,t.UNSIGNED_BYTE,s);var l=new ImageData(o,n,i);r.putImageData(l,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof t&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function t(t,e){if(this.__eventListeners[t]){var r=this.__eventListeners[t];e?r[r.indexOf(e)]=!1:i.util.array.fill(r,!1)}}function e(t,e){var r=function(){e.apply(this,arguments),this.off(t,r)}.bind(this);this.on(t,r)}i.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var r=this.__eventListeners[t];if(!r)return this;for(var n=0,i=r.length;n<i;n++)r[n]&&r[n].call(this,e||{});return this.__eventListeners[t]=r.filter((function(t){return!1!==t})),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var r in t)this.on(r,t[r]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,r){if(1===arguments.length)for(var n in t)e.call(this,n,t[n]);else e.call(this,t,r);return this},off:function(e,r){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,r);return this}}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,r){var n=this._objects;return r?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,r=!1,n=0,i=arguments.length;n<i;n++)-1!==(t=e.indexOf(arguments[n]))&&(r=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&r&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var r=this.getObjects(),n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);return this},getObjects:function(t){return"undefined"===typeof t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"===typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},i.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof i.Gradient||this.set(e,new i.Gradient(t))},_initPattern:function(t,e,r){!t||!t.source||t instanceof i.Pattern?r&&r():this.set(e,new i.Pattern(t,r))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,r=Math.atan2,n=Math.pow,a=Math.PI/180,s=Math.PI/2;i.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/s){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/s){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,r){var n=new i.Point(t.x-e.x,t.y-e.y),a=i.util.rotateVector(n,r);return new i.Point(a.x,a.y).addEquals(e)},rotateVector:function(t,e){var r=i.util.sin(e),n=i.util.cos(e);return{x:t.x*n-t.y*r,y:t.x*r+t.y*n}},transformPoint:function(t,e,r){return r?new i.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new i.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var r=0;r<t.length;r++)t[r]=i.util.transformPoint(t[r],e);var n=[t[0].x,t[1].x,t[2].x,t[3].x],a=i.util.array.min(n),s=i.util.array.max(n)-a,o=[t[0].y,t[1].y,t[2].y,t[3].y],l=i.util.array.min(o);return{left:a,top:l,width:s,height:i.util.array.max(o)-l}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0]],n=i.util.transformPoint({x:t[4],y:t[5]},r,!0);return r[4]=-n.x,r[5]=-n.y,r},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var r=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=i.Text.DEFAULT_SVG_FONT_SIZE),r[0]){case"mm":return n*i.DPI/25.4;case"cm":return n*i.DPI/2.54;case"in":return n*i.DPI;case"pt":return n*i.DPI/72;case"pc":return n*i.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=i.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),i.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(e){if(!e)return i;var r,n=e.split("."),a=n.length,s=t||i.window;for(r=0;r<a;++r)s=s[n[r]];return s},loadImage:function(t,e,r,n){if(t){var a=i.util.createImage(),s=function(){e&&e.call(r,a,!1),a=a.onload=a.onerror=null};a.onload=s,a.onerror=function(){i.log("Error loading "+a.src),e&&e.call(r,null,!0),a=a.onload=a.onerror=null},0!==t.indexOf("data")&&void 0!==n&&null!==n&&(a.crossOrigin=n),"data:image/svg"===t.substring(0,14)&&(a.onload=null,i.util.loadImageInDom(a,s)),a.src=t}else e&&e.call(r,t)},loadImageInDom:function(t,e){var r=i.document.createElement("div");r.style.width=r.style.height="1px",r.style.left=r.style.top="-100%",r.style.position="absolute",r.appendChild(t),i.document.querySelector("body").appendChild(r),t.onload=function(){e(),r.parentNode.removeChild(r),r=null}},enlivenObjects:function(t,e,r,n){var a=[],s=0,o=(t=t||[]).length;function l(){++s===o&&e&&e(a.filter((function(t){return t})))}o?t.forEach((function(t,e){t&&t.type?i.util.getKlass(t.type,r).fromObject(t,(function(r,i){i||(a[e]=r),n&&n(t,r,i),l()})):l()})):e&&e(a)},enlivenPatterns:function(t,e){function r(){++a===s&&e&&e(n)}var n=[],a=0,s=(t=t||[]).length;s?t.forEach((function(t,e){t&&t.source?new i.Pattern(t,(function(t){n[e]=t,r()})):(n[e]=t,r())})):e&&e(n)},groupSVGElements:function(t,e,r){var n;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),n=new i.Group(t,e),"undefined"!==typeof r&&(n.sourcePath=r),n)},populateWithProperties:function(t,e,r){if(r&&"[object Array]"===Object.prototype.toString.call(r))for(var n=0,i=r.length;n<i;n++)r[n]in t&&(e[r[n]]=t[r[n]])},drawDashedLine:function(t,n,i,a,s,o){var l=a-n,c=s-i,u=e(l*l+c*c),h=r(c,l),f=o.length,d=0,p=!0;for(t.save(),t.translate(n,i),t.moveTo(0,0),t.rotate(h),n=0;u>n;)(n+=o[d++%f])>u&&(n=u),t[p?"lineTo":"moveTo"](n,0),p=!p;t.restore()},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(t){var e=i.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,r){return t.toDataURL("image/"+e,r)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(t,e,r){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var i=r(t[1],t[0]),s=n(t[0],2)+n(t[1],2),o=e(s),l=(t[0]*t[3]-t[2]*t[1])/o,c=r(t[0]*t[2]+t[1]*t[3],s);return{angle:i/a,scaleX:o,scaleY:l,skewX:c/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return i.iMatrix.concat();var e=i.util.degreesToRadians(t.angle),r=i.util.cos(e),n=i.util.sin(e);return[r,n,-n,r,0,0]},calcDimensionsMatrix:function(t){var e="undefined"===typeof t.scaleX?1:t.scaleX,r="undefined"===typeof t.scaleY?1:t.scaleY,n=[t.flipX?-e:e,0,0,t.flipY?-r:r,0,0],a=i.util.multiplyTransformMatrices,s=i.util.degreesToRadians;return t.skewX&&(n=a(n,[1,0,Math.tan(s(t.skewX)),1],!0)),t.skewY&&(n=a(n,[1,Math.tan(s(t.skewY)),0,1],!0)),n},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],r=i.util.multiplyTransformMatrices;return t.angle&&(e=r(e,i.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=r(e,i.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,r,n){n>0&&(e>n?e-=n:e=0,r>n?r-=n:r=0);var i,a=!0,s=t.getImageData(e,r,2*n||1,2*n||1),o=s.data.length;for(i=3;i<o&&!1!==(a=s.data[i]<=0);i+=4);return s=null,a},parsePreserveAspectRatioAttribute:function(t){var e,r="meet",n=t.split(" ");return n&&n.length&&("meet"!==(r=n.pop())&&"slice"!==r?(e=r,r="meet"):n.length&&(e=n.pop())),{meetOrSlice:r,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?i.charWidthsCache[t]&&delete i.charWidthsCache[t]:i.charWidthsCache={}},limitDimsByArea:function(t,e){var r=Math.sqrt(e*t),n=Math.floor(e/r);return{x:Math.floor(r),y:n}},capValue:function(t,e,r){return Math.max(t,Math.min(e,r))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return i.util.toFixed(t,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var r=i.util.invertTransform(e),n=i.util.multiplyTransformMatrices(r,t.calcOwnMatrix());i.util.applyTransformToObject(t,n)},addTransformToObject:function(t,e){i.util.applyTransformToObject(t,i.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var r=i.util.qrDecompose(e),n=new i.Point(r.translateX,r.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(n,"center","center")},sizeAfterTransform:function(t,e,r){var n=t/2,a=e/2,s=[{x:-n,y:-a},{x:n,y:-a},{x:-n,y:a},{x:n,y:a}],o=i.util.calcDimensionsMatrix(r),l=i.util.makeBoundingBoxFromPoints(s,o);return{x:l.width,y:l.height}}}}(e),function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},r={m:"l",M:"L"};function n(t,e,r,n,a,s,o,l,c,u,h){var f=i.util.cos(t),d=i.util.sin(t),p=i.util.cos(e),g=i.util.sin(e),m=r*a*p-n*s*g+o,v=n*a*p+r*s*g+l;return["C",u+c*(-r*a*d-n*s*f),h+c*(-n*a*d+r*s*f),m+c*(r*a*g+n*s*p),v+c*(n*a*g-r*s*p),m,v]}function a(t,e,r,a,o,l,c){var u=Math.PI,h=c*u/180,f=i.util.sin(h),d=i.util.cos(h),p=0,g=0,m=-d*t*.5-f*e*.5,v=-d*e*.5+f*t*.5,y=(r=Math.abs(r))*r,b=(a=Math.abs(a))*a,_=v*v,T=m*m,E=y*b-y*_-b*T,x=0;if(E<0){var S=Math.sqrt(1-E/(y*b));r*=S,a*=S}else x=(o===l?-1:1)*Math.sqrt(E/(y*_+b*T));var w=x*r*v/a,C=-x*a*m/r,O=d*w-f*C+.5*t,k=f*w+d*C+.5*e,A=s(1,0,(m-w)/r,(v-C)/a),D=s((m-w)/r,(v-C)/a,(-m-w)/r,(-v-C)/a);0===l&&D>0?D-=2*u:1===l&&D<0&&(D+=2*u);for(var L=Math.ceil(Math.abs(D/u*2)),R=[],P=D/L,M=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2),I=A+P,F=0;F<L;F++)R[F]=n(A,I,d,f,r,a,O,k,M,p,g),p=R[F][5],g=R[F][6],A=I,I+=P;return R}function s(t,e,r,n){var i=Math.atan2(e,t),a=Math.atan2(n,r);return a>=i?a-i:2*Math.PI-(i-a)}function o(e,r,n,a,s,o,l,c){var u;if(i.cachesBoundsOfCurve&&(u=t.call(arguments),i.boundsOfCurveCache[u]))return i.boundsOfCurveCache[u];var h,f,d,p,g,m,v,y,b=Math.sqrt,_=Math.min,T=Math.max,E=Math.abs,x=[],S=[[],[]];f=6*e-12*n+6*s,h=-3*e+9*n-9*s+3*l,d=3*n-3*e;for(var w=0;w<2;++w)if(w>0&&(f=6*r-12*a+6*o,h=-3*r+9*a-9*o+3*c,d=3*a-3*r),E(h)<1e-12){if(E(f)<1e-12)continue;0<(p=-d/f)&&p<1&&x.push(p)}else(v=f*f-4*d*h)<0||(0<(g=(-f+(y=b(v)))/(2*h))&&g<1&&x.push(g),0<(m=(-f-y)/(2*h))&&m<1&&x.push(m));for(var C,O,k,A=x.length,D=A;A--;)C=(k=1-(p=x[A]))*k*k*e+3*k*k*p*n+3*k*p*p*s+p*p*p*l,S[0][A]=C,O=k*k*k*r+3*k*k*p*a+3*k*p*p*o+p*p*p*c,S[1][A]=O;S[0][D]=e,S[1][D]=r,S[0][D+1]=l,S[1][D+1]=c;var L=[{x:_.apply(null,S[0]),y:_.apply(null,S[1])},{x:T.apply(null,S[0]),y:T.apply(null,S[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[u]=L),L}function l(t,e,r){for(var n=r[1],i=r[2],s=r[3],o=r[4],l=r[5],c=a(r[6]-t,r[7]-e,n,i,o,l,s),u=0,h=c.length;u<h;u++)c[u][1]+=t,c[u][2]+=e,c[u][3]+=t,c[u][4]+=e,c[u][5]+=t,c[u][6]+=e;return c}function c(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}function u(t,e,r,n,i,a,s,o){return function(l){var c,u=(c=l)*c*c,h=function(t){return 3*t*t*(1-t)}(l),f=function(t){return 3*t*(1-t)*(1-t)}(l),d=function(t){return(1-t)*(1-t)*(1-t)}(l);return{x:s*u+i*h+r*f+t*d,y:o*u+a*h+n*f+e*d}}}function h(t,e,r,n,i,a,s,o){return function(l){var c=1-l,u=3*c*c*(r-t)+6*c*l*(i-r)+3*l*l*(s-i),h=3*c*c*(n-e)+6*c*l*(a-n)+3*l*l*(o-a);return Math.atan2(h,u)}}function f(t,e,r,n,i,a){return function(s){var o,l=(o=s)*o,c=function(t){return 2*t*(1-t)}(s),u=function(t){return(1-t)*(1-t)}(s);return{x:i*l+r*c+t*u,y:a*l+n*c+e*u}}}function d(t,e,r,n,i,a){return function(s){var o=1-s,l=2*o*(r-t)+2*s*(i-r),c=2*o*(n-e)+2*s*(a-n);return Math.atan2(c,l)}}function p(t,e,r){var n,i,a={x:e,y:r},s=0;for(i=1;i<=100;i+=1)n=t(i/100),s+=c(a.x,a.y,n.x,n.y),a=n;return s}function g(t,e){for(var r,n,i,a=0,s=0,o=t.iterator,l={x:t.x,y:t.y},u=.01,h=t.angleFinder;s<e&&a<=1&&u>1e-4;)r=o(a),i=a,(n=c(l.x,l.y,r.x,r.y))+s>e?a-=u/=2:(l=r,a+=u,s+=n);return r.angle=h(i),r}function m(t){for(var e,r,n,i,a=0,s=t.length,o=0,l=0,g=0,m=0,v=[],y=0;y<s;y++){switch(n={x:o,y:l,command:(e=t[y])[0]},e[0]){case"M":n.length=0,g=o=e[1],m=l=e[2];break;case"L":n.length=c(o,l,e[1],e[2]),o=e[1],l=e[2];break;case"C":r=u(o,l,e[1],e[2],e[3],e[4],e[5],e[6]),i=h(o,l,e[1],e[2],e[3],e[4],e[5],e[6]),n.iterator=r,n.angleFinder=i,n.length=p(r,o,l),o=e[5],l=e[6];break;case"Q":r=f(o,l,e[1],e[2],e[3],e[4]),i=d(o,l,e[1],e[2],e[3],e[4]),n.iterator=r,n.angleFinder=i,n.length=p(r,o,l),o=e[3],l=e[4];break;case"Z":case"z":n.destX=g,n.destY=m,n.length=c(o,l,g,m),o=g,l=m}a+=n.length,v.push(n)}return v.push({length:a,x:o,y:l}),v}i.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},i.util.parsePath=function(t){var n,a,s,o,l,c=[],u=[],h=i.rePathCommand,f="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",d="("+f+")"+i.commaWsp,p="([01])"+i.commaWsp+"?",g=new RegExp(d+"?"+d+"?"+d+p+p+d+"?("+f+")","g");if(!t||!t.match)return c;for(var m,v=0,y=(l=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;v<y;v++){o=(n=l[v]).slice(1).trim(),u.length=0;var b=n.charAt(0);if(m=[b],"a"===b.toLowerCase())for(var _;_=g.exec(o);)for(var T=1;T<_.length;T++)u.push(_[T]);else for(;s=h.exec(o);)u.push(s[0]);T=0;for(var E=u.length;T<E;T++)a=parseFloat(u[T]),isNaN(a)||m.push(a);var x=e[b.toLowerCase()],S=r[b]||b;if(m.length-1>x)for(var w=1,C=m.length;w<C;w+=x)c.push([b].concat(m.slice(w,w+x))),b=S;else c.push(m)}return c},i.util.makePathSimpler=function(t){var e,r,n,i,a,s,o=0,c=0,u=t.length,h=0,f=0,d=[];for(r=0;r<u;++r){switch(n=!1,(e=t[r].slice(0))[0]){case"l":e[0]="L",e[1]+=o,e[2]+=c;case"L":o=e[1],c=e[2];break;case"h":e[1]+=o;case"H":e[0]="L",e[2]=c,o=e[1];break;case"v":e[1]+=c;case"V":e[0]="L",c=e[1],e[1]=o,e[2]=c;break;case"m":e[0]="M",e[1]+=o,e[2]+=c;case"M":o=e[1],c=e[2],h=e[1],f=e[2];break;case"c":e[0]="C",e[1]+=o,e[2]+=c,e[3]+=o,e[4]+=c,e[5]+=o,e[6]+=c;case"C":a=e[3],s=e[4],o=e[5],c=e[6];break;case"s":e[0]="S",e[1]+=o,e[2]+=c,e[3]+=o,e[4]+=c;case"S":"C"===i?(a=2*o-a,s=2*c-s):(a=o,s=c),o=e[3],c=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=a,e[2]=s,a=e[3],s=e[4];break;case"q":e[0]="Q",e[1]+=o,e[2]+=c,e[3]+=o,e[4]+=c;case"Q":a=e[1],s=e[2],o=e[3],c=e[4];break;case"t":e[0]="T",e[1]+=o,e[2]+=c;case"T":"Q"===i?(a=2*o-a,s=2*c-s):(a=o,s=c),e[0]="Q",o=e[1],c=e[2],e[1]=a,e[2]=s,e[3]=o,e[4]=c;break;case"a":e[0]="A",e[6]+=o,e[7]+=c;case"A":n=!0,d=d.concat(l(o,c,e)),o=e[6],c=e[7];break;case"z":case"Z":o=h,c=f}n||d.push(e),i=e[0]}return d},i.util.getSmoothPathFromPoints=function(t,e){var r,n=[],a=new i.Point(t[0].x,t[0].y),s=new i.Point(t[1].x,t[1].y),o=t.length,l=1,c=0,u=o>2;for(e=e||0,u&&(l=t[2].x<s.x?-1:t[2].x===s.x?0:1,c=t[2].y<s.y?-1:t[2].y===s.y?0:1),n.push(["M",a.x-l*e,a.y-c*e]),r=1;r<o;r++){if(!a.eq(s)){var h=a.midPointFrom(s);n.push(["Q",a.x,a.y,h.x,h.y])}a=t[r],r+1<t.length&&(s=t[r+1])}return u&&(l=a.x>t[r-2].x?1:a.x===t[r-2].x?0:-1,c=a.y>t[r-2].y?1:a.y===t[r-2].y?0:-1),n.push(["L",a.x+l*e,a.y+c*e]),n},i.util.getPathSegmentsInfo=m,i.util.getBoundsOfCurve=o,i.util.getPointOnPath=function(t,e,r){r||(r=m(t));for(var n=0;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;var a,s=r[n],o=e/s.length,l=s.command,c=t[n];switch(l){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return(a=new i.Point(s.x,s.y).lerp(new i.Point(s.destX,s.destY),o)).angle=Math.atan2(s.destY-s.y,s.destX-s.x),a;case"L":return(a=new i.Point(s.x,s.y).lerp(new i.Point(c[1],c[2]),o)).angle=Math.atan2(c[2]-s.y,c[1]-s.x),a;case"C":case"Q":return g(s,e)}},i.util.transformPath=function(t,e,r){return r&&(e=i.util.multiplyTransformMatrices(e,[1,0,0,1,-r.x,-r.y])),t.map((function(t){for(var r=t.slice(0),n={},a=1;a<t.length-1;a+=2)n.x=t[a],n.y=t[a+1],n=i.util.transformPoint(n,e),r[a]=n.x,r[a+1]=n.y;return r}))},i.util.fromArcToBeizers=l,i.util.getBoundsOfArc=function(t,e,r,n,i,s,l,c,u){for(var h,f=0,d=0,p=[],g=a(c-t,u-e,r,n,s,l,i),m=0,v=g.length;m<v;m++)h=o(f,d,g[m][1],g[m][2],g[m][3],g[m][4],g[m][5],g[m][6]),p.push({x:h[0].x+t,y:h[0].y+e}),p.push({x:h[1].x+t,y:h[1].y+e}),f=g[m][5],d=g[m][6];return p},i.util.drawArc=function(t,e,r,n){l(e,r,n=n.slice(0).unshift("X")).forEach((function(e){t.bezierCurveTo.apply(t,e.slice(1))}))}}(),function(){var t=Array.prototype.slice;function e(t,e,r){if(t&&0!==t.length){var n=t.length-1,i=e?t[n][e]:t[n];if(e)for(;n--;)r(t[n][e],i)&&(i=t[n][e]);else for(;n--;)r(t[n],i)&&(i=t[n]);return i}}i.util.array={fill:function(t,e){for(var r=t.length;r--;)t[r]=e;return t},invoke:function(e,r){for(var n=t.call(arguments,2),i=[],a=0,s=e.length;a<s;a++)i[a]=n.length?e[a][r].apply(e[a],n):e[a][r].call(e[a]);return i},min:function(t,r){return e(t,r,(function(t,e){return t<e}))},max:function(t,r){return e(t,r,(function(t,e){return t>=e}))}}}(),function(){function t(e,r,n){if(n)if(!i.isLikelyNode&&r instanceof Element)e=r;else if(r instanceof Array){e=[];for(var a=0,s=r.length;a<s;a++)e[a]=t({},r[a],n)}else if(r&&"object"===typeof r)for(var o in r)"canvas"===o||"group"===o?e[o]=null:r.hasOwnProperty(o)&&(e[o]=t({},r[o],n));else e=r;else for(var o in r)e[o]=r[o];return e}i.util.object={extend:t,clone:function(e,r){return t({},e,r)}},i.util.object.extend(i.util,i.Observable)}(),function(){function t(t,e){var r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var i=t.charCodeAt(e-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var r,n=0,i=[];for(n=0;n<e.length;n++)!1!==(r=t(e,n))&&i.push(r);return i}}}(),function(){var t=Array.prototype.slice,e=function(){},r=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),n=function(t,e,n){for(var i in e)i in t.prototype&&"function"===typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?t.prototype[i]=function(t){return function(){var r=this.constructor.superclass;this.constructor.superclass=n;var i=e[t].apply(this,arguments);if(this.constructor.superclass=r,"initialize"!==t)return i}}(i):t.prototype[i]=e[i],r&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function a(){}function s(e){for(var r=null,n=this;n.constructor.superclass;){var i=n.constructor.superclass.prototype[e];if(n[e]!==i){r=i;break}n=n.constructor.superclass.prototype}return r?arguments.length>1?r.apply(this,t.call(arguments,1)):r.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}i.util.createClass=function(){var r=null,i=t.call(arguments,0);function o(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(r=i.shift()),o.superclass=r,o.subclasses=[],r&&(a.prototype=r.prototype,o.prototype=new a,r.subclasses.push(o));for(var l=0,c=i.length;l<c;l++)n(o,i[l],r);return o.prototype.initialize||(o.prototype.initialize=e),o.prototype.constructor=o,o.prototype.callSuper=s,o}}(),function(){var t=!!i.document.createElement("div").attachEvent,e=["touchstart","touchmove","touchend"];i.util.addListener=function(e,r,n,i){e&&e.addEventListener(r,n,!t&&i)},i.util.removeListener=function(e,r,n,i){e&&e.removeEventListener(r,n,!t&&i)},i.util.getPointer=function(t){var e=t.target,r=i.util.getScrollLeftTop(e),n=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:n.clientX+r.left,y:n.clientY+r.top}},i.util.isTouchEvent=function(t){return e.indexOf(t.type)>-1||"touch"===t.pointerType}}(),function(){var t=i.document.createElement("div"),e="string"===typeof t.style.opacity,r="string"===typeof t.style.filter,n=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(t){return t};e?a=function(t,e){return t.style.opacity=e,t}:r&&(a=function(t,e){var r=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(r.zoom=1),n.test(r.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",r.filter=r.filter.replace(n,e)):r.filter+=" alpha(opacity="+100*e+")",t}),i.util.setStyle=function(t,e){var r=t.style;if(!r)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?a(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e){if("opacity"===n)a(t,e[n]);else r["float"===n||"cssFloat"===n?"undefined"===typeof r.styleFloat?"cssFloat":"styleFloat":n]=e[n]}return t}}(),function(){var t=Array.prototype.slice;var e,r,n=function(e){return t.call(e,0)};try{e=n(i.document.childNodes)instanceof Array}catch(o){}function a(t,e){var r=i.document.createElement(t);for(var n in e)"class"===n?r.className=e[n]:"for"===n?r.htmlFor=e[n]:r.setAttribute(n,e[n]);return r}function s(t){for(var e=0,r=0,n=i.document.documentElement,a=i.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===i.document?(e=a.scrollLeft||n.scrollLeft||0,r=a.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,r+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:r}}e||(n=function(t){for(var e=new Array(t.length),r=t.length;r--;)e[r]=t[r];return e}),r=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(t,e){var r=i.document.defaultView.getComputedStyle(t,null);return r?r[e]:void 0}:function(t,e){var r=t.style[e];return!r&&t.currentStyle&&(r=t.currentStyle[e]),r},function(){var t=i.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";i.util.makeElementUnselectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=i.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t},i.util.makeElementSelectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}}(),i.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},i.util.getById=function(t){return"string"===typeof t?i.document.getElementById(t):t},i.util.toArray=n,i.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},i.util.makeElement=a,i.util.wrapElement=function(t,e,r){return"string"===typeof e&&(e=a(e,r)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},i.util.getScrollLeftTop=s,i.util.getElementOffset=function(t){var e,n,i=t&&t.ownerDocument,a={left:0,top:0},o={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return o;for(var c in l)o[l[c]]+=parseInt(r(t,c),10)||0;return e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(a=t.getBoundingClientRect()),n=s(t),{left:a.left+n.left-(e.clientLeft||0)+o.left,top:a.top+n.top-(e.clientTop||0)+o.top}},i.util.getNodeCanvas=function(t){var e=i.jsdomImplForWrapper(t);return e._canvas||e._image},i.util.cleanUpJsdomNode=function(t){if(i.isLikelyNode){var e=i.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}i.util.request=function(e,r){r||(r={});var n=r.method?r.method.toUpperCase():"GET",a=r.onComplete||function(){},s=new i.window.XMLHttpRequest,o=r.body||r.parameters;return s.onreadystatechange=function(){4===s.readyState&&(a(s),s.onreadystatechange=t)},"GET"===n&&(o=null,"string"===typeof r.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,r.parameters))),s.open(n,e,!0),"POST"!==n&&"PUT"!==n||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(o),s}}(),i.log=console.log,i.warn=console.warn,function(){function t(){return!1}function e(t,e,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+e}var r=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(t){return i.window.setTimeout(t,1e3/60)},n=i.window.cancelAnimationFrame||i.window.clearTimeout;function a(){return r.apply(i.window,arguments)}i.util.animate=function(r){var n=!1;return a((function(i){r||(r={});var s,o=i||+new Date,l=r.duration||500,c=o+l,u=r.onChange||t,h=r.abort||t,f=r.onComplete||t,d=r.easing||e,p="startValue"in r?r.startValue:0,g="endValue"in r?r.endValue:100,m=r.byValue||g-p;r.onStart&&r.onStart(),function t(e){var r=(s=e||+new Date)>c?l:s-o,i=r/l,v=d(r,p,m,l),y=Math.abs((v-p)/m);if(!n){if(!h(v,y,i))return s>c?(u(g,1,1),void f(g,1,1)):(u(v,y,i),void a(t));f(g,1,1)}}(o)})),function(){n=!0}},i.util.requestAnimFrame=a,i.util.cancelAnimFrame=function(){return n.apply(i.window,arguments)}}(),function(){function t(t,e,r){var n="rgba("+parseInt(t[0]+r*(e[0]-t[0]),10)+","+parseInt(t[1]+r*(e[1]-t[1]),10)+","+parseInt(t[2]+r*(e[2]-t[2]),10);return n+=","+(t&&e?parseFloat(t[3]+r*(e[3]-t[3])):1),n+=")"}i.util.animateColor=function(e,r,n,a){var s=new i.Color(e).getSource(),o=new i.Color(r).getSource(),l=a.onComplete,c=a.onChange;return a=a||{},i.util.animate(i.util.object.extend(a,{duration:n||500,startValue:s,endValue:o,byValue:o,easing:function(e,r,n,i){return t(r,n,a.colorEasing?a.colorEasing(e,i):1-Math.cos(e/i*(Math.PI/2)))},onComplete:function(e,r,n){if(l)return l(t(o,o,0),r,n)},onChange:function(e,r,n){if(c){if(Array.isArray(e))return c(t(e,e,0),r,n);c(e,r,n)}}}))}}(),function(){function t(t,e,r,n){return t<Math.abs(e)?(t=e,n=r/4):n=0===e&&0===t?r/(2*Math.PI)*Math.asin(1):r/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:r,s:n}}function e(t,e,r){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*r-t.s)*(2*Math.PI)/t.p)}function r(t,e,r,i){return r-n(i-t,0,r,i)+e}function n(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e}i.util.ease={easeInQuad:function(t,e,r,n){return r*(t/=n)*t+e},easeOutQuad:function(t,e,r,n){return-r*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,r,n){return r*(t/=n)*t*t+e},easeOutCubic:function(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,r,n){return r*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,r,n){return-r*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,r,n){return r*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+e},easeOutSine:function(t,e,r,n){return r*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,r,n){return 0===t?e:r*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,r,n){return t===n?e+r:r*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,r,n){return 0===t?e:t===n?e+r:(t/=n/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,r,n){return-r*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,r,n){return r*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(r,n,i,a){var s=0;return 0===r?n:1===(r/=a)?n+i:(s||(s=.3*a),-e(t(i,i,s,1.70158),r,a)+n)},easeOutElastic:function(e,r,n,i){var a=0;if(0===e)return r;if(1===(e/=i))return r+n;a||(a=.3*i);var s=t(n,n,a,1.70158);return s.a*Math.pow(2,-10*e)*Math.sin((e*i-s.s)*(2*Math.PI)/s.p)+s.c+r},easeInOutElastic:function(r,n,i,a){var s=0;if(0===r)return n;if(2===(r/=a/2))return n+i;s||(s=a*(.3*1.5));var o=t(i,i,s,1.70158);return r<1?-.5*e(o,r,a)+n:o.a*Math.pow(2,-10*(r-=1))*Math.sin((r*a-o.s)*(2*Math.PI)/o.p)*.5+o.c+n},easeInBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:r,easeOutBounce:n,easeInOutBounce:function(t,e,i,a){return t<a/2?.5*r(2*t,0,i,a)+e:.5*n(2*t-a,0,i,a)+.5*i+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.util.object.clone,i=e.util.toFixed,a=e.util.parseUnit,s=e.util.multiplyTransformMatrices,o={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function h(t){return t in o?o[t]:t}function f(t,r,n,i){var o,l="[object Array]"===Object.prototype.toString.call(r);if("fill"!==t&&"stroke"!==t||"none"!==r){if("strokeUniform"===t)return"non-scaling-stroke"===r;if("strokeDashArray"===t)r="none"===r?null:r.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)r=n&&n.transformMatrix?s(n.transformMatrix,e.parseTransformAttribute(r)):e.parseTransformAttribute(r);else if("visible"===t)r="none"!==r&&"hidden"!==r,n&&!1===n.visible&&(r=!1);else if("opacity"===t)r=parseFloat(r),n&&"undefined"!==typeof n.opacity&&(r*=n.opacity);else if("textAnchor"===t)r="start"===r?"left":"end"===r?"right":"center";else if("charSpacing"===t)o=a(r,i)/i*1e3;else if("paintFirst"===t){var c=r.indexOf("fill"),u=r.indexOf("stroke");r="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(r="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return r;if("imageSmoothing"===t)return"optimizeQuality"===r;o=l?r.map(a):a(r,i)}}else r="";return!l&&isNaN(o)?r:o}function d(t){return new RegExp("^("+t.join("|")+")\\b","i")}function p(t,e){var r,n,i,a,s=[];for(i=0,a=e.length;i<a;i++)r=e[i],n=t.getElementsByTagName(r),s=s.concat(Array.prototype.slice.call(n));return s}function g(t,e){var r,n=!0;return(r=m(t,e.pop()))&&e.length&&(n=function(t,e){var r,n=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(r=e.pop()),n=m(t=t.parentNode,r);return 0===e.length}(t,e)),r&&n&&0===e.length}function m(t,e){var r,n,i=t.nodeName,a=t.getAttribute("class"),s=t.getAttribute("id");if(r=new RegExp("^"+i,"i"),e=e.replace(r,""),s&&e.length&&(r=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(r,"")),a&&e.length)for(n=(a=a.split(" ")).length;n--;)r=new RegExp("\\."+a[n]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(r,"");return 0===e.length}function v(t,e){var r;if(t.getElementById&&(r=t.getElementById(e)),r)return r;var n,i,a,s=t.getElementsByTagName("*");for(i=0,a=s.length;i<a;i++)if(e===(n=s[i]).getAttribute("id"))return n}e.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,r,n){t[n]=Math.tan(e.util.degreesToRadians(r[0]))}var r=e.iMatrix,n=e.reNum,i=e.commaWsp,a="(?:"+("(?:(matrix)\\s*\\(\\s*("+n+")"+i+"("+n+")"+i+"("+n+")"+i+"("+n+")"+i+"("+n+")"+i+"("+n+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+n+")(?:"+i+"("+n+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+n+")(?:"+i+"("+n+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+n+")(?:"+i+"("+n+")"+i+"("+n+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+n+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+n+")\\s*\\))")+")",s=new RegExp("^\\s*(?:"+("(?:"+a+"(?:"+i+"*"+a+")*)")+"?)\\s*$"),o=new RegExp(a,"g");return function(n){var i=r.concat(),l=[];if(!n||n&&!s.test(n))return i;n.replace(o,(function(n){var s=new RegExp(a).exec(n).filter((function(t){return!!t})),o=s[1],c=s.slice(2).map(parseFloat);switch(o){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(i,c);break;case"rotate":c[0]=e.util.degreesToRadians(c[0]),function(t,r){var n=e.util.cos(r[0]),i=e.util.sin(r[0]),a=0,s=0;3===r.length&&(a=r[1],s=r[2]),t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=a-(n*a-i*s),t[5]=s-(i*a+n*s)}(i,c);break;case"scale":!function(t,e){var r=e[0],n=2===e.length?e[1]:e[0];t[0]=r,t[3]=n}(i,c);break;case"skewX":t(i,c,2);break;case"skewY":t(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=r.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=e.util.multiplyTransformMatrices(c,l[0]);return c}}();var y=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function b(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var r,n,i,s,o,l,c=t.getAttribute("viewBox"),u=1,h=1,f=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,g=t.getAttribute("y")||0,m=t.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(y)),b=!f||!d||"100%"===f||"100%"===d,_=v&&b,T={},E="",x=0,S=0;if(T.width=0,T.height=0,T.toBeParsed=_,v&&(p||g)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(E=" translate("+a(p)+" "+a(g)+") ",o=(t.getAttribute("transform")||"")+E,t.setAttribute("transform",o),t.removeAttribute("x"),t.removeAttribute("y")),_)return T;if(v)return T.width=a(f),T.height=a(d),T;if(r=-parseFloat(c[1]),n=-parseFloat(c[2]),i=parseFloat(c[3]),s=parseFloat(c[4]),T.minX=r,T.minY=n,T.viewBoxWidth=i,T.viewBoxHeight=s,b?(T.width=i,T.height=s):(T.width=a(f),T.height=a(d),u=T.width/i,h=T.height/s),"none"!==(m=e.util.parsePreserveAspectRatioAttribute(m)).alignX&&("meet"===m.meetOrSlice&&(h=u=u>h?h:u),"slice"===m.meetOrSlice&&(h=u=u>h?u:h),x=T.width-i*u,S=T.height-s*u,"Mid"===m.alignX&&(x/=2),"Mid"===m.alignY&&(S/=2),"Min"===m.alignX&&(x=0),"Min"===m.alignY&&(S=0)),1===u&&1===h&&0===r&&0===n&&0===p&&0===g)return T;if((p||g)&&"#document"!==t.parentNode.nodeName&&(E=" translate("+a(p)+" "+a(g)+") "),o=E+" matrix("+u+" 0 0 "+h+" "+(r*u+x)+" "+(n*h+S)+") ","svg"===t.nodeName){for(l=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)l.appendChild(t.firstChild);t.appendChild(l)}else(l=t).removeAttribute("x"),l.removeAttribute("y"),o=l.getAttribute("transform")+o;return l.setAttribute("transform",o),T}function _(t,e){var r="xlink:href",n=v(t,e.getAttribute(r).substr(1));if(n&&n.getAttribute(r)&&_(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var i=n.cloneNode(!0);i.firstChild;)e.appendChild(i.firstChild);e.removeAttribute(r)}e.parseSVGDocument=function(t,r,i,a){if(t){!function(t){for(var r=p(t,["use","svg:use"]),n=0;r.length&&n<r.length;){var i=r[n],a=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===a)return;var s,o,l,c,u=a.substr(1),h=i.getAttribute("x")||0,f=i.getAttribute("y")||0,d=v(t,u).cloneNode(!0),g=(d.getAttribute("transform")||"")+" translate("+h+", "+f+")",m=r.length,y=e.svgNS;if(b(d),/^svg$/i.test(d.nodeName)){var _=d.ownerDocument.createElementNS(y,"g");for(o=0,c=(l=d.attributes).length;o<c;o++)s=l.item(o),_.setAttributeNS(y,s.nodeName,s.nodeValue);for(;d.firstChild;)_.appendChild(d.firstChild);d=_}for(o=0,c=(l=i.attributes).length;o<c;o++)"x"!==(s=l.item(o)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?g=s.nodeValue+" "+g:d.setAttribute(s.nodeName,s.nodeValue));d.setAttribute("transform",g),d.setAttribute("instantiated_by_use","1"),d.removeAttribute("id"),i.parentNode.replaceChild(d,i),r.length===m&&n++}}(t);var s,o,l=e.Object.__uid++,c=b(t),u=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=a&&a.crossOrigin,c.svgUid=l,0===u.length&&e.isLikelyNode){var h=[];for(s=0,o=(u=t.selectNodes('//*[name(.)!="svg"]')).length;s<o;s++)h[s]=u[s];u=h}var f=u.filter((function(t){return b(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!f||f&&!f.length)r&&r([],{});else{var d={};u.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var r=t.getAttribute("id");d[r]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[l]=e.getGradientDefs(t),e.cssRules[l]=e.getCSSRules(t),e.clipPaths[l]=d,e.parseElements(f,(function(t,n){r&&(r(t,c,n,u),delete e.gradientDefs[l],delete e.cssRules[l],delete e.clipPaths[l])}),n(c),i,a)}}};var T=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");r(e,{parseFontDeclaration:function(t,e){var r=t.match(T);if(r){var n=r[1],i=r[3],s=r[4],o=r[5],l=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=a(s)),l&&(e.fontFamily=l),o&&(e.lineHeight="normal"===o?1:o)}},getGradientDefs:function(t){var e,r=p(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),n=0,i={};for(n=r.length;n--;)(e=r[n]).getAttribute("xlink:href")&&_(t,e),i[e.getAttribute("id")]=e;return i},parseAttributes:function(t,n,s){if(t){var o,d,p,m={};"undefined"===typeof s&&(s=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(m=e.parseAttributes(t.parentNode,n,s));var v=n.reduce((function(e,r){return(o=t.getAttribute(r))&&(e[r]=o),e}),{}),y=r(function(t,r){var n={};for(var i in e.cssRules[r])if(g(t,i.split(" ")))for(var a in e.cssRules[r][i])n[a]=e.cssRules[r][i][a];return n}(t,s),e.parseStyleAttribute(t));v=r(v,y),y[u]&&t.setAttribute(u,y[u]),d=p=m.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=d=a(v[c],p));var b,_,T={};for(var E in v)_=f(b=h(E),v[E],m,d),T[b]=_;T&&T.font&&e.parseFontDeclaration(T.font,T);var x=r(m,T);return e.svgValidParentsRegEx.test(t.nodeName)?x:function(t){for(var r in l)if("undefined"!==typeof t[l[r]]&&""!==t[r]){if("undefined"===typeof t[r]){if(!e.Object.prototype[r])continue;t[r]=e.Object.prototype[r]}if(0!==t[r].indexOf("url(")){var n=new e.Color(t[r]);t[r]=n.setAlpha(i(n.getAlpha()*t[l[r]],2)).toRgba()}}return t}(x)}},parseElements:function(t,r,n,i,a){new e.ElementsParser(t,r,n,i,a).parse()},parseStyleAttribute:function(t){var e={},r=t.getAttribute("style");return r?("string"===typeof r?function(t,e){var r,n;t.replace(/;\s*$/,"").split(";").forEach((function(t){var i=t.split(":");r=i[0].trim().toLowerCase(),n=i[1].trim(),e[r]=n}))}(r,e):function(t,e){var r,n;for(var i in t)"undefined"!==typeof t[i]&&(r=i.toLowerCase(),n=t[i],e[r]=n)}(r,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,r,n=[];for(e=0,r=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<r;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){var r,n,i=t.getElementsByTagName("style"),a={};for(r=0,n=i.length;r<n;r++){var s=i[r].textContent;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),s={},o=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(r=0,n=o.length;r<n;r++){var l=o[r].split(/\s*:\s*/),c=l[0],u=l[1];s[c]=u}(t=i[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(a[t]?e.util.object.extend(a[t],s):a[t]=e.util.object.clone(s))}))}))}return a},loadSVGFromURL:function(t,r,n,i){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var a=t.responseXML;if(!a||!a.documentElement)return r&&r(null),!1;e.parseSVGDocument(a.documentElement,(function(t,e,n,i){r&&r(t,e,n,i)}),n,i)}})},loadSVGFromString:function(t,r,n,i){var a=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(a.documentElement,(function(t,e,n,i){r(t,e,n,i)}),n,i)}})}(e),i.ElementsParser=function(t,e,r,n,i,a){this.elements=t,this.callback=e,this.options=r,this.reviver=n,this.svgUid=r&&r.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},(n=i.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},n.createObjects=function(){var t=this;this.elements.forEach((function(e,r){e.setAttribute("svgUid",t.svgUid),t.createObject(e,r)}))},n.findTag=function(t){return i[i.util.string.capitalize(t.tagName.replace("svg:",""))]},n.createObject=function(t,e){var r=this.findTag(t);if(r&&r.fromElement)try{r.fromElement(t,this.createCallback(e,t),this.options)}catch(n){i.log(n)}else this.checkIfDone()},n.createCallback=function(t,e){var r=this;return function(n){var a;r.resolveGradient(n,e,"fill"),r.resolveGradient(n,e,"stroke"),n instanceof i.Image&&n._originalElement&&(a=n.parsePreserveAspectRatioAttribute(e)),n._removeTransformMatrix(a),r.resolveClipPath(n,e),r.reviver&&r.reviver(e,n),r.instances[t]=n,r.checkIfDone()}},n.extractPropertyDefinition=function(t,e,r){var n=t[e],a=this.regexUrl;if(a.test(n)){a.lastIndex=0;var s=a.exec(n)[1];return a.lastIndex=0,i[r][this.svgUid][s]}},n.resolveGradient=function(t,e,r){var n=this.extractPropertyDefinition(t,r,"gradientDefs");if(n){var a=e.getAttribute(r+"-opacity"),s=i.Gradient.fromElement(n,t,a,this.options);t.set(r,s)}},n.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},n.resolveClipPath=function(t,e){var r,n,a,s,o=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(o){a=[],n=i.util.invertTransform(t.calcTransformMatrix());for(var l=o[0].parentNode,c=e;c.parentNode&&c.getAttribute("clip-path")!==t.clipPath;)c=c.parentNode;c.parentNode.appendChild(l);for(var u=0;u<o.length;u++)r=o[u],this.findTag(r).fromElement(r,this.createClipPathCallback(t,a),this.options);o=1===a.length?a[0]:new i.Group(a),s=i.util.multiplyTransformMatrices(n,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,c);var h=i.util.qrDecompose(s);o.flipX=!1,o.flipY=!1,o.set("scaleX",h.scaleX),o.set("scaleY",h.scaleY),o.angle=h.angle,o.skewX=h.skewX,o.skewY=0,o.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),t.clipPath=o}else delete t.clipPath},n.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=r,r.prototype={type:"point",constructor:r,add:function(t){return new r(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new r(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new r(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new r(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new r(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new r(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new r(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new r(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new r(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,r=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=r},clone:function(){return new r(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=r,e.Intersection.prototype={constructor:r,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,i,a){var s,o=(a.x-i.x)*(t.y-i.y)-(a.y-i.y)*(t.x-i.x),l=(n.x-t.x)*(t.y-i.y)-(n.y-t.y)*(t.x-i.x),c=(a.y-i.y)*(n.x-t.x)-(a.x-i.x)*(n.y-t.y);if(0!==c){var u=o/c,h=l/c;0<=u&&u<=1&&0<=h&&h<=1?(s=new r("Intersection")).appendPoint(new e.Point(t.x+u*(n.x-t.x),t.y+u*(n.y-t.y))):s=new r}else s=new r(0===o||0===l?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,n){var i,a,s,o,l=new r,c=n.length;for(o=0;o<c;o++)i=n[o],a=n[(o+1)%c],s=r.intersectLineLine(t,e,i,a),l.appendPoints(s.points);return l.points.length>0&&(l.status="Intersection"),l},e.Intersection.intersectPolygonPolygon=function(t,e){var n,i=new r,a=t.length;for(n=0;n<a;n++){var s=t[n],o=t[(n+1)%a],l=r.intersectLinePolygon(s,o,e);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},e.Intersection.intersectPolygonRectangle=function(t,n,i){var a=n.min(i),s=n.max(i),o=new e.Point(s.x,a.y),l=new e.Point(a.x,s.y),c=r.intersectLinePolygon(a,o,t),u=r.intersectLinePolygon(o,s,t),h=r.intersectLinePolygon(s,l,t),f=r.intersectLinePolygon(l,a,t),d=new r;return d.appendPoints(c.points),d.appendPoints(u.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=r,e.Color.prototype={_tryParsingColor:function(t){var e;t in r.colorNameMap&&(t=r.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=r.sourceFromHex(t)),e||(e=r.sourceFromRgb(t)),e||(e=r.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,r,n){t/=255,r/=255,n/=255;var i,a,s,o=e.util.array.max([t,r,n]),l=e.util.array.min([t,r,n]);if(s=(o+l)/2,o===l)i=a=0;else{var c=o-l;switch(a=s>.5?c/(2-o-l):c/(o+l),o){case t:i=(r-n)/c+(r<n?6:0);break;case r:i=(n-t)/c+2;break;case n:i=(t-r)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,r,n=this.getSource();return t=1===(t=n[0].toString(16)).length?"0"+t:t,e=1===(e=n[1].toString(16)).length?"0"+e:e,r=1===(r=n[2].toString(16)).length?"0"+r:r,t.toUpperCase()+e.toUpperCase()+r.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),r=t[3];return this.setSource([e,e,e,r]),this},toBlackWhite:function(t){var e=this.getSource(),r=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,r=Number(r)<Number(t)?0:255,this.setSource([r,r,r,n]),this},overlayWith:function(t){t instanceof r||(t=new r(t));var e,n=[],i=this.getAlpha(),a=this.getSource(),s=t.getSource();for(e=0;e<3;e++)n.push(Math.round(.5*a[e]+.5*s[e]));return n[3]=i,this.setSource(n),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return r.fromSource(r.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(r.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),i=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),a=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(i,10),parseInt(a,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=r.fromRgb,e.Color.fromHsl=function(t){return r.fromSource(r.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(r.reHSLa);if(e){var i,a,s,o=(parseFloat(e[1])%360+360)%360/360,l=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===l)i=a=s=c;else{var u=c<=.5?c*(l+1):c+l-c*l,h=2*c-u;i=n(h,u,o+1/3),a=n(h,u,o),s=n(h,u,o-1/3)}return[Math.round(255*i),Math.round(255*a),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=r.fromHsl,e.Color.fromHex=function(t){return r.fromSource(r.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(r.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,i=8===e.length||4===e.length,a=n?e.charAt(0)+e.charAt(0):e.substring(0,2),s=n?e.charAt(1)+e.charAt(1):e.substring(2,4),o=n?e.charAt(2)+e.charAt(2):e.substring(4,6),l=i?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(a,16),parseInt(s,16),parseInt(o,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new r;return e.setSource(t),e})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=["e","se","s","sw","w","nw","n","ne","e"],n=["ns","nesw","ew","nwse"],i={},a="left",s="top",o="right",l="bottom",c="center",u={top:l,bottom:s,left:o,right:a,center:c},h=e.util.radiansToDegrees,f=Math.sign||function(t){return(t>0)-(t<0)||+t};function d(t,e){var r=t.angle+h(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function p(t,r){var n=r.transform.target,i=n.canvas,a=e.util.object.clone(r);a.target=n,i&&i.fire("object:"+t,a),n.fire(t,r)}function g(t,e){var r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function m(t){return t.originX===c&&t.originY===c}function v(t,e,r){var n=t.lockScalingX,i=t.lockScalingY;return!(!n||!i)||(!(e||!n&&!i||!r)||(!(!n||"x"!==e)||!(!i||"y"!==e)))}function y(t,e,r,n){return{e:t,transform:e,pointer:{x:r,y:n}}}function b(t){return function(e,r,n,i){var a=r.target,s=a.getCenterPoint(),o=a.translateToOriginPoint(s,r.originX,r.originY),l=t(e,r,n,i);return a.setPositionByOrigin(o,r.originX,r.originY),l}}function _(t,e){return function(r,n,i,a){var s=e(r,n,i,a);return s&&p(t,y(r,n,i,a)),s}}function T(t,r,n,i,a){var s=t.target,o=s.controls[t.corner],l=s.canvas.getZoom(),c=s.padding/l,u=s.toLocalPoint(new e.Point(i,a),r,n);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=o.offsetX,u.y-=o.offsetY,u}function E(t){return t.flipX!==t.flipY}function x(t,e,r,n,i){if(0!==t[e]){var a=i/t._getTransformedDimensions()[n]*t[r];t.set(r,a)}}function S(t,e,r,n){var i,c=e.target,u=c._getTransformedDimensions(0,c.skewY),f=T(e,e.originX,e.originY,r,n),d=Math.abs(2*f.x)-u.x,p=c.skewX;d<2?i=0:(i=h(Math.atan2(d/c.scaleX,u.y/c.scaleY)),e.originX===a&&e.originY===l&&(i=-i),e.originX===o&&e.originY===s&&(i=-i),E(c)&&(i=-i));var g=p!==i;if(g){var m=c._getTransformedDimensions().y;c.set("skewX",i),x(c,"skewY","scaleY","y",m)}return g}function w(t,e,r,n){var i,c=e.target,u=c._getTransformedDimensions(c.skewX,0),f=T(e,e.originX,e.originY,r,n),d=Math.abs(2*f.y)-u.y,p=c.skewY;d<2?i=0:(i=h(Math.atan2(d/c.scaleY,u.x/c.scaleX)),e.originX===a&&e.originY===l&&(i=-i),e.originX===o&&e.originY===s&&(i=-i),E(c)&&(i=-i));var g=p!==i;if(g){var m=c._getTransformedDimensions().x;c.set("skewY",i),x(c,"skewX","scaleX","x",m)}return g}function C(t,e,r,n,i){i=i||{};var a,s,o,l,c,h,d=e.target,p=d.lockScalingX,y=d.lockScalingY,b=i.by,_=g(t,d),E=v(d,b,_),x=e.gestureScale;if(E)return!1;if(x)s=e.scaleX*x,o=e.scaleY*x;else{if(a=T(e,e.originX,e.originY,r,n),c="y"!==b?f(a.x):1,h="x"!==b?f(a.y):1,e.signX||(e.signX=c),e.signY||(e.signY=h),d.lockScalingFlip&&(e.signX!==c||e.signY!==h))return!1;if(l=d._getTransformedDimensions(),_&&!b){var S=Math.abs(a.x)+Math.abs(a.y),w=e.original,C=S/(Math.abs(l.x*w.scaleX/d.scaleX)+Math.abs(l.y*w.scaleY/d.scaleY));s=w.scaleX*C,o=w.scaleY*C}else s=Math.abs(a.x*d.scaleX/l.x),o=Math.abs(a.y*d.scaleY/l.y);m(e)&&(s*=2,o*=2),e.signX!==c&&"y"!==b&&(e.originX=u[e.originX],s*=-1,e.signX=c),e.signY!==h&&"x"!==b&&(e.originY=u[e.originY],o*=-1,e.signY=h)}var O=d.scaleX,k=d.scaleY;return b?("x"===b&&d.set("scaleX",s),"y"===b&&d.set("scaleY",o)):(!p&&d.set("scaleX",s),!y&&d.set("scaleY",o)),O!==d.scaleX||k!==d.scaleY}i.scaleCursorStyleHandler=function(t,e,n){var i=g(t,n),a="";if(0!==e.x&&0===e.y?a="x":0===e.x&&0!==e.y&&(a="y"),v(n,a,i))return"not-allowed";var s=d(n,e);return r[s]+"-resize"},i.skewCursorStyleHandler=function(t,e,r){var i="not-allowed";if(0!==e.x&&r.lockSkewingY)return i;if(0!==e.y&&r.lockSkewingX)return i;var a=d(r,e)%4;return n[a]+"-resize"},i.scaleSkewCursorStyleHandler=function(t,e,r){return t[r.canvas.altActionKey]?i.skewCursorStyleHandler(t,e,r):i.scaleCursorStyleHandler(t,e,r)},i.rotationWithSnapping=_("rotating",b((function(t,e,r,n){var i=e,a=i.target,s=a.translateToOriginPoint(a.getCenterPoint(),i.originX,i.originY);if(a.lockRotation)return!1;var o,l=Math.atan2(i.ey-s.y,i.ex-s.x),c=Math.atan2(n-s.y,r-s.x),u=h(c-l+i.theta);if(a.snapAngle>0){var f=a.snapAngle,d=a.snapThreshold||f,p=Math.ceil(u/f)*f,g=Math.floor(u/f)*f;Math.abs(u-g)<d?u=g:Math.abs(u-p)<d&&(u=p)}return u<0&&(u=360+u),u%=360,o=a.angle!==u,a.angle=u,o}))),i.scalingEqually=_("scaling",b((function(t,e,r,n){return C(t,e,r,n)}))),i.scalingX=_("scaling",b((function(t,e,r,n){return C(t,e,r,n,{by:"x"})}))),i.scalingY=_("scaling",b((function(t,e,r,n){return C(t,e,r,n,{by:"y"})}))),i.scalingYOrSkewingX=function(t,e,r,n){return t[e.target.canvas.altActionKey]?i.skewHandlerX(t,e,r,n):i.scalingY(t,e,r,n)},i.scalingXOrSkewingY=function(t,e,r,n){return t[e.target.canvas.altActionKey]?i.skewHandlerY(t,e,r,n):i.scalingX(t,e,r,n)},i.changeWidth=_("resizing",b((function(t,e,r,n){var i=e.target,a=T(e,e.originX,e.originY,r,n),s=i.strokeWidth/(i.strokeUniform?i.scaleX:1),o=m(e)?2:1,l=i.width,c=Math.abs(a.x*o/i.scaleX)-s;return i.set("width",Math.max(c,0)),l!==c}))),i.skewHandlerX=function(t,e,r,n){var i,l=e.target,u=l.skewX,h=e.originY;return!l.lockSkewingX&&(0===u?i=T(e,c,c,r,n).x>0?a:o:(u>0&&(i=h===s?a:o),u<0&&(i=h===s?o:a),E(l)&&(i=i===a?o:a)),e.originX=i,_("skewing",b(S))(t,e,r,n))},i.skewHandlerY=function(t,e,r,n){var i,o=e.target,u=o.skewY,h=e.originX;return!o.lockSkewingY&&(0===u?i=T(e,c,c,r,n).y>0?s:l:(u>0&&(i=h===a?s:l),u<0&&(i=h===a?l:s),E(o)&&(i=i===s?l:s)),e.originY=i,_("skewing",b(w))(t,e,r,n))},i.dragHandler=function(t,e,r,n){var i=e.target,a=r-e.offsetX,s=n-e.offsetY,o=!i.get("lockMovementX")&&i.left!==a,l=!i.get("lockMovementY")&&i.top!==s;return o&&i.set("left",a),l&&i.set("top",s),(o||l)&&p("moving",y(t,e,r,n)),o||l},i.scaleOrSkewActionName=function(t,e,r){var n=t[r.canvas.altActionKey];return 0===e.x?n?"skewX":"scaleY":0===e.y?n?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(t,e,r){return r.lockRotation?"not-allowed":e.cursorStyle},i.fireEvent=p,i.wrapWithFixedAnchor=b,i.wrapWithFireEvent=_,i.getLocalPoint=T,e.controlsUtils=i}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.degreesToRadians,n=e.controlsUtils;n.renderCircleControl=function(t,e,r,n,i){n=n||{};var a,s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,l="undefined"!==typeof n.transparentCorners?n.transparentCorners:i.transparentCorners,c=l?"stroke":"fill",u=!l&&(n.cornerStrokeColor||i.cornerStrokeColor),h=e,f=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor,t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor,s>o?(a=s,t.scale(1,o/s),f=r*s/o):o>s?(a=o,t.scale(s/o,1),h=e*o/s):a=s,t.lineWidth=1,t.beginPath(),t.arc(h,f,a/2,0,2*Math.PI,!1),t[c](),u&&t.stroke(),t.restore()},n.renderSquareControl=function(t,e,n,i,a){i=i||{};var s=this.sizeX||i.cornerSize||a.cornerSize,o=this.sizeY||i.cornerSize||a.cornerSize,l="undefined"!==typeof i.transparentCorners?i.transparentCorners:a.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||a.cornerStrokeColor),h=s/2,f=o/2;t.save(),t.fillStyle=i.cornerColor||a.cornerColor,t.strokeStyle=i.cornerStrokeColor||a.cornerStrokeColor,t.lineWidth=1,t.translate(e,n),t.rotate(r(a.angle)),t[c+"Rect"](-h,-f,s,o),u&&t.strokeRect(-h,-f,s,o),t.restore()}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var r=t._controlsVisibility;return r&&"undefined"!==typeof r[e]?r[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,r){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},r)},calcCornerCoords:function(t,r,n,i,a){var s,o,l,c,u=a?this.touchSizeX:this.sizeX,h=a?this.touchSizeY:this.sizeY;if(u&&h&&u!==h){var f=Math.atan2(h,u),d=Math.sqrt(u*u+h*h)/2,p=f-e.util.degreesToRadians(t),g=Math.PI/2-f-e.util.degreesToRadians(t);s=d*e.util.cos(p),o=d*e.util.sin(p),l=d*e.util.cos(g),c=d*e.util.sin(g)}else{d=.7071067812*(u&&h?u:r);p=e.util.degreesToRadians(45-t);s=l=d*e.util.cos(p),o=c=d*e.util.sin(p)}return{tl:{x:n-c,y:i-l},tr:{x:n+s,y:i-o},bl:{x:n-s,y:i+o},br:{x:n+c,y:i+l}}},render:function(t,r,n,i,a){if("circle"===((i=i||{}).cornerStyle||a.cornerStyle))e.controlsUtils.renderCircleControl.call(this,t,r,n,i,a);else e.controlsUtils.renderSquareControl.call(this,t,r,n,i,a)}}}(e),function(){function t(t,e){var r,n,a,s,o=t.getAttribute("style"),l=t.getAttribute("offset")||0;if(l=(l=parseFloat(l)/(/%$/.test(l)?100:1))<0?0:l>1?1:l,o){var c=o.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),s=c.length;s--;){var u=c[s].split(/\s*:\s*/),h=u[0].trim(),f=u[1].trim();"stop-color"===h?r=f:"stop-opacity"===h&&(a=f)}}return r||(r=t.getAttribute("stop-color")||"rgb(0,0,0)"),a||(a=t.getAttribute("stop-opacity")),n=(r=new i.Color(r)).getAlpha(),a=isNaN(parseFloat(a))?1:parseFloat(a),a*=n*e,{offset:l,color:r.toRgb(),opacity:a}}var e=i.util.object.clone;i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,r=this;Object.keys(t).forEach((function(e){r[e]=t[e]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var r=new i.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:r.toRgb(),opacity:r.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,e,t),e},toSVG:function(t,r){var n,a,s,o,l=e(this.coords,!0),c=(r=r||{},e(this.colorStops,!0)),u=l.r1>l.r2,h=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),f=-this.offsetX,d=-this.offsetY,p=!!r.additionalTransform,g="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===g?(f/=t.width,d/=t.height):(f+=t.width/2,d+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(f-=t.pathOffset.x,d-=t.pathOffset.y),h[4]-=f,h[5]-=d,o='id="SVGID_'+this.id+'" gradientUnits="'+g+'"',o+=' gradientTransform="'+(p?r.additionalTransform+" ":"")+i.util.matrixToSVG(h)+'" ',"linear"===this.type?s=["<linearGradient ",o,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",o,' cx="',u?l.x1:l.x2,'" cy="',u?l.y1:l.y2,'" r="',u?l.r1:l.r2,'" fx="',u?l.x2:l.x1,'" fy="',u?l.y2:l.y1,'">\n']),"radial"===this.type){if(u)for((c=c.concat()).reverse(),n=0,a=c.length;n<a;n++)c[n].offset=1-c[n].offset;var m=Math.min(l.r1,l.r2);if(m>0){var v=m/Math.max(l.r1,l.r2);for(n=0,a=c.length;n<a;n++)c[n].offset+=v*(1-c[n].offset)}}for(n=0,a=c.length;n<a;n++){var y=c[n];s.push("<stop ",'offset="',100*y.offset+"%",'" style="stop-color:',y.color,"undefined"!==typeof y.opacity?";stop-opacity: "+y.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(t){var e,r,n,a=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(a.x1,a.y1,a.x2,a.y2):"radial"===this.type&&(e=t.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2)),r=0,n=this.colorStops.length;r<n;r++){var s=this.colorStops[r].color,o=this.colorStops[r].opacity,l=this.colorStops[r].offset;"undefined"!==typeof o&&(s=new i.Color(s).setAlpha(o).toRgba()),e.addColorStop(l,s)}return e}}}),i.util.object.extend(i.Gradient,{fromElement:function(e,r,n,a){var s=parseFloat(n)/(/%$/.test(n)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var o,l,c,u,h=e.getElementsByTagName("stop"),f="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",d=e.getAttribute("gradientTransform")||"",p=[],g=0,m=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(o="linear",l=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(o="radial",l=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),c=h.length;c--;)p.push(t(h[c],s));return u=i.parseTransformAttribute(d),function(t,e,r,n){var i,a;Object.keys(e).forEach((function(t){"Infinity"===(i=e[t])?a=1:"-Infinity"===i?a=0:(a=parseFloat(e[t],10),"string"===typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(a*=.01,"pixels"===n&&("x1"!==t&&"x2"!==t&&"r2"!==t||(a*=r.viewBoxWidth||r.width),"y1"!==t&&"y2"!==t||(a*=r.viewBoxHeight||r.height)))),e[t]=a}))}(0,l,a,f),"pixels"===f&&(g=-r.left,m=-r.top),new i.Gradient({id:e.getAttribute("id"),type:o,coords:l,colorStops:p,gradientUnits:f,gradientTransform:u,offsetX:g,offsetY:m})}})}(),function(){"use strict";var t=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=i.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else{var r=this;this.source=i.util.createImage(),i.util.loadImage(t.source,(function(t,n){r.source=t,e&&e(r,n)}),null,this.crossOrigin)}},toObject:function(e){var r,n,a=i.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?r=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(r=this.source.toDataURL()),n={type:"pattern",source:r,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,a),offsetY:t(this.offsetY,a),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,n,e),n},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,r=e.width/t.width,n=e.height/t.height,i=this.offsetX/t.width,a=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,a&&(n+=Math.abs(a))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,i&&(r+=Math.abs(i))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+a+'" width="'+r+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var r in"string"===typeof t&&(t=this._parseShadow(t)),t)this[r]=t[r];this.id=e.Object.__uid++},_parseShadow:function(t){var r=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(r)||[];return{color:(r.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(n[1],10)||0,offsetY:parseFloat(n[2],10)||0,blur:parseFloat(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,i=40,a=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),o=new e.Color(this.color);return t.width&&t.height&&(n=100*r((Math.abs(s.x)+this.blur)/t.width,a)+20,i=100*r((Math.abs(s.y)+this.blur)/t.height,a)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+r(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+r(s.x,a)+'" dy="'+r(s.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+o.toRgb()+'" flood-opacity="'+o.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},r=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==r[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var t=i.util.object.extend,e=i.util.getElementOffset,r=i.util.removeFromArray,n=i.util.toFixed,a=i.util.transformPoint,s=i.util.invertTransform,o=i.util.getNodeCanvas,l=i.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var r=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,r),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,r),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,r),e.overlayColor&&this.setOverlayColor(e.overlayColor,r),this.calcOffset()},_isRetinaScaling:function(){return 1!==i.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?i.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=i.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,r){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),r.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,r){return this.__setBgOverlayImage("overlayImage",t,e,r)},setBackgroundImage:function(t,e,r){return this.__setBgOverlayImage("backgroundImage",t,e,r)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,r,n){return"string"===typeof e?i.util.loadImage(e,(function(e,a){if(e){var s=new i.Image(e,n);this[t]=s,s.canvas=this}r&&r(e,a)}),this,n&&n.crossOrigin):(n&&e.setOptions(n),this[t]=e,e&&(e.canvas=this),r&&r(e,!1)),this},__setBgOverlayColor:function(t,e,r){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,r),this},_createCanvasElement:function(){var t=l();if(!t)throw c;if(t.style||(t.style={}),"undefined"===typeof t.getContext)throw c;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=i.util.getById(t)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var r;for(var n in e=e||{},t)r=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),r+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,r);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,r,n,i=this._activeObject,a=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=t,r=0,n=this._objects.length;r<n;r++)(e=this._objects[r]).group||e.setCoords(!0);return i&&i.setCoords(),a&&a.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var r=t,n=this.viewportTransform.slice(0);t=a(t,s(this.viewportTransform)),n[0]=e,n[3]=e;var i=a(t,n);return n[4]+=r.x-i.x,n[5]+=r.y-i.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new i.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new i.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,r=this.height,n=s(this.viewportTransform);return t.tl=a({x:0,y:0},n),t.br=a({x:e,y:r},n),t.tr=new i.Point(t.br.x,t.tl.y),t.bl=new i.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var r=this.viewportTransform,n=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),i.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),n&&(n.canvas=this,n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,r=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",r.transform(t),t.scale(1/r.zoomX,1/r.zoomY),t.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var r,n;for(r=0,n=e.length;r<n;++r)e[r]&&e[r].render(t)},_renderBackgroundOrOverlay:function(t,e){var r=this[e+"Color"],n=this[e+"Image"],i=this.viewportTransform,a=this[e+"Vpt"];if(r||n){if(r){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=r.toLive?r.toLive(t,this):r,a&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);var s=r.gradientTransform||r.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}n&&(t.save(),a&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new i.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new i.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new i.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=s(this.viewportTransform);return a({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,r){var n=this.clipPath,a={version:i.version,objects:this._toObjects(e,r)};return n&&!n.excludeFromExport&&(a.clipPath=this._toObject(this.clipPath,e,r)),t(a,this.__serializeBgOverlay(e,r)),i.util.populateWithProperties(this,a,r),a},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(r){return this._toObject(r,t,e)}),this)},_toObject:function(t,e,r){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var i=t[e](r);return this.includeDefaultValues||(t.includeDefaultValues=n),i},__serializeBgOverlay:function(t,e){var r={},n=this.backgroundImage,i=this.overlayImage,a=this.backgroundColor,s=this.overlayColor;return a&&a.toObject?a.excludeFromExport||(r.background=a.toObject(e)):a&&(r.background=a),s&&s.toObject?s.excludeFromExport||(r.overlay=s.toObject(e)):s&&(r.overlay=s),n&&!n.excludeFromExport&&(r.backgroundImage=this._toObject(n,t,e)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,t,e)),r},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var r=[];return this._setSVGPreamble(r,t),this._setSVGHeader(r,t),this.clipPath&&r.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",e),this._setSVGObjects(r,e),this.clipPath&&r.push("</g>\n"),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",e),r.push("</svg>"),r.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var r,a=e.width||this.width,s=e.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',l=i.Object.NUM_FRACTION_DIGITS;e.viewBox?o='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(r=this.viewportTransform,o='viewBox="'+n(-r[4]/r[0],l)+" "+n(-r[5]/r[3],l)+" "+n(this.width/r[0],l)+" "+n(this.height/r[3],l)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',a,'" ','height="',s,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var r=t[e+"Color"];if(r&&r.toLive){var n=t[e+"Vpt"],a=t.viewportTransform,s={width:t.width/(n?a[0]:1),height:t.height/(n?a[3]:1)};return r.toSVG(s,{additionalTransform:n?i.util.matrixToSVG(a):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,r,n,a,s,o,l,c="",u={},h=i.fontPaths,f=[];for(this._objects.forEach((function t(e){f.push(e),e._objects&&e._objects.forEach(t)})),o=0,l=f.length;o<l;o++)if(e=(t=f[o]).fontFamily,-1!==t.type.indexOf("text")&&!u[e]&&h[e]&&(u[e]=!0,t.styles))for(a in r=t.styles)for(s in n=r[a])!u[e=n[s].fontFamily]&&h[e]&&(u[e]=!0);for(var d in u)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",h[d],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(t,e){var r,n,i,a=this._objects;for(n=0,i=a.length;n<i;n++)(r=a[n]).excludeFromExport||this._setSVGObject(t,r,e)},_setSVGObject:function(t,e,r){t.push(e.toSVG(r))},_setSVGBgOverlayImage:function(t,e,r){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(r))},_setSVGBgOverlayColor:function(t,e){var r=this[e+"Color"],n=this.viewportTransform,a=this.width,s=this.height;if(r)if(r.toLive){var o=r.repeat,l=i.util.invertTransform(n),c=this[e+"Vpt"]?i.util.matrixToSVG(l):"";t.push('<rect transform="'+c+" translate(",a/2,",",s/2,')"',' x="',r.offsetX-a/2,'" y="',r.offsetY-s/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?r.source.width:a,'" height="',"repeat-x"===o||"no-repeat"===o?r.source.height:s,'" fill="url(#SVGID_'+r.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,i,a=this._activeObject;if(t===a&&"activeSelection"===t.type)for(e=(i=a._objects).length;e--;)n=i[e],r(this._objects,n),this._objects.unshift(n);else r(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,n,i,a=this._activeObject;if(t===a&&"activeSelection"===t.type)for(i=a._objects,e=0;e<i.length;e++)n=i[e],r(this._objects,n),this._objects.push(n);else r(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var n,i,a,s,o,l=this._activeObject,c=0;if(t===l&&"activeSelection"===t.type)for(o=l._objects,n=0;n<o.length;n++)i=o[n],(a=this._objects.indexOf(i))>0+c&&(s=a-1,r(this._objects,i),this._objects.splice(s,0,i)),c++;else 0!==(a=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,a,e),r(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,r){var n,i;if(r)for(n=e,i=e-1;i>=0;--i){if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){n=i;break}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,i,a,s,o,l=this._activeObject,c=0;if(t===l&&"activeSelection"===t.type)for(n=(o=l._objects).length;n--;)i=o[n],(a=this._objects.indexOf(i))<this._objects.length-1-c&&(s=a+1,r(this._objects,i),this._objects.splice(s,0,i)),c++;else(a=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,a,e),r(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,r){var n,i,a;if(r)for(n=e,i=e+1,a=this._objects.length;i<a;++i){if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){n=i;break}}else n=e+1;return n},moveTo:function(t,e){return r(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(i.StaticCanvas.prototype,i.Observable),t(i.StaticCanvas.prototype,i.Collection),t(i.StaticCanvas.prototype,i.DataURLExporter),t(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=l();if(!e||!e.getContext)return null;var r=e.getContext("2d");return r&&"setLineDash"===t?"undefined"!==typeof r.setLineDash:null}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var t=o(this.lowerCanvasEl);return t&&t.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(t){var e=o(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,r=t.contextTop,n=t.getZoom();t&&t._isRetinaScaling()&&(n*=i.devicePixelRatio),r.shadowColor=e.color,r.shadowBlur=e.blur*n,r.shadowOffsetX=e.offsetX*n,r.shadowOffsetY=e.offsetY*n}},needsFullRender:function(){return new i.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,r){var n=e.midPointFrom(r);return t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var r=this._points,n=r.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,r[n-2],r[n-1],!0),i.stroke(),i.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new i.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new i.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,r=this.canvas.contextTop,n=this._points[0],a=this._points[1];if(this._saveAndTransform(r),r.beginPath(),2===this._points.length&&n.x===a.x&&n.y===a.y){var s=this.width/1e3;n=new i.Point(n.x,n.y),a=new i.Point(a.x,a.y),n.x-=s,a.x+=s}for(r.moveTo(n.x,n.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(r,n,a),n=this._points[t],a=this._points[t+1];r.lineTo(n.x,n.y),r.stroke(),r.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return i.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===i.util.joinPath(t)},createPath:function(t){var e=new i.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new i.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var r,n=this.canvas.getZoom(),i=Math.pow(e/n,2),a=t.length-1,s=t[0],o=[s];for(r=1;r<a-1;r++)Math.pow(s.x-t[r].x,2)+Math.pow(s.y-t[r].y,2)>=i&&(s=t[r],o.push(s));return o.push(t[a]),o},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),r=this.canvas.contextTop;this._saveAndTransform(r),this.dot(r,e),r.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,r=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(r),t=0,e=n.length;t<e;t++)this.dot(r,n[t]);r.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,r=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var n=[];for(t=0,e=this.points.length;t<e;t++){var a=this.points[t],s=new i.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(s.shadow=new i.Shadow(this.shadow)),n.push(s)}var o=new i.Group(n);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=r,this.canvas.requestRenderAll()},addPoint:function(t){var e=new i.Point(t.x,t.y),r=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return e.radius=r,e.fill=n,this.points.push(e),e}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],r=0,n=this.sprayChunks.length;r<n;r++)for(var a=this.sprayChunks[r],s=0,o=a.length;s<o;s++){var l=new i.Rect({width:a[s].width,height:a[s].width,left:a[s].x+1,top:a[s].y+1,originX:"center",originY:"center",fill:this.color});e.push(l)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new i.Group(e);this.shadow&&c.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,r,n,i={};for(r=0,n=t.length;r<n;r++)i[e=t[r].left+""+t[r].top]||(i[e]=t[r]);var a=[];for(e in i)a.push(i[e]);return a},render:function(t){var e,r,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,r=t.length;e<r;e++){var i=t[e];"undefined"!==typeof i.opacity&&(n.globalAlpha=i.opacity),n.fillRect(i.x,i.y,i.width,i.width)}n.restore()},_render:function(){var t,e,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);r.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,r,n,a,s=this.width/2;for(a=0;a<this.density;a++){e=i.util.getRandomInt(t.x-s,t.x+s),r=i.util.getRandomInt(t.y-s,t.y+s),n=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new i.Point(e,r);o.width=n,this.randomOpacity&&(o.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var t=i.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),r=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-r.x,offsetY:-r.y}),e}}),function(){var t=i.util.getPointer,e=i.util.degreesToRadians,r=i.util.isTouchEvent;for(var n in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,r,n=this.getActiveObjects();if(n.length>0&&!this.preserveObjectStacking){e=[],r=[];for(var i=0,a=this._objects.length;i<a;i++)t=this._objects[i],-1===n.indexOf(t)?e.push(t):r.push(t);n.length>1&&(this._activeObject._objects=r),e.push.apply(e,r)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var r=t.calcTransformMatrix(),n=i.util.invertTransform(r),a=this.restorePointerVpt(e);return i.util.transformPoint(a,n)},isTargetTransparent:function(t,e,r){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var n=this._normalizePointer(t,{x:e,y:r}),a=Math.max(t.cacheTranslationX+n.x*t.zoomX,0),s=Math.max(t.cacheTranslationY+n.y*t.zoomY,0);return i.util.isTransparent(t._cacheContext,Math.round(a),Math.round(s),this.targetFindTolerance)}var o=this.contextCache,l=t.selectionBackgroundColor,c=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),t.render(o),o.restore(),t.selectionBackgroundColor=l,i.util.isTransparent(o,e,r,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var r=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&r.length>1&&-1===r.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e,r){var n;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?n=this.centeredScaling||t.centeredScaling:"rotate"===e&&(n=this.centeredRotation||t.centeredRotation),n?!r:r},_getOriginFromCorner:function(t,e){var r={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?r.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(r.x="left"),"tl"===e||"mt"===e||"tr"===e?r.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(r.y="top"),r},_getActionFromCorner:function(t,e,r,n){if(!e||!t)return"drag";var i=n.controls[e];return i.getActionName(r,i,n)},_setupCurrentTransform:function(t,r,n){if(r){var a=this.getPointer(t),s=r.__corner,o=r.controls[s],l=n&&s?o.getActionHandler(t,r,o):i.controlsUtils.dragHandler,c=this._getActionFromCorner(n,s,t,r),u=this._getOriginFromCorner(r,s),h=t[this.centeredKey],f={target:r,action:c,actionHandler:l,corner:s,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:a.x-r.left,offsetY:a.y-r.top,originX:u.x,originY:u.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:e(r.angle),width:r.width*r.scaleX,shiftKey:t.shiftKey,altKey:h,original:i.util.saveObjectTransform(r)};this._shouldCenterTransform(r,c,h)&&(f.originX="center",f.originY="center"),f.original.originX=u.x,f.original.originY=u.y,this._currentTransform=f,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,r=new i.Point(e.ex,e.ey),n=i.util.transformPoint(r,this.viewportTransform),a=new i.Point(e.ex+e.left,e.ey+e.top),s=i.util.transformPoint(a,this.viewportTransform),o=Math.min(n.x,s.x),l=Math.min(n.y,s.y),c=Math.max(n.x,s.x),u=Math.max(n.y,s.y),h=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(o,l,c-o,u-l)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,o+=h,l+=h,c-=h,u-=h,i.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(o,l,c-o,u-l))},findTarget:function(t,e){if(!this.skipTargetFind){var n,i,a=this.getPointer(t,!0),s=this._activeObject,o=this.getActiveObjects(),l=r(t),c=o.length>1&&!e||1===o.length;if(this.targets=[],c&&s._findTargetCorner(a,l))return s;if(o.length>1&&!e&&s===this._searchPossibleTargets([s],a))return s;if(1===o.length&&s===this._searchPossibleTargets([s],a)){if(!this.preserveObjectStacking)return s;n=s,i=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,a);return t[this.altSelectionKey]&&u&&n&&u!==n&&(u=n,this.targets=i),u}},_checkTarget:function(t,e,r){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,r.x,r.y))return!0}},_searchPossibleTargets:function(t,e){for(var r,n,a=t.length;a--;){var s=t[a],o=s.group?this._normalizePointer(s.group,e):e;if(this._checkTarget(o,s,e)){(r=t[a]).subTargetCheck&&r instanceof i.Group&&(n=this._searchPossibleTargets(r._objects,e))&&this.targets.push(n);break}}return r},restorePointerVpt:function(t){return i.util.transformPoint(t,i.util.invertTransform(this.viewportTransform))},getPointer:function(e,r){if(this._absolutePointer&&!r)return this._absolutePointer;if(this._pointer&&r)return this._pointer;var n,i=t(e),a=this.upperCanvasEl,s=a.getBoundingClientRect(),o=s.width||0,l=s.height||0;o&&l||("top"in s&&"bottom"in s&&(l=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(o=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,r||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),n=0===o||0===l?{width:1,height:1}:{width:a.width/o,height:a.height/l},{x:i.x*n.width,y:i.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),i.util.addClass(r,"upper-canvas "+t),this.wrapperEl.appendChild(r),this._copyCanvasStyle(e,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,r=this.height||t.height;i.util.setStyle(t,{position:"absolute",width:e+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=r,i.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var r=!1,n=this.getActiveObjects(),i=[],a=[];t.forEach((function(t){-1===n.indexOf(t)&&(r=!0,t.fire("deselected",{e:e,target:t}),a.push(t))})),n.forEach((function(n){-1===t.indexOf(n)&&(r=!0,n.fire("selected",{e:e,target:n}),i.push(n))})),t.length>0&&n.length>0?r&&this.fire("selection:updated",{e:e,selected:i,deselected:a,updated:i[0]||a[0],target:this._activeObject}):n.length>0?this.fire("selection:created",{e:e,selected:i,target:this._activeObject}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:a})},setActiveObject:function(t,e){var r=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(r,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var r=this._activeObject;if(r){if(r.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),r=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:r,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,r){var n=this._realizeGroupTransformOnObject(t),i=this.callSuper("_toObject",t,e,r);return this._unwindGroupTransformOnObject(t,n),i},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(r){e[r]=t[r]})),i.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,r){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,r),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),i.StaticCanvas)"prototype"!==n&&(i.Canvas[n]=i.StaticCanvas[n])}(),function(){var t=i.util.addListener,e=i.util.removeListener,r={passive:!1};function n(t,e){return t.button&&t.button===e-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var n=this.upperCanvasEl,a=this._getEventPrefix();t(i.window,"resize",this._onResize),t(n,a+"down",this._onMouseDown),t(n,a+"move",this._onMouseMove,r),t(n,a+"out",this._onMouseOut),t(n,a+"enter",this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,r),"undefined"!==typeof eventjs&&e in eventjs&&(eventjs[e](n,"gesture",this._onGesture),eventjs[e](n,"drag",this._onDrag),eventjs[e](n,"orientation",this._onOrientationChange),eventjs[e](n,"shake",this._onShake),eventjs[e](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(i.document,t+"up",this._onMouseUp),e(i.document,"touchend",this._onTouchEnd,r),e(i.document,t+"move",this._onMouseMove,r),e(i.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var r=this;this._hoveredTargets.forEach((function(n){r.fire("mouse:out",{target:e,e:t}),n&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(n){n.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();var a=this.upperCanvasEl,s=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,r),t(i.document,"touchmove",this._onMouseMove,r),e(a,s+"down",this._onMouseDown)},_onMouseDown:function(n){this.__onMouseDown(n),this._resetTransformEventData();var a=this.upperCanvasEl,s=this._getEventPrefix();e(a,s+"move",this._onMouseMove,r),t(i.document,s+"up",this._onMouseUp),t(i.document,s+"move",this._onMouseMove,r)},_onTouchEnd:function(n){if(!(n.touches.length>0)){this.__onMouseUp(n),this._resetTransformEventData(),this.mainTouchId=null;var a=this._getEventPrefix();e(i.document,"touchend",this._onTouchEnd,r),e(i.document,"touchmove",this._onMouseMove,r);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(s.upperCanvasEl,a+"down",s._onMouseDown),s._willAddMouseDown=0}),400)}},_onMouseUp:function(n){this.__onMouseUp(n),this._resetTransformEventData();var a=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(n)&&(e(i.document,s+"up",this._onMouseUp),e(i.document,s+"move",this._onMouseMove,r),t(a,s+"move",this._onMouseMove,r))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!==!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,r=this._currentTransform,a=this._groupSelector,s=!1,o=!a||0===a.left&&0===a.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),n(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,o);else{if(n(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,o),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(r&&(this._finalizeCurrentTransform(t),s=r.actionPerformed),!o){var l=e===this._activeObject;this._maybeGroupObjects(t),s||(s=this._shouldRender(e)||!l&&e===this._activeObject)}if(e){if(e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),s=!0;else{var c=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t)),u=e.controls[c],h=u&&u.getMouseUpHandler(t,e,u);if(h){var f=this.getPointer(t);h(t,r,f.x,f.y)}}e.isMoving=!1}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,o),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),s?this.requestRenderAll():o||this.renderTop()}}},_simpleEventHandler:function(t,e){var r=this.findTarget(e),n=this.targets,i={e:e,target:r,subTargets:n};if(this.fire(t,i),r&&r.fire(t,i),!n)return r;for(var a=0;a<n.length;a++)n[a].fire(t,i);return r},_handleEvent:function(t,e,r,n){var i=this._target,a=this.targets||[],s={e:t,target:i,subTargets:a,button:r||1,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(s.currentTarget=this.findTarget(t),s.currentSubTargets=this.targets),this.fire("mouse:"+e,s),i&&i.fire("mouse"+e,s);for(var o=0;o<a.length;o++)a[o].fire("mouse"+e,s)},_finalizeCurrentTransform:function(t){var e,r=this._currentTransform,n=r.target,i={e:t,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),(r.actionPerformed||this.stateful&&n.hasStateChanged())&&(r.actionPerformed&&(e=this._addEventOptions(i,r),this._fire(e,i)),this._fire("modified",i))},_addEventOptions:function(t,e){var r,n;switch(e.action){case"scaleX":r="scaled",n="x";break;case"scaleY":r="scaled",n="y";break;case"skewX":r="skewed",n="x";break;case"skewY":r="skewed",n="y";break;case"scale":r="scaled",n="equally";break;case"rotate":r="rotated";break;case"drag":r="moved"}return t.by=n,r},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(n(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(n(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var r=this._pointer;this._previousPointer=r;var a=this._shouldRender(e),s=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):s&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var o=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var l=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t));if(e.__corner=l,e===this._activeObject&&(l||!s)){this._setupCurrentTransform(t,e,o);var c=e.controls[l],u=(r=this.getPointer(t),c&&c.getMouseDownHandler(t,e,c));u&&u(t,this._currentTransform,r.x,r.y)}}this._handleEvent(t,"down"),(a||s)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,r;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var n=this._groupSelector;n?(r=this._absolutePointer,n.left=r.x-n.ex,n.top=r.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var r=this._hoveredTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:r,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<a;s++)this.fireSyntheticInOutEvents(i[s],e,{oldTarget:n[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var r=this._draggedoverTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:r,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<a;s++)this.fireSyntheticInOutEvents(i[s],e,{oldTarget:n[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,r){var n,i,a,s=r.oldTarget,o=s!==t,l=r.canvasEvtIn,c=r.canvasEvtOut;o&&(n={e:e,target:t,previousTarget:s},i={e:e,target:s,nextTarget:t}),a=t&&o,s&&o&&(c&&this.fire(c,i),s.fire(r.evtOut,i)),a&&(l&&this.fire(l,n),t.fire(r.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),r=this._currentTransform;r.reset=!1,r.shiftKey=t.shiftKey,r.altKey=t[this.centeredKey],this._performTransformAction(t,r,e),r.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,r){var n=r.x,i=r.y,a=e.action,s=!1,o=e.actionHandler;o&&(s=o(t,e,n,i)),"drag"===a&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var r=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));i?this.setCursor(this.getCornerCursor(i,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){r=t.hoverCursor||r})),this.setCursor(r))},getCornerCursor:function(t,e,r){var n=e.controls[t];return n.cursorStyleHandler(r,n,e)}})}(),function(){var t=Math.min,e=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(t,e){var r=this._activeObject;return r&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(r!==e||"activeSelection"===r.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var r=this._activeObject;r.__corner||(e!==r||(e=this.findTarget(t,!0))&&e.selectable)&&(r&&"activeSelection"===r.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var r=this._activeObject,n=r._objects.slice(0);r.contains(t)?(r.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===r.size()&&this._setActiveObject(r.item(0),e)):(r.addWithUpdate(t),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var r=this.getActiveObjects(),n=this._createGroup(t);this._hoveredTarget=n,this._setActiveObject(n,e),this._fireSelectionEvents(r,e)},_createGroup:function(t){var e=this._objects,r=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(r,{canvas:this})},_groupSelectedObjects:function(t){var e,r=this._collectObjects(t);1===r.length?this.setActiveObject(r[0],t):r.length>1&&(e=new i.ActiveSelection(r.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(r){for(var n,a=[],s=this._groupSelector.ex,o=this._groupSelector.ey,l=s+this._groupSelector.left,c=o+this._groupSelector.top,u=new i.Point(t(s,l),t(o,c)),h=new i.Point(e(s,l),e(o,c)),f=!this.selectionFullyContained,d=s===l&&o===c,p=this._objects.length;p--&&!((n=this._objects[p])&&n.selectable&&n.visible&&(f&&n.intersectsWithRect(u,h,!0)||n.isContainedWithinRect(u,h,!0)||f&&n.containsPoint(u,null,!0)||f&&n.containsPoint(h,null,!0))&&(a.push(n),d)););return a.length>1&&(a=a.filter((function(t){return!t.onSelect({e:r})}))),a},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",r=t.quality||1,n=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(n,t);return i.util.toDataURL(a,e,r)},toCanvasElement:function(t,e){t=t||1;var r=((e=e||{}).width||this.width)*t,n=(e.height||this.height)*t,a=this.getZoom(),s=this.width,o=this.height,l=a*t,c=this.viewportTransform,u=(c[4]-(e.left||0))*t,h=(c[5]-(e.top||0))*t,f=this.interactive,d=[l,0,0,l,u,h],p=this.enableRetinaScaling,g=i.util.createCanvasElement(),m=this.contextTop;return g.width=r,g.height=n,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=r,this.height=n,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),this._objects),this.viewportTransform=c,this.width=s,this.height=o,this.calcViewportBoundaries(),this.interactive=f,this.enableRetinaScaling=p,this.contextTop=m,g}}),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(t,e,r){if(t){var n="string"===typeof t?JSON.parse(t):i.util.object.clone(t),a=this,s=n.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete n.clipPath,this._enlivenObjects(n.objects,(function(t){a.clear(),a._setBgOverlay(n,(function(){s?a._enlivenObjects([s],(function(r){a.clipPath=r[0],a.__setupCanvas.call(a,n,t,o,e)})):a.__setupCanvas.call(a,n,t,o,e)}))}),r),this}},__setupCanvas:function(t,e,r,n){var i=this;e.forEach((function(t,e){i.insertAt(t,e)})),this.renderOnAddRemove=r,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var r={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var n=function(){r.backgroundImage&&r.overlayImage&&r.backgroundColor&&r.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,r,n),this.__setBgOverlay("overlayImage",t.overlayImage,r,n),this.__setBgOverlay("backgroundColor",t.background,r,n),this.__setBgOverlay("overlayColor",t.overlay,r,n)}else e&&e()},__setBgOverlay:function(t,e,r,n){var a=this;if(!e)return r[t]=!0,void(n&&n());"backgroundImage"===t||"overlayImage"===t?i.util.enlivenObjects([e],(function(e){a[t]=e[0],r[t]=!0,n&&n()})):this["set"+i.util.string.capitalize(t,!0)](e,(function(){r[t]=!0,n&&n()}))},_enlivenObjects:function(t,e,r){t&&0!==t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),null,r):e&&e([])},_toDataURL:function(t,e){this.clone((function(r){e(r.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,r){this.clone((function(n){r(n.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var r=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(r,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=i.util.createCanvasElement();e.width=this.width,e.height=this.height;var r=new i.Canvas(e);this.backgroundImage?(r.setBackgroundImage(this.backgroundImage.src,(function(){r.renderAll(),t&&t(r)})),r.backgroundImageOpacity=this.backgroundImageOpacity,r.backgroundImageStretch=this.backgroundImageStretch):t&&t(r)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.util.object.clone,i=e.util.toFixed,a=e.util.string.capitalize,s=e.util.degreesToRadians,o=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:o,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var r=e.perfLimitSizeTotal,n=t.width,i=t.height,a=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(n<=a&&i<=a&&n*i<=r)return n<s&&(t.width=s),i<s&&(t.height=s),t;var o=n/i,l=e.util.limitDimsByArea(o,r),c=e.util.capValue,u=c(s,l.x,a),h=c(s,l.y,a);return n>u&&(t.zoomX/=n/u,t.width=u,t.capped=!0),i>h&&(t.zoomY/=i/h,t.height=h,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),r=e.x*t.scaleX/this.scaleX,n=e.y*t.scaleY/this.scaleY;return{width:r+2,height:n+2,zoomX:t.scaleX,zoomY:t.scaleY,x:r,y:n}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var r=t._currentTransform.target,n=t._currentTransform.action;if(this===r&&n.slice&&"scale"===n.slice(0,5))return!1}var i,a,s=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),l=e.minCacheSideLimit,c=o.width,u=o.height,h=o.zoomX,f=o.zoomY,d=c!==this.cacheWidth||u!==this.cacheHeight,p=this.zoomX!==h||this.zoomY!==f,g=d||p,m=0,v=0,y=!1;if(d){var b=this._cacheCanvas.width,_=this._cacheCanvas.height,T=c>b||u>_;y=T||(c<.9*b||u<.9*_)&&b>l&&_>l,T&&!o.capped&&(c>l||u>l)&&(m=.1*c,v=.1*u)}return this instanceof e.Text&&this.path&&(g=!0,y=!0,m+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!g&&(y?(s.width=Math.ceil(c+m),s.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),i=o.x/2,a=o.y/2,this.cacheTranslationX=Math.round(s.width/2-i)+i,this.cacheTranslationY=Math.round(s.height/2-a)+a,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,f),this.zoomX=h,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,r=this.calcTransformMatrix(!e);t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},toObject:function(t){var r=e.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:i(this.left,r),top:i(this.top,r),width:i(this.width,r),height:i(this.height,r),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,r),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,r),scaleX:i(this.scaleX,r),scaleY:i(this.scaleY,r),angle:i(this.angle,r),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,r),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,r),skewY:i(this.skewY,r)};return this.clipPath&&!this.clipPath.excludeFromExport&&(n.clipPath=this.clipPath.toObject(t),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,n,t),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var r=e.util.getKlass(t.type).prototype;return r.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===r[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(r[e])&&0===t[e].length&&0===r[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,r=t.scaleY;if(this.canvas){var n=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();e*=n*i,r*=n*i}return{scaleX:e,scaleY:r}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,r){var n="scaleX"===t||"scaleY"===t,i=this[t]!==r,a=!1;return n&&(r=this._constrainScale(r)),"scaleX"===t&&r<0?(this.flipX=!this.flipX,r*=-1):"scaleY"===t&&r<0?(this.flipY=!this.flipY,r*=-1):"shadow"!==t||!r||r instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",r):r=new e.Shadow(r),this[t]=r,i&&(a=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,a&&this.group.set("dirty",!0)):a&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var r=this.clipPath;if(t.save(),r.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",r.absolutePositioned){var n=e.util.invertTransform(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}r.transform(t),t.scale(1/r.zoomX,1/r.zoomY),t.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),t.restore()},drawObject:function(t,e){var r=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t),this.fill=r,this.stroke=n},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-r/2,e,r)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var r=e.stroke;r&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,r.toLive?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(t,r):(t.strokeStyle=r.toLive(t,this),this._applyPatternGradientTransform(t,r)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var r=e.fill;r&&(r.toLive?(t.fillStyle=r.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=r)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,r){var n,i,a,o=this.getViewportTransform(),l=this.calcTransformMatrix();i="undefined"!==typeof(r=r||{}).hasBorders?r.hasBorders:this.hasBorders,a="undefined"!==typeof r.hasControls?r.hasControls:this.hasControls,l=e.util.multiplyTransformMatrices(o,l),n=e.util.qrDecompose(l),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),t.rotate(s(n.angle)),r.forActiveSelection||this.group?i&&this.drawBordersInGroup(t,n,r):i&&this.drawBorders(t,r),a&&this.drawControls(t,r),t.restore()},_setShadow:function(t){if(this.shadow){var r,n=this.shadow,i=this.canvas,a=i&&i.viewportTransform[0]||1,s=i&&i.viewportTransform[3]||1;r=n.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(a*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=n.color,t.shadowBlur=n.blur*e.browserShadowBlurConstant*(a+s)*(r.scaleX+r.scaleY)/4,t.shadowOffsetX=n.offsetX*a*r.scaleX,t.shadowOffsetY=n.offsetY*s*r.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var r=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,i=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,i):t.transform(1,0,0,1,n,i),r&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:n,offsetY:i}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,r){var n,i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),o=i.x/this.scaleX/s,l=i.y/this.scaleY/s;a.width=o,a.height=l,(n=a.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(o,0),n.lineTo(o,l),n.lineTo(0,l),n.closePath(),n.translate(o/2,l/2),n.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(n,r),n.fillStyle=r.toLive(t),n.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),t.strokeStyle=n.createPattern(a,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var r=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),r=e.util.transformPoint(r,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,r.x+=t.offsetLeft,r.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(r,"center","center")},clone:function(t,r){var n=this.toObject(r);this.constructor.fromObject?this.constructor.fromObject(n,t):e.Object._fromObject("Object",n,t)},cloneAsImage:function(t,r){var n=this.toCanvasElement(r);return t&&t(new e.Image(n)),this},toCanvasElement:function(t){t||(t={});var r=e.util,n=r.saveObjectTransform(this),i=this.group,a=this.shadow,s=Math.abs,o=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&r.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var l,c,u,h,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,g={x:0,y:0};p&&(c=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),g.x=2*Math.round(s(p.offsetX)+c)*s(l.scaleX),g.y=2*Math.round(s(p.offsetY)+c)*s(l.scaleY)),u=d.width+g.x,h=d.height+g.y,f.width=Math.ceil(u),f.height=Math.ceil(h);var m=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(m.width/2,m.height/2),"center","center");var v=this.canvas;m.add(this);var y=m.toCanvasElement(o||1,t);return this.shadow=a,this.set("canvas",v),i&&(this.group=i),this.set(n).setCoords(),m._objects=[],m.dispose(),m=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,r){r=r||this.canvas.getPointer(t);var n=new e.Point(r.x,r.y),i=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,i,s(-this.angle))),{x:n.x-i.x,y:n.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),r(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,r,i,a){var s=e[t];r=n(r,!0),e.util.enlivenPatterns([r.fill,r.stroke],(function(t){"undefined"!==typeof t[0]&&(r.fill=t[0]),"undefined"!==typeof t[1]&&(r.stroke=t[1]),e.util.enlivenObjects([r.clipPath],(function(t){r.clipPath=t[0];var e=a?new s(r[a],r):new s(r);i&&i(e)}))}))},e.Object.__uid=0)}(e),function(){var t=i.util.degreesToRadians,e={left:-.5,center:0,right:.5},r={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(t,n,a,s,o){var l,c,u,h=t.x,f=t.y;return"string"===typeof n?n=e[n]:n-=.5,"string"===typeof s?s=e[s]:s-=.5,"string"===typeof a?a=r[a]:a-=.5,"string"===typeof o?o=r[o]:o-=.5,c=o-a,((l=s-n)||c)&&(u=this._getTransformedDimensions(),h=t.x+l*u.x,f=t.y+c*u.y),new i.Point(h,f)},translateToCenterPoint:function(e,r,n){var a=this.translateToGivenOrigin(e,r,n,"center","center");return this.angle?i.util.rotatePoint(a,e,t(this.angle)):a},translateToOriginPoint:function(e,r,n){var a=this.translateToGivenOrigin(e,"center","center",r,n);return this.angle?i.util.rotatePoint(a,e,t(this.angle)):a},getCenterPoint:function(){var t=new i.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var r=this.getCenterPoint();return this.translateToOriginPoint(r,t,e)},toLocalPoint:function(e,r,n){var a,s,o=this.getCenterPoint();return a="undefined"!==typeof r&&"undefined"!==typeof n?this.translateToGivenOrigin(o,"center","center",r,n):new i.Point(this.left,this.top),s=new i.Point(e.x,e.y),this.angle&&(s=i.util.rotatePoint(s,o,-t(this.angle))),s.subtractEquals(a)},setPositionByOrigin:function(t,e,r){var n=this.translateToCenterPoint(t,e,r),i=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(r){var n,a,s=t(this.angle),o=this.getScaledWidth(),l=i.util.cos(s)*o,c=i.util.sin(s)*o;n="string"===typeof this.originX?e[this.originX]:this.originX-.5,a="string"===typeof r?e[r]:r-.5,this.left+=l*(a-n),this.top+=c*(a-n),this.setCoords(),this.originX=r},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var t=i.util,e=t.degreesToRadians,r=t.multiplyTransformMatrices,n=t.transformPoint;t.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return r=this._getCoords(t,e),[new i.Point(r.tl.x,r.tl.y),new i.Point(r.tr.x,r.tr.y),new i.Point(r.br.x,r.br.y),new i.Point(r.bl.x,r.bl.y)];var r},intersectsWithRect:function(t,e,r,n){var a=this.getCoords(r,n);return"Intersection"===i.Intersection.intersectPolygonRectangle(a,t,e).status},intersectsWithObject:function(t,e,r){return"Intersection"===i.Intersection.intersectPolygonPolygon(this.getCoords(e,r),t.getCoords(e,r)).status||t.isContainedWithinObject(this,e,r)||this.isContainedWithinObject(t,e,r)},isContainedWithinObject:function(t,e,r){for(var n=this.getCoords(e,r),i=e?t.aCoords:t.lineCoords,a=0,s=t._getImageLines(i);a<4;a++)if(!t.containsPoint(n[a],s))return!1;return!0},isContainedWithinRect:function(t,e,r,n){var i=this.getBoundingRect(r,n);return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t,e,r,n){var i=this._getCoords(r,n),a=(e=e||this._getImageLines(i),this._findCrossPoints(t,e));return 0!==a&&a%2===1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some((function(t){return t.x<=r.x&&t.x>=e.x&&t.y<=r.y&&t.y>=e.y}))||(!!this.intersectsWithRect(e,r,!0,t)||this._containsCenterOfCanvas(e,r,t))},_containsCenterOfCanvas:function(t,e,r){var n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(n,null,!0,r)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,r,!0,t)||this.getCoords(!0,t).every((function(t){return(t.x>=r.x||t.x<=e.x)&&(t.y>=r.y||t.y<=e.y)}))&&this._containsCenterOfCanvas(e,r,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var r,n,i,a=0;for(var s in e)if(!((i=e[s]).o.y<t.y&&i.d.y<t.y)&&!(i.o.y>=t.y&&i.d.y>=t.y)&&(i.o.x===i.d.x&&i.o.x>=t.x?n=i.o.x:(0,r=(i.d.y-i.o.y)/(i.d.x-i.o.x),n=-(t.y-0*t.x-(i.o.y-r*i.o.x))/(0-r)),n>=t.x&&(a+=1),2===a))break;return a},getBoundingRect:function(e,r){var n=this.getCoords(e,r);return t.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var r=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/r)},scaleToHeight:function(t,e){var r=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/r)},calcCoords:function(t){return t?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var r=this.getViewportTransform(),i=this.padding,a=e(this.angle),s=t.cos(a)*i,o=t.sin(a)*i,l=s+o,c=s-o,u=this.calcACoords(),h={tl:n(u.tl,r),tr:n(u.tr,r),bl:n(u.bl,r),br:n(u.br,r)};return i&&(h.tl.x-=c,h.tl.y-=l,h.tr.x+=l,h.tr.y-=c,h.bl.x-=l,h.bl.y+=c,h.br.x+=c,h.br.y+=l),h},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=this.getViewportTransform(),i=r(n,e),a=r(i,t),s=(a=r(a,[1/n[0],0,0,1/n[3],0,0]),this._calculateCurrentDimensions()),o={};return this.forEachControl((function(t,e,r){o[e]=t.positionHandler(s,a,r)})),o},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=r(e,t),a=this._getTransformedDimensions(),s=a.x/2,o=a.y/2;return{tl:n({x:-s,y:-o},i),tr:n({x:s,y:-o},i),bl:n({x:-s,y:o},i),br:n({x:s,y:o},i)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",r="";return!t&&this.group&&(r=this.group.transformMatrixKey(t)+e),r+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var n=this.transformMatrixKey(t),i=this.matrixCache||(this.matrixCache={});return i.key===n?i.value:(this.group&&(e=r(this.group.calcTransformMatrix(!1),e)),i.key=n,i.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===e)return r.value;var n=this._calcTranslateMatrix(),i={angle:this.angle,translateX:n[4],translateY:n[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=e,r.value=t.composeMatrix(i),r.value},_calcDimensionsTransformMatrix:function(e,r,n){return t.calcDimensionsMatrix({skewX:e,skewY:r,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,r){"undefined"===typeof e&&(e=this.skewX),"undefined"===typeof r&&(r=this.skewY);var n,i,a,s=0===e&&0===r;if(this.strokeUniform?(i=this.width,a=this.height):(i=(n=this._getNonTransformedDimensions()).x,a=n.y),s)return this._finalizeDimensions(i*this.scaleX,a*this.scaleY);var o=t.sizeAfterTransform(i,a,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:r});return this._finalizeDimensions(o.x,o.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return n(e,t,!0).scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var r=new i.Color(e),n=t+": "+r.toRgb()+"; ",a=r.getAlpha();return 1!==a&&(n+=t+"-opacity: "+a.toString()+"; "),n}return t+": none; "}var e=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(e){var r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",l,"; ",f,"fill-rule: ",r,"; ","opacity: ",c,";",h,u].join("")},getSvgSpanStyles:function(e,r){var n="; ",i=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+n:"",a=e.strokeWidth?"stroke-width: "+e.strokeWidth+n:"",s=(i=i,e.fontSize?"font-size: "+e.fontSize+"px"+n:""),o=e.fontStyle?"font-style: "+e.fontStyle+n:"",l=e.fontWeight?"font-weight: "+e.fontWeight+n:"",c=e.fill?t("fill",e.fill):"",u=e.stroke?t("stroke",e.stroke):"",h=this.getSvgTextDecoration(e);return h&&(h="text-decoration: "+h+n),[u,a,i,s,o,l,h,c,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",r?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var r=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+i.util.matrixToSVG(r)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var r=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,r),'" y="',e(-this.height/2,r),'" width="',e(this.width,r),'" height="',e(this.height,r),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var r=(e=e||{}).reviver,n=e.additionalTransform||"",i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),a=t.indexOf("COMMON_PARTS");return t[a]=i,r?r(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var r,n,a=(e=e||{}).noStyle,s=e.reviver,o=a?"":'style="'+this.getSvgStyles()+'" ',l=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=c&&c.absolutePositioned,f=this.stroke,d=this.fill,p=this.shadow,g=[],m=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+i.Object.__uid++,n='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(s)+"</clipPath>\n"),h&&g.push("<g ",l,this.getSvgCommons()," >\n"),g.push("<g ",this.getSvgTransform(!1),h?"":l+this.getSvgCommons()," >\n"),r=[o,u,a?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[m]=r,d&&d.toLive&&g.push(d.toSVG(this)),f&&f.toLive&&g.push(f.toSVG(this)),p&&g.push(p.toSVG(this)),c&&g.push(n),g.push(t.join("")),g.push("</g>\n"),h&&g.push("</g>\n"),s?s(g.join("")):g.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=i.util.object.extend,e="stateProperties";function r(e,r,n){var i={};n.forEach((function(t){i[t]=e[t]})),t(e[r],i,!0)}function n(t,e,r){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!n(t[i],e[i]))return!1;return!0}if(t&&"object"===typeof t){var s,o=Object.keys(t);if(!e||"object"!==typeof e||!r&&o.length!==Object.keys(e).length)return!1;for(i=0,a=o.length;i<a;i++)if("canvas"!==(s=o[i])&&"group"!==s&&!n(t[s],e[s]))return!1;return!0}}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(t){var r="_"+(t=t||e);return Object.keys(this[r]).length<this[t].length||!n(this[r],this,!0)},saveState:function(t){var n=t&&t.propertySet||e,i="_"+n;return this[i]?(r(this,i,this[n]),t&&t.stateProperties&&r(this,i,t.stateProperties),this):this.setupState(t)},setupState:function(t){var r=(t=t||{}).propertySet||e;return t.propertySet=r,this["_"+r]={},this.saveState(t),this}})}(),function(){var t=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var r,n,i,a=t.x,s=t.y,o=Object.keys(this.oCoords),l=o.length-1;for(this.__corner=0;l>=0;l--)if(i=o[l],this.isControlVisible(i)&&(n=this._getImageLines(e?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(r=this._findCrossPoints({x:a,y:s},n))&&r%2===1))return this.__corner=i,i;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var r=this.controls[e];t[e].corner=r.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=r.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var r=this.getCenterPoint(),n=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var r=this._calculateCurrentDimensions(),n=this.borderScaleFactor,i=r.x+n,a=r.y+n,s="undefined"!==typeof e.hasControls?e.hasControls:this.hasControls,o=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-i/2,-a/2,i,a),s&&(t.beginPath(),this.forEachControl((function(e,r,n){e.withConnection&&e.getVisibility(n,r)&&(o=!0,t.moveTo(e.x*i,e.y*a),t.lineTo(e.x*i+e.offsetX,e.y*a+e.offsetY))})),o&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,r){r=r||{};var n=i.util.sizeAfterTransform(this.width,this.height,e),a=this.strokeWidth,s=this.strokeUniform,o=this.borderScaleFactor,l=n.x+a*(s?this.canvas.getZoom():e.scaleX)+o,c=n.y+a*(s?this.canvas.getZoom():e.scaleY)+o;return t.save(),this._setLineDash(t,r.borderDashArray||this.borderDashArray),t.strokeStyle=r.borderColor||this.borderColor,t.strokeRect(-l/2,-c/2,l,c),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var r,n,a=this.canvas.getRetinaScaling();return t.setTransform(a,0,0,a,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl((function(a,s,o){n=o.oCoords[s],a.getVisibility(o,s)&&(r&&(n=i.util.transformPoint(n,r)),a.render(t,n.x,n.y,e,o))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var r=function(){},n=(e=e||{}).onComplete||r,a=e.onChange||r,s=this;return i.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),s.requestRenderAll(),a()},onComplete:function(){t.setCoords(),n()}}),this},fxCenterObjectV:function(t,e){var r=function(){},n=(e=e||{}).onComplete||r,a=e.onChange||r,s=this;return i.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),s.requestRenderAll(),a()},onComplete:function(){t.setCoords(),n()}}),this},fxRemove:function(t,e){var r=function(){},n=(e=e||{}).onComplete||r,a=e.onChange||r,s=this;return i.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),s.requestRenderAll(),a()},onComplete:function(){s.remove(t),n()}}),this}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var t,e,r=[];for(t in arguments[0])r.push(t);for(var n=0,i=r.length;n<i;n++)t=r[n],e=n!==i-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,r,n){var a,s=this;e=e.toString(),r=r?i.util.object.clone(r):{},~t.indexOf(".")&&(a=t.split("."));var o=s.colorProperties.indexOf(t)>-1||a&&s.colorProperties.indexOf(a[1])>-1,l=a?this.get(a[0])[a[1]]:this.get(t);"from"in r||(r.from=l),o||(e=~e.indexOf("=")?l+parseFloat(e.replace("=","")):parseFloat(e));var c={startValue:r.from,endValue:e,byValue:r.by,easing:r.easing,duration:r.duration,abort:r.abort&&function(t,e,n){return r.abort.call(s,t,e,n)},onChange:function(e,i,o){a?s[a[0]][a[1]]=e:s.set(t,e),n||r.onChange&&r.onChange(e,i,o)},onComplete:function(t,e,i){n||(s.setCoords(),r.onComplete&&r.onComplete(t,e,i))}};return o?i.util.animateColor(c.startValue,c.endValue,c.duration,c):i.util.animate(c)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function a(t,e){var r=t.origin,n=t.axis1,i=t.axis2,a=t.dimension,s=e.nearest,o=e.center,l=e.farthest;return function(){switch(this.get(r)){case s:return Math.min(this.get(n),this.get(i));case o:return Math.min(this.get(n),this.get(i))+.5*this.get(a);case l:return Math.max(this.get(n),this.get(i))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof i[t]&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var r=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return r(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,r=t*this.width*.5,n=e*this.height*.5;return{x1:r,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n,i){i=i||{};var a=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[a.x1||0,a.y1||0,a.x2||0,a.y2||0];n(new e.Line(s,r(a,i)))},e.Line.fromObject=function(t,r){var i=n(t,!0);i.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",i,(function(t){delete t.points,r&&r(t)}),"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*r,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,n=(this.endAngle-this.startAngle)%(2*r);if(0===n)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=e.util.cos(this.startAngle)*this.radius,a=e.util.sin(this.startAngle)*this.radius,s=e.util.cos(this.endAngle)*this.radius,o=e.util.sin(this.endAngle)*this.radius,l=n>r?"1":"0";t=['<path d="M '+i+" "+a," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+s+" "+o,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,r){var n,i=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(n=i)&&n.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,r(new e.Circle(i))},e.Circle.fromObject=function(t,r){e.Object._fromObject("Circle",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,r),t.lineTo(0,-r),t.lineTo(e,r),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,r){return e.Object._fromObject("Triangle",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,r,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,r){var n=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,r(new e.Ellipse(n))},e.Ellipse.fromObject=function(t,r){e.Object._fromObject("Ellipse",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,r=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,i=this.height,a=-this.width/2,s=-this.height/2,o=0!==e||0!==r,l=.4477152502;t.beginPath(),t.moveTo(a+e,s),t.lineTo(a+n-e,s),o&&t.bezierCurveTo(a+n-l*e,s,a+n,s+l*r,a+n,s+r),t.lineTo(a+n,s+i-r),o&&t.bezierCurveTo(a+n,s+i-l*r,a+n-l*e,s+i,a+n-e,s+i),t.lineTo(a+e,s+i),o&&t.bezierCurveTo(a+l*e,s+i,a,s+i-l*r,a,s+i-r),t.lineTo(a,s+r),o&&t.bezierCurveTo(a,s+l*r,a+l*e,s,a+e,s),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n,i){if(!t)return n(null);i=i||{};var a=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var s=new e.Rect(r(i?e.util.object.clone(i):{},a));s.visible=s.visible&&s.width>0&&s.height>0,n(s)},e.Rect.fromObject=function(t,r){return e.Object._fromObject("Rect",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.util.array.min,i=e.util.array.max,a=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,r=this._calcDimensions(t);this.width=r.width,this.height=r.height,t.fromSVG||(e=this.translateToGivenOrigin({x:r.left-this.strokeWidth/2,y:r.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof t.left&&(this.left=t.fromSVG?r.left:e.x),"undefined"===typeof t.top&&(this.top=t.fromSVG?r.top:e.y),this.pathOffset={x:r.left+this.width/2,y:r.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=n(t,"x")||0,r=n(t,"y")||0;return{left:e,top:r,width:(i(t,"x")||0)-e,height:(i(t,"y")||0)-r}},toObject:function(t){return r(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],r=this.pathOffset.x,n=this.pathOffset.y,i=e.Object.NUM_FRACTION_DIGITS,s=0,o=this.points.length;s<o;s++)t.push(a(this.points[s].x-r,i),",",a(this.points[s].y-n,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(!r||isNaN(this.points[r-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-i);for(var a=0;a<r;a++)e=this.points[a],t.lineTo(e.x-n,e.y-i);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(n,i,a){if(!n)return i(null);a||(a={});var s=e.parsePointsAttribute(n.getAttribute("points")),o=e.parseAttributes(n,e[t].ATTRIBUTE_NAMES);o.fromSVG=!0,i(new e[t](s,r(o,a)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,r){return e.Object._fromObject("Polyline",t,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,r){e.Object._fromObject("Polygon",t,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.array.min,n=e.util.array.max,i=e.util.object.extend,a=Object.prototype.toString,s=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,r){r=r||{},this.callSuper("initialize",r),t||(t=[]);var n="[object Array]"===a.call(t);this.path=e.util.makePathSimpler(n?t:e.util.parsePath(t)),this.path&&e.Polyline.prototype._setPositionDimensions.call(this,r)},_renderPathCommands:function(t){var e,r=0,n=0,i=0,a=0,s=0,o=0,l=-this.pathOffset.x,c=-this.pathOffset.y;t.beginPath();for(var u=0,h=this.path.length;u<h;++u)switch((e=this.path[u])[0]){case"L":i=e[1],a=e[2],t.lineTo(i+l,a+c);break;case"M":r=i=e[1],n=a=e[2],t.moveTo(i+l,a+c);break;case"C":i=e[5],a=e[6],s=e[3],o=e[4],t.bezierCurveTo(e[1]+l,e[2]+c,s+l,o+c,i+l,a+c);break;case"Q":t.quadraticCurveTo(e[1]+l,e[2]+c,e[3]+l,e[4]+c),i=e[3],a=e[4],s=e[1],o=e[2];break;case"z":case"Z":i=r,a=n,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return i(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,i,a=[],s=[],o=0,l=0,c=0,u=0,h=0,f=this.path.length;h<f;++h){switch((t=this.path[h])[0]){case"L":c=t[1],u=t[2],i=[];break;case"M":o=c=t[1],l=u=t[2],i=[];break;case"C":i=e.util.getBoundsOfCurve(c,u,t[1],t[2],t[3],t[4],t[5],t[6]),c=t[5],u=t[6];break;case"Q":i=e.util.getBoundsOfCurve(c,u,t[1],t[2],t[1],t[2],t[3],t[4]),c=t[3],u=t[4];break;case"z":case"Z":c=o,u=l}i.forEach((function(t){a.push(t.x),s.push(t.y)})),a.push(c),s.push(u)}var d=r(a)||0,p=r(s)||0;return{left:d,top:p,width:(n(a)||0)-d,height:(n(s)||0)-p}}}),e.Path.fromObject=function(t,r){if("string"===typeof t.sourcePath){var n=t.sourcePath;e.loadSVGFromURL(n,(function(e){var n=e[0];n.setOptions(t),r&&r(n)}))}else e.Object._fromObject("Path",t,r,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,r,n){var a=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e.Path(a.d,i(a,n)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,r){e=e||{},this._objects=[],r&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(r)this._updateObjectsACoords();else{var i=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(true)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var r=t.left,n=t.top;t.set({left:r-e.x,top:n-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var r=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(r&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,r?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,r){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(t,r);if("canvas"===t)for(;n--;)this._objects[n]._set(t,r);e.Object.prototype._set.call(this,t,r)},toObject:function(t){var r=this.includeDefaultValues,n=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=r;var i=e.toObject(t);return e.includeDefaultValues=n,i})),i=e.Object.prototype.toObject.call(this,t);return i.objects=n,i},toDatalessObject:function(t){var r,n=this.sourcePath;if(n)r=n;else{var i=this.includeDefaultValues;r=this._objects.map((function(e){var r=e.includeDefaultValues;e.includeDefaultValues=i;var n=e.toDatalessObject(t);return e.includeDefaultValues=r,n}))}var a=e.Object.prototype.toDatalessObject.call(this,t);return a.objects=r,a},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var r=0,n=this._objects.length;r<n;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,r=this._objects.length;t<r;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,r=this._objects.length;e<r;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-i/2,n,i)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(r){e.util.addTransformToObject(r,t),delete r.group,r.setCoords()})),this},realizeTransform:function(t,r){return e.util.addTransformToObject(t,r),t},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,r=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var i=new e.ActiveSelection([]);return i.set(n),i.type="activeSelection",r.remove(this),t.forEach((function(t){t.group=i,t.dirty=!0,r.add(t)})),i.canvas=r,i._objects=t,r._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(true)})),this},_calcBounds:function(t){for(var e,r,n,i,a=[],s=[],o=["tr","br","bl","tl"],l=0,c=this._objects.length,u=o.length;l<c;++l){for(n=(e=this._objects[l]).calcACoords(),i=0;i<u;i++)r=o[i],a.push(n[r].x),s.push(n[r].y);e.aCoords=n}this._getBounds(a,s,t)},_getBounds:function(t,i,a){var s=new e.Point(r(t),r(i)),o=new e.Point(n(t),n(i)),l=s.y||0,c=s.x||0,u=o.x-s.x||0,h=o.y-s.y||0;this.width=u,this.height=h,a||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],r=0,n=this._objects.length;r<n;r++)e.push("\t\t",this._objects[r].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],r=0,n=this._objects.length;r<n;r++)e.push("\t",this._objects[r].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,r){var n=t.objects,i=e.util.object.clone(t,!0);delete i.objects,"string"!==typeof n?e.util.enlivenObjects(n,(function(n){e.util.enlivenObjects([t.clipPath],(function(i){var a=e.util.object.clone(t,!0);a.clipPath=i[0],delete a.objects,r&&r(new e.Group(n,a,!0))}))})):e.loadSVGFromURL(n,(function(a){var s=e.util.groupSVGElements(a,t,n);s.set(i),r&&r(s)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,r){r=r||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;r.originX&&(this.originX=r.originX),r.originY&&(this.originY=r.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,r),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var r=e.Object.prototype.toObject.call(this),n=new e.Group([]);if(delete r.type,n.set(r),t.forEach((function(t){t.canvas.remove(t),t.group=n})),n._objects=t,!this.canvas)return n;var i=this.canvas;return i.add(n),i._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,r){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),"undefined"===typeof(r=r||{}).hasControls&&(r.hasControls=!1),r.forActiveSelection=!0;for(var n=0,i=this._objects.length;n<i;n++)this._objects[n]._renderControls(t,r);t.restore()}}),e.ActiveSelection.fromObject=function(t,r){e.util.enlivenObjects(t.objects,(function(n){delete t.objects,r&&r(new e.ActiveSelection(n,t,!0))}))})}(e),function(t){"use strict";var e=i.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=i.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,-r),t.lineTo(e,-r),t.lineTo(e,r),t.lineTo(-e,r),t.lineTo(-e,-r),t.closePath()}},toObject:function(t){var r=[];this.filters.forEach((function(t){t&&r.push(t.toObject())}));var n=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],r=[],n=this._element,a=-this.width/2,s=-this.height/2,o="",l="";if(!n)return[];if(this.hasCrop()){var c=i.Object.__uid++;e.push('<clipPath id="imageCrop_'+c+'">\n','\t<rect x="'+a+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),r.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',s-this.cropY,'" width="',n.width||n.naturalWidth,'" height="',n.height||n.height,l,'"',o,"></image>\n"),this.stroke||this.strokeDashArray){var u=this.fill;this.fill=null,t=["\t<rect ",'x="',a,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=u}return e="fill"!==this.paintFirst?e.concat(t,r):e.concat(r,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,r){return i.util.loadImage(t,(function(t,n){this.setElement(t,r),this._setWidthHeight(),e&&e(this,n)}),this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),n=r.scaleX,a=r.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&a>e)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=a);i.filterBackend||(i.filterBackend=i.initFilterBackend());var o=i.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=s.width,u=s.height;o.width=c,o.height=u,this._element=o,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=a,i.filterBackend.applyFilters([t],s,c,u,this._element,l),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,r=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){var a=i.util.createCanvasElement();a.width=r,a.height=n,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,n),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(t,this._originalElement,r,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var r=this._filterScalingX,n=this._filterScalingY,i=this.width,a=this.height,s=Math.min,o=Math.max,l=o(this.cropX,0),c=o(this.cropY,0),u=e.naturalWidth||e.width,h=e.naturalHeight||e.height,f=l*r,d=c*n,p=s(i*r,u-f),g=s(a*n,h-d),m=-i/2,v=-a/2,y=s(i,u/r-l),b=s(a,h/n-c);e&&t.drawImage(e,f,d,p,g,m,v,y,b)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(i.util.getById(t),e),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),r=this._element.width,n=this._element.height,a=1,s=1,o=0,l=0,c=0,u=0,h=this.width,f=this.height,d={width:h,height:f};return!e||"none"===e.alignX&&"none"===e.alignY?(a=h/r,s=f/n):("meet"===e.meetOrSlice&&(t=(h-r*(a=s=i.util.findScaleToFit(this._element,d)))/2,"Min"===e.alignX&&(o=-t),"Max"===e.alignX&&(o=t),t=(f-n*s)/2,"Min"===e.alignY&&(l=-t),"Max"===e.alignY&&(l=t)),"slice"===e.meetOrSlice&&(t=r-h/(a=s=i.util.findScaleToCover(this._element,d)),"Mid"===e.alignX&&(c=t/2),"Max"===e.alignX&&(c=t),t=n-f/s,"Mid"===e.alignY&&(u=t/2),"Max"===e.alignY&&(u=t),r=h/a,n=f/s)),{width:r,height:n,scaleX:a,scaleY:s,offsetLeft:o,offsetTop:l,cropX:c,cropY:u}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(t,e){var r=i.util.object.clone(t);i.util.loadImage(r.src,(function(t,n){n?e&&e(null,!0):i.Image.prototype._initFilters.call(r,r.filters,(function(n){r.filters=n||[],i.Image.prototype._initFilters.call(r,[r.resizeFilter],(function(n){r.resizeFilter=n[0],i.util.enlivenObjects([r.clipPath],(function(n){r.clipPath=n[0];var a=new i.Image(t,r);e(a,!1)}))}))}))}),null,r.crossOrigin)},i.Image.fromURL=function(t,e,r){i.util.loadImage(t,(function(t,n){e&&e(new i.Image(t,r),n)}),null,r&&r.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(t,r,n){var a=i.parseAttributes(t,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(a["xlink:href"],r,e(n?i.util.object.clone(n):{},a))})}(e),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},r=(t=t||{}).onComplete||e,n=t.onChange||e,a=this;return i.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){a.rotate(t),n()},onComplete:function(){a.setCoords(),r()}}),this}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var r="precision "+e+" float;\nvoid main(){}",n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,r),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(e){if(i.isLikelyNode)return!1;e=e||i.WebglFilterBackend.prototype.tileSize;var r=document.createElement("canvas"),n=r.getContext("webgl")||r.getContext("experimental-webgl"),a=!1;if(n){i.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),a=i.maxTextureSize>=e;for(var s=["highp","mediump","lowp"],o=0;o<3;o++)if(t(n,s[o])){i.webGlPrecision=s[o];break}}return this.isSupported=a,a},i.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var r,n="undefined"!==typeof window.performance;try{new ImageData(1,1),r=!0}catch(p){r=!1}var a="undefined"!==typeof ArrayBuffer,l="undefined"!==typeof Uint8ClampedArray;if(n&&r&&a&&l){var c=i.util.createCanvasElement(),u=new ArrayBuffer(t*e*4);if(i.forceGLPutImageData)return this.imageBuffer=u,void(this.copyGLTo2D=o);var h,f,d={imageBuffer:u,destinationWidth:t,destinationHeight:e,targetCanvas:c};c.width=t,c.height=e,h=window.performance.now(),s.call(d,this.gl,d),f=window.performance.now()-h,h=window.performance.now(),o.call(d,this.gl,d),f>window.performance.now()-h?(this.imageBuffer=u,this.copyGLTo2D=o):this.copyGLTo2D=s}},createWebGLCanvas:function(t,e){var r=i.util.createCanvasElement();r.width=t,r.height=e;var n={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=r.getContext("webgl",n);a||(a=r.getContext("experimental-webgl",n)),a&&(a.clearColor(0,0,0,0),this.canvas=r,this.gl=a)},applyFilters:function(t,e,r,n,i,a){var s,o=this.gl;a&&(s=this.getCachedTexture(a,e));var l={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:r,sourceHeight:n,destinationWidth:r,destinationHeight:n,context:o,sourceTexture:this.createTexture(o,r,n,!s&&e),targetTexture:this.createTexture(o,r,n),originalTexture:s||this.createTexture(o,r,n,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,c),t.forEach((function(t){t&&t.applyTo(l)})),function(t){var e=t.targetCanvas,r=e.width,n=e.height,i=t.destinationWidth,a=t.destinationHeight;r===i&&n===a||(e.width=i,e.height=a)}(l),this.copyGLTo2D(o,l),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(l.sourceTexture),o.deleteTexture(l.targetTexture),o.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,r,n){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,r,0,t.RGBA,t.UNSIGNED_BYTE,null),i},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var r=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=r,r},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var r=t.getExtension("WEBGL_debug_renderer_info");if(r){var n=t.getParameter(r.UNMASKED_RENDERER_WEBGL),i=t.getParameter(r.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),i&&(e.vendor=i.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}i.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,r,n,i){var a=i.getContext("2d");a.drawImage(e,0,0,r,n);var s={sourceWidth:r,sourceHeight:n,imageData:a.getImageData(0,0,r,n),originalEl:e,originalImageData:a.getImageData(0,0,r,n),canvasEl:i,ctx:a,filterBackend:this};return t.forEach((function(t){t.applyTo(s)})),s.imageData.width===r&&s.imageData.height===n||(i.width=s.imageData.width,i.height=s.imageData.height),a.putImageData(s.imageData,0,0),s}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,r){e=e||this.fragmentSource,r=r||this.vertexSource,"highp"!==i.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var a=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(a,e),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(a));var s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,a),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(s));var o=this.getAttributeLocations(t,s),l=this.getUniformLocations(t,s)||{};return l.uStepW=t.getUniformLocation(s,"uStepW"),l.uStepH=t.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:o,uniformLocations:l}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,r){var n=e.aPosition,i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,r,n=t.context;t.passes>1?(e=t.destinationWidth,r=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===r||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,r)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=i.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var r=e[t].length;r--;)if(this[t][r]!==e[t][r])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,r=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(r.program),this.sendAttributeData(e,r.attributeLocations,t.aPosition),e.uniform1f(r.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(r.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,r.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,r){t.activeTexture(r),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(t,e){var r=new i.Image.filters[t.type](t);return e&&e(r),r},function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.ColorMatrix=n(r.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,r,n,i,a,s=t.imageData.data,o=s.length,l=this.matrix,c=this.colorsOnly;for(a=0;a<o;a+=4)e=s[a],r=s[a+1],n=s[a+2],c?(s[a]=e*l[0]+r*l[1]+n*l[2]+255*l[4],s[a+1]=e*l[5]+r*l[6]+n*l[7]+255*l[9],s[a+2]=e*l[10]+r*l[11]+n*l[12]+255*l[14]):(i=s[a+3],s[a]=e*l[0]+r*l[1]+n*l[2]+i*l[3]+255*l[4],s[a+1]=e*l[5]+r*l[6]+n*l[7]+i*l[8]+255*l[9],s[a+2]=e*l[10]+r*l[11]+n*l[12]+i*l[13]+255*l[14],s[a+3]=e*l[15]+r*l[16]+n*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var r=this.matrix,n=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,i)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Brightness=n(r.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,r=t.imageData.data,n=r.length,i=Math.round(255*this.brightness);for(e=0;e<n;e+=4)r[e]=r[e]+i,r[e+1]=r[e+1]+i,r[e+2]=r[e+2]+i}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.Image.filters,i=e.util.createClass;n.Convolute=i(n.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),r=this.type+"_"+e+"_"+(this.opaque?1:0),n=this.fragmentSource[r];return t.programCache.hasOwnProperty(r)||(t.programCache[r]=this.createProgram(t.context,n)),t.programCache[r]},applyTo2d:function(t){var e,r,n,i,a,s,o,l,c,u,h,f,d,p=t.imageData,g=p.data,m=this.matrix,v=Math.round(Math.sqrt(m.length)),y=Math.floor(v/2),b=p.width,_=p.height,T=t.ctx.createImageData(b,_),E=T.data,x=this.opaque?1:0;for(h=0;h<_;h++)for(u=0;u<b;u++){for(a=4*(h*b+u),e=0,r=0,n=0,i=0,d=0;d<v;d++)for(f=0;f<v;f++)s=u+f-y,(o=h+d-y)<0||o>=_||s<0||s>=b||(l=4*(o*b+s),c=m[d*v+f],e+=g[l]*c,r+=g[l+1]*c,n+=g[l+2]*c,x||(i+=g[l+3]*c));E[a]=e,E[a+1]=r,E[a+2]=n,E[a+3]=x?g[a+3]:i}t.imageData=T},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return r(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Grayscale=n(r.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,r,n=t.imageData.data,i=n.length,a=this.mode;for(e=0;e<i;e+=4)"average"===a?r=(n[e]+n[e+1]+n[e+2])/3:"lightness"===a?r=(Math.min(n[e],n[e+1],n[e+2])+Math.max(n[e],n[e+1],n[e+2]))/2:"luminosity"===a&&(r=.21*n[e]+.72*n[e+1]+.07*n[e+2]),n[e]=r,n[e+1]=r,n[e+2]=r},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var r=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,r)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Invert=n(r.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,r=t.imageData.data,n=r.length;for(e=0;e<n;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.Image.filters,i=e.util.createClass;n.Noise=i(n.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,r,n=t.imageData.data,i=n.length,a=this.noise;for(e=0,i=n.length;e<i;e+=4)r=(.5-Math.random())*a,n[e]+=r,n[e+1]+=r,n[e+2]+=r}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return r(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Pixelate=n(r.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,r,n,i,a,s,o,l,c,u,h,f=t.imageData,d=f.data,p=f.height,g=f.width;for(r=0;r<p;r+=this.blocksize)for(n=0;n<g;n+=this.blocksize)for(i=d[e=4*r*g+4*n],a=d[e+1],s=d[e+2],o=d[e+3],u=Math.min(r+this.blocksize,p),h=Math.min(n+this.blocksize,g),l=r;l<u;l++)for(c=n;c<h;c++)d[e=4*l*g+4*c]=i,d[e+1]=a,d[e+2]=s,d[e+3]=o},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,n=e.Image.filters,i=e.util.createClass;n.RemoveColor=i(n.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var r,n,i,a,s=t.imageData.data,o=255*this.distance,l=new e.Color(this.color).getSource(),c=[l[0]-o,l[1]-o,l[2]-o],u=[l[0]+o,l[1]+o,l[2]+o];for(r=0;r<s.length;r+=4)n=s[r],i=s[r+1],a=s[r+2],n>c[0]&&i>c[1]&&a>c[2]&&n<u[0]&&i<u[1]&&a<u[2]&&(s[r+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,r){var n=new e.Color(this.color).getSource(),i=parseFloat(this.distance),a=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],s=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];t.uniform4fv(r.uLow,a),t.uniform4fv(r.uHigh,s)},toObject:function(){return r(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in i)r[a]=n(r.ColorMatrix,{type:a,matrix:i[a],mainParameter:!1,colorsOnly:!0}),e.Image.filters[a].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,r=e.Image.filters,n=e.util.createClass;r.BlendColor=n(r.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,r=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(r)||(e=this.buildSource(this.mode),t.programCache[r]=this.createProgram(t.context,e)),t.programCache[r]},applyTo2d:function(t){var r,n,i,a,s,o,l,c=t.imageData.data,u=c.length,h=1-this.alpha;r=(l=new e.Color(this.color).getSource())[0]*this.alpha,n=l[1]*this.alpha,i=l[2]*this.alpha;for(var f=0;f<u;f+=4)switch(a=c[f],s=c[f+1],o=c[f+2],this.mode){case"multiply":c[f]=a*r/255,c[f+1]=s*n/255,c[f+2]=o*i/255;break;case"screen":c[f]=255-(255-a)*(255-r)/255,c[f+1]=255-(255-s)*(255-n)/255,c[f+2]=255-(255-o)*(255-i)/255;break;case"add":c[f]=a+r,c[f+1]=s+n,c[f+2]=o+i;break;case"diff":case"difference":c[f]=Math.abs(a-r),c[f+1]=Math.abs(s-n),c[f+2]=Math.abs(o-i);break;case"subtract":c[f]=a-r,c[f+1]=s-n,c[f+2]=o-i;break;case"darken":c[f]=Math.min(a,r),c[f+1]=Math.min(s,n),c[f+2]=Math.min(o,i);break;case"lighten":c[f]=Math.max(a,r),c[f+1]=Math.max(s,n),c[f+2]=Math.max(o,i);break;case"overlay":c[f]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,c[f+1]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,c[f+2]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255;break;case"exclusion":c[f]=r+a-2*r*a/255,c[f+1]=n+s-2*n*s/255,c[f+2]=i+o-2*i*o/255;break;case"tint":c[f]=r+a*h,c[f+1]=n+s*h,c[f+2]=i+o*h}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,r){var n=new e.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(r.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,r=e.Image.filters,n=e.util.createClass;r.BlendImage=n(r.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,r)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,r=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,r,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,r=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/r,1]},applyTo2d:function(t){var r,n,i,a,s,o,l,c,u,h,f,d=t.imageData,p=t.filterBackend.resources,g=d.data,m=g.length,v=d.width,y=d.height,b=this.image;p.blendImage||(p.blendImage=e.util.createCanvasElement()),h=(u=p.blendImage).getContext("2d"),u.width!==v||u.height!==y?(u.width=v,u.height=y):h.clearRect(0,0,v,y),h.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),h.drawImage(b._element,0,0,v,y),f=h.getImageData(0,0,v,y).data;for(var _=0;_<m;_+=4)switch(s=g[_],o=g[_+1],l=g[_+2],c=g[_+3],r=f[_],n=f[_+1],i=f[_+2],a=f[_+3],this.mode){case"multiply":g[_]=s*r/255,g[_+1]=o*n/255,g[_+2]=l*i/255,g[_+3]=c*a/255;break;case"mask":g[_+3]=a}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var r=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,r){e.Image.fromObject(t.image,(function(n){var i=e.util.object.clone(t);i.image=n,r(new e.Image.filters.BlendImage(i))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=Math.pow,n=Math.floor,i=Math.sqrt,a=Math.abs,s=Math.round,o=Math.sin,l=Math.ceil,c=e.Image.filters,u=e.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),r=this.type+"_"+e;if(!t.programCache.hasOwnProperty(r)){var n=this.generateShader(e);t.programCache[r]=this.createProgram(t.context,n)}return t.programCache[r]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,r=this.getFilterWindow(),n=new Array(r),i=1;i<=r;i++)n[i-1]=t(i*e);return n},generateShader:function(t){for(var e=new Array(t),r=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return r+="uniform float uTaps["+t+"];\n",r+="void main() {\n",r+="  vec4 color = texture2D(uTexture, vTexCoord);\n",r+="  float sum = 1.0;\n",e.forEach((function(t,e){r+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",r+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",r+="  sum += 2.0 * uTaps["+e+"];\n"})),r+="  gl_FragColor = color / sum;\n",r+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var r=(e*=Math.PI)/t;return o(e)/e*o(r)/r}},applyTo2d:function(t){var e=t.imageData,r=this.scaleX,n=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/n;var i,a=e.width,o=e.height,l=s(a*r),c=s(o*n);"sliceHack"===this.resizeType?i=this.sliceByTwo(t,a,o,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(t,a,o,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(t,a,o,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(t,a,o,l,c)),t.imageData=i},sliceByTwo:function(t,r,i,a,s){var o,l,c=t.imageData,u=.5,h=!1,f=!1,d=r*u,p=i*u,g=e.filterBackend.resources,m=0,v=0,y=r,b=0;for(g.sliceByTwo||(g.sliceByTwo=document.createElement("canvas")),((o=g.sliceByTwo).width<1.5*r||o.height<i)&&(o.width=1.5*r,o.height=i),(l=o.getContext("2d")).clearRect(0,0,1.5*r,i),l.putImageData(c,0,0),a=n(a),s=n(s);!h||!f;)r=d,i=p,a<n(d*u)?d=n(d*u):(d=a,h=!0),s<n(p*u)?p=n(p*u):(p=s,f=!0),l.drawImage(o,m,v,r,i,y,b,d,p),m=y,v=b,b+=p;return l.getImageData(m,v,a,s)},lanczosResize:function(t,e,s,o,c){var u=t.imageData.data,h=t.ctx.createImageData(o,c),f=h.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,g=this.rcpScaleY,m=2/this.rcpScaleX,v=2/this.rcpScaleY,y=l(p*this.lanczosLobes/2),b=l(g*this.lanczosLobes/2),_={},T={},E={};return function t(l){var x,S,w,C,O,k,A,D,L,R,P;for(T.x=(l+.5)*p,E.x=n(T.x),x=0;x<c;x++){for(T.y=(x+.5)*g,E.y=n(T.y),O=0,k=0,A=0,D=0,L=0,S=E.x-y;S<=E.x+y;S++)if(!(S<0||S>=e)){R=n(1e3*a(S-T.x)),_[R]||(_[R]={});for(var M=E.y-b;M<=E.y+b;M++)M<0||M>=s||(P=n(1e3*a(M-T.y)),_[R][P]||(_[R][P]=d(i(r(R*m,2)+r(P*v,2))/1e3)),(w=_[R][P])>0&&(O+=w,k+=w*u[C=4*(M*e+S)],A+=w*u[C+1],D+=w*u[C+2],L+=w*u[C+3]))}f[C=4*(x*o+l)]=k/O,f[C+1]=A/O,f[C+2]=D/O,f[C+3]=L/O}return++l<o?t(l):h}(0)},bilinearFiltering:function(t,e,r,i,a){var s,o,l,c,u,h,f,d,p,g=0,m=this.rcpScaleX,v=this.rcpScaleY,y=4*(e-1),b=t.imageData.data,_=t.ctx.createImageData(i,a),T=_.data;for(l=0;l<a;l++)for(c=0;c<i;c++)for(u=m*c-(s=n(m*c)),h=v*l-(o=n(v*l)),p=4*(o*e+s),f=0;f<4;f++)d=b[p+f]*(1-u)*(1-h)+b[p+4+f]*u*(1-h)+b[p+y+f]*h*(1-u)+b[p+y+4+f]*u*h,T[g++]=d;return _},hermiteFastResize:function(t,e,r,s,o){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),f=l(u/2),d=t.imageData.data,p=t.ctx.createImageData(s,o),g=p.data,m=0;m<o;m++)for(var v=0;v<s;v++){for(var y=4*(v+m*s),b=0,_=0,T=0,E=0,x=0,S=0,w=0,C=(m+.5)*u,O=n(m*u);O<(m+1)*u;O++)for(var k=a(C-(O+.5))/f,A=(v+.5)*c,D=k*k,L=n(v*c);L<(v+1)*c;L++){var R=a(A-(L+.5))/h,P=i(D+R*R);P>1&&P<-1||(b=2*P*P*P-3*P*P+1)>0&&(w+=b*d[(R=4*(L+O*e))+3],T+=b,d[R+3]<255&&(b=b*d[R+3]/250),E+=b*d[R],x+=b*d[R+1],S+=b*d[R+2],_+=b)}g[y]=E/_,g[y+1]=x/_,g[y+2]=S/_,g[y+3]=w/T}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Contrast=n(r.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,r=t.imageData.data,n=r.length,i=Math.floor(255*this.contrast),a=259*(i+255)/(255*(259-i));for(e=0;e<n;e+=4)r[e]=a*(r[e]-128)+128,r[e+1]=a*(r[e+1]-128)+128,r[e+2]=a*(r[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Saturation=n(r.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,r,n=t.imageData.data,i=n.length,a=-this.saturation;for(e=0;e<i;e+=4)r=Math.max(n[e],n[e+1],n[e+2]),n[e]+=r!==n[e]?(r-n[e])*a:0,n[e+1]+=r!==n[e+1]?(r-n[e+1])*a:0,n[e+2]+=r!==n[e+2]?(r-n[e+2])*a:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Vibrance=n(r.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,r,n,i,a=t.imageData.data,s=a.length,o=-this.vibrance;for(e=0;e<s;e+=4)r=Math.max(a[e],a[e+1],a[e+2]),n=(a[e]+a[e+1]+a[e+2])/3,i=2*Math.abs(r-n)/255*o,a[e]+=r!==a[e]?(r-a[e])*i:0,a[e+1]+=r!==a[e+1]?(r-a[e+1])*i:0,a[e+2]+=r!==a[e+2]?(r-a[e+2])*i:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Blur=n(r.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var r,n,i=t.filterBackend.resources,a=t.imageData.width,s=t.imageData.height;i.blurLayer1||(i.blurLayer1=e.util.createCanvasElement(),i.blurLayer2=e.util.createCanvasElement()),r=i.blurLayer1,n=i.blurLayer2,r.width===a&&r.height===s||(n.width=r.width=a,n.height=r.height=s);var o,l,c,u,h=r.getContext("2d"),f=n.getContext("2d"),d=15,p=.06*this.blur*.5;for(h.putImageData(t.imageData,0,0),f.clearRect(0,0,a,s),u=-15;u<=d;u++)c=p*(l=u/d)*a+(o=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(l),f.drawImage(r,c,o),h.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);for(u=-15;u<=d;u++)c=p*(l=u/d)*s+(o=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(l),f.drawImage(r,o,c),h.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);t.ctx.drawImage(r,0,0);var g=t.ctx.getImageData(0,0,r.width,r.height);return h.globalAlpha=1,h.clearRect(0,0,r.width,r.height),g},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var r=this.chooseRightDelta();t.uniform2fv(e.delta,r)},chooseRightDelta:function(){var t,e=1,r=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?r[0]=t:r[1]=t,r}}),r.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Gamma=n(r.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],r.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,r=t.imageData.data,n=this.gamma,i=r.length,a=1/n[0],s=1/n[1],o=1/n[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,i=256;e<i;e++)this.rVals[e]=255*Math.pow(e/255,a),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,o);for(e=0,i=r.length;e<i;e+=4)r[e]=this.rVals[r[e]],r[e+1]=this.gVals[r[e+1]],r[e+2]=this.bVals[r[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.Composed=n(r.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,r){var n=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),i=new e.Image.filters.Composed({subFilters:n});return r&&r(i),i}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,n=e.util.createClass;r.HueRotation=n(r.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,r=e.util.cos(t),n=e.util.sin(t),i=1/3,a=Math.sqrt(i)*n,s=1-r;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=r+s/3,this.matrix[1]=i*s-a,this.matrix[2]=i*s+a,this.matrix[5]=i*s+a,this.matrix[6]=r+i*s,this.matrix[7]=i*s-a,this.matrix[10]=i*s-a,this.matrix[11]=i*s+a,this.matrix[12]=r+i*s},isNeutralState:function(t){return this.calculateMatrix(),r.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),r.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var n="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(n),cacheProperties:e.Object.prototype.cacheProperties.concat(n),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,r,n,i,a,s,o=0,l=this._textLines.length;o<l;o++)if(("justify"===this.textAlign||o!==l-1&&!this.isEndOfWrapping(o))&&(n=0,i=this._textLines[o],(e=this.getLineWidth(o))<this.width&&(s=this.textLines[o].match(this._reSpacesAndTabs)))){r=s.length,t=(this.width-e)/r;for(var c=0,u=i.length;c<=u;c++)a=this.__charBounds[o][c],this._reSpaceAndTab.test(i[c])?(a.width+=t,a.kernedWidth+=t,a.left+=n,n+=t):a.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,r){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,r)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,r=this._textLines.length;e<r;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,r,n,i,a){this._renderChars(t,e,r,n,i,a)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,r,n,i,a,s,o,l=t.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),h=0,f=0,d=this.path,p=0,g=this._textLines.length;p<g;p++)if(e=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){n=this._textLines[p],r=this._getLineLeftOffset(p),f=0,h=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,v=n.length;m<v;m++)a=this.__charBounds[p][m],s=this.getValueOfPropertyAt(p,m,"textBackgroundColor"),d?(t.save(),t.translate(a.renderLeft,a.renderTop),t.rotate(a.angle),t.fillStyle=s,s&&t.fillRect(-a.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),a.width,e/this.lineHeight),t.restore()):s!==i?(o=c+r+h,"rtl"===this.direction&&(o=this.width-o-f),t.fillStyle=i,i&&t.fillRect(o,u,f,e/this.lineHeight),h=a.left,f=a.width,i=s):f+=a.kernedWidth;s&&!d&&(o=c+r+h,"rtl"===this.direction&&(o=this.width-o-f),t.fillStyle=s,t.fillRect(o,u,f,e/this.lineHeight)),u+=e}else u+=e;t.fillStyle=l,this._removeShadow(t)}},getFontCache:function(t){var r=t.fontFamily.toLowerCase();e.charWidthsCache[r]||(e.charWidthsCache[r]={});var n=e.charWidthsCache[r],i=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[i]||(n[i]={}),n[i]},_measureChar:function(t,e,r,n){var i,a,s,o,l=this.getFontCache(e),c=r+t,u=this._getFontDeclaration(e)===this._getFontDeclaration(n),h=e.fontSize/this.CACHE_FONT_SIZE;if(r&&void 0!==l[r]&&(s=l[r]),void 0!==l[t]&&(o=i=l[t]),u&&void 0!==l[c]&&(o=(a=l[c])-s),void 0===i||void 0===s||void 0===a){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===i&&(o=i=f.measureText(t).width,l[t]=i),void 0===s&&u&&r&&(s=f.measureText(r).width,l[r]=s),u&&void 0===a&&(a=f.measureText(c).width,l[c]=a,o=a-s),{width:i*h,kernedWidth:o*h}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var r,n,i,a,s,o,l=0,c=this._textLines[t],u=new Array(c.length),h=0,f=this.path,d="right"===this.pathSide;for(this.__charBounds[t]=u,r=0;r<c.length;r++)n=c[r],a=this._getGraphemeBox(n,t,r,i),u[r]=a,l+=a.kernedWidth,i=n;if(u[r]={left:a?a.left+a.width:0,width:0,kernedWidth:0,height:this.fontSize},f){switch(o=f.segmentsInfo[f.segmentsInfo.length-1].length,(s=e.util.getPointOnPath(f.path,0,f.segmentsInfo)).x+=f.pathOffset.x,s.y+=f.pathOffset.y,this.textAlign){case"left":h=d?o-l:0;break;case"center":h=(o-l)/2;break;case"right":h=d?0:o-l}for(h+=this.pathStartOffset*(d?-1:1),r=d?c.length-1:0;d?r>=0:r<c.length;d?r--:r++)a=u[r],h>o?h%=o:h<0&&(h+=o),this._setGraphemeOnPath(h,a,s),h+=a.kernedWidth}return{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(t,r,n){var i=t+r.kernedWidth/2,a=this.path,s=e.util.getPointOnPath(a.path,i,a.segmentsInfo);r.renderLeft=s.x-n.x,r.renderTop=s.y-n.y,r.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,r,n,i){var a,s=this.getCompleteStyleDeclaration(e,r),o=n?this.getCompleteStyleDeclaration(e,r-1):{},l=this._measureChar(t,s,n,o),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=a=this._getWidthOfCharSpacing(),c+=a);var h={width:u,left:0,height:s.fontSize,kernedWidth:c,deltaY:s.deltaY};if(r>0&&!i){var f=this.__charBounds[e][r-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],r=this.getHeightOfChar(t,0),n=1,i=e.length;n<i;n++)r=Math.max(this.getHeightOfChar(t,n),r);return this.__lineHeights[t]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,r=0,n=this._textLines.length;r<n;r++)t=this.getHeightOfLine(r),e+=r===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var r=0,n=this._getLeftOffset(),i=this._getTopOffset(),a=0,s=this._textLines.length;a<s;a++){var o=this.getHeightOfLine(a),l=o/this.lineHeight,c=this._getLineLeftOffset(a);this._renderTextLine(e,t,this._textLines[a],n+c,i+r+l,a),r+=o}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,r,n,i,a){var s,o,l,c,u,h=this.getHeightOfLine(a),f=-1!==this.textAlign.indexOf("justify"),d="",p=0,g=this.path,m=!f&&0===this.charSpacing&&this.isEmptyStyles(a)&&!g,v="ltr"===this.direction,y="ltr"===this.direction?1:-1;if(e.save(),i-=h*this._fontSizeFraction/this.lineHeight,m)return e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?"left":"right",this._renderChar(t,e,a,0,r.join(""),n,i,h),void e.restore();for(var b=0,_=r.length-1;b<=_;b++)c=b===_||this.charSpacing||g,d+=r[b],l=this.__charBounds[a][b],0===p?(n+=y*(l.kernedWidth-l.width),p+=l.width):p+=l.kernedWidth,f&&!c&&this._reSpaceAndTab.test(r[b])&&(c=!0),c||(s=s||this.getCompleteStyleDeclaration(a,b),o=this.getCompleteStyleDeclaration(a,b+1),c=this._hasStyleChanged(s,o)),c&&(g?(e.save(),e.translate(l.renderLeft,l.renderTop),e.rotate(l.angle),this._renderChar(t,e,a,b,d,-p/2,0,h),e.restore()):(u=n,e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?"left":"right",this._renderChar(t,e,a,b,d,u,i,h)),d="",s=o,n+=y*p,p=0);e.restore()},_applyPatternGradientTransformText:function(t){var r,n=e.util.createCanvasElement(),i=this.width+this.strokeWidth,a=this.height+this.strokeWidth;return n.width=i,n.height=a,(r=n.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(i,0),r.lineTo(i,a),r.lineTo(0,a),r.closePath(),r.translate(i/2,a/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(n,"no-repeat")},handleFiller:function(t,e,r){var n,i;return r.toLive?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?(n=-this.width/2,i=-this.height/2,t.translate(n,i),t[e]=this._applyPatternGradientTransformText(r),{offsetX:n,offsetY:i}):(t[e]=r.toLive(t,this),this._applyPatternGradientTransform(t,r)):(t[e]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,r,n,i,a,s){var o,l,c=this._getStyleDeclaration(r,n),u=this.getCompleteStyleDeclaration(r,n),h="fillText"===t&&u.fill,f="strokeText"===t&&u.stroke&&u.strokeWidth;(f||h)&&(e.save(),h&&(o=this._setFillStyles(e,u)),f&&(l=this._setStrokeStyles(e,u)),e.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(e),c&&c.deltaY&&(s+=c.deltaY),h&&e.fillText(i,a-o.offsetX,s-o.offsetY),f&&e.strokeText(i,a-l.offsetX,s-l.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,r){var n=this.get2DCursorLocation(t,!0),i=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),a=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),s={fontSize:i*r.size,deltaY:a+i*r.baseline};return this.setSelectionStyles(s,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),r=this.width-e,n=this.textAlign,i=this.direction,a=0,s=this.isEndOfWrapping(t);return"justify"===n||"justify-center"===n&&!s||"justify-right"===n&&!s||"justify-left"===n&&!s?0:("center"===n&&(a=r/2),"right"===n&&(a=r),"justify-center"===n&&(a=r/2),"justify-right"===n&&(a=r),"rtl"===i&&(a-=r),a)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,r){var n=this._getStyleDeclaration(t,e);return n&&"undefined"!==typeof n[r]?n[r]:this[r]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var r,n,i,a,s,o,l,c,u,h,f,d,p,g,m,v,y=this._getLeftOffset(),b=this._getTopOffset(),_=this.path,T=this._getWidthOfCharSpacing(),E=this.offsets[e],x=0,S=this._textLines.length;x<S;x++)if(r=this.getHeightOfLine(x),this[e]||this.styleHas(e,x)){l=this._textLines[x],g=r/this.lineHeight,a=this._getLineLeftOffset(x),h=0,f=0,c=this.getValueOfPropertyAt(x,0,e),v=this.getValueOfPropertyAt(x,0,"fill"),u=b+g*(1-this._fontSizeFraction),n=this.getHeightOfChar(x,0),s=this.getValueOfPropertyAt(x,0,"deltaY");for(var w=0,C=l.length;w<C;w++)if(d=this.__charBounds[x][w],p=this.getValueOfPropertyAt(x,w,e),m=this.getValueOfPropertyAt(x,w,"fill"),i=this.getHeightOfChar(x,w),o=this.getValueOfPropertyAt(x,w,"deltaY"),_&&p&&m)t.save(),t.fillStyle=v,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,E*i+o,d.kernedWidth,this.fontSize/15),t.restore();else if((p!==c||m!==v||i!==n||o!==s)&&f>0){var O=y+a+h;"rtl"===this.direction&&(O=this.width-O-f),c&&v&&(t.fillStyle=v,t.fillRect(O,u+E*n+s,f,this.fontSize/15)),h=d.left,f=d.width,c=p,v=m,n=i,s=o}else f+=d.kernedWidth;O=y+a+h;"rtl"===this.direction&&(O=this.width-O-f),t.fillStyle=m,p&&m&&t.fillRect(O,u+E*n+s,f-T,this.fontSize/15),b+=r}else b+=r;this._removeShadow(t)}},_getFontDeclaration:function(t,r){var n=t||this,i=this.fontFamily,a=e.Text.genericFonts.indexOf(i.toLowerCase())>-1,s=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||a?n.fontFamily:'"'+n.fontFamily+'"';return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,r?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var r=t.split(this._reNewline),n=new Array(r.length),i=["\n"],a=[],s=0;s<r.length;s++)n[s]=e.util.string.graphemeSplit(r[s]),a=a.concat(n[s],i);return a.pop(),{_unwrappedLines:n,lines:r,graphemeText:a,graphemeLines:n}},toObject:function(t){var e=n.concat(t),i=this.callSuper("toObject",e);return i.styles=r(this.styles,!0),i.path&&(i.path=this.path.toObject()),i},set:function(t,e){this.callSuper("set",t,e);var r=!1,n=!1;if("object"===typeof t)for(var i in t)"path"===i&&this.setPathInfo(),r=r||-1!==this._dimensionAffectingProps.indexOf(i),n=n||"path"===i;else r=-1!==this._dimensionAffectingProps.indexOf(t),n="path"===t;return n&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,i){if(!t)return n(null);var a=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=a.textAnchor||"left";if((i=e.util.object.extend(i?r(i):{},a)).top=i.top||0,i.left=i.left||0,a.textDecoration){var o=a.textDecoration;-1!==o.indexOf("underline")&&(i.underline=!0),-1!==o.indexOf("overline")&&(i.overline=!0),-1!==o.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in a&&(i.left+=a.dx),"dy"in a&&(i.top+=a.dy),"fontSize"in i||(i.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in t?l=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(l=t.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new e.Text(l,i),h=u.getScaledHeight()/u.height,f=((u.height+u.strokeWidth)*u.lineHeight-u.height)*h,d=u.getScaledHeight()+f,p=0;"center"===s&&(p=u.getScaledWidth()/2),"right"===s&&(p=u.getScaledWidth()),u.set({left:u.left-p,top:u.top-(d-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),n(u)},e.Text.fromObject=function(t,n){var i=r(t),a=t.path;return delete i.path,e.Object._fromObject("Text",i,(function(t){a?e.Object._fromObject("Path",a,(function(e){t.set("path",e),n(t)}),"path"):n(t)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if("undefined"!==typeof t&&!this.styles[t])return!0;var e="undefined"===typeof t?this.styles:{line:this.styles[t]};for(var r in e)for(var n in e[r])for(var i in e[r][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if("undefined"!==typeof e&&!this.styles[e])return!1;var r="undefined"===typeof e?this.styles:{0:this.styles[e]};for(var n in r)for(var i in r[n])if("undefined"!==typeof r[n][i][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,r,n=this.styles,i=0,a=!0,s=0;for(var o in n){for(var l in e=0,n[o]){var c;i++,(c=n[o][l]).hasOwnProperty(t)?(r?c[t]!==r&&(a=!1):r=c[t],c[t]===this[t]&&delete c[t]):a=!1,0!==Object.keys(c).length?e++:delete n[o][l]}0===e&&delete n[o]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;a&&i===s&&(this[t]=r,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,r,n,i=this.styles;for(r in i){for(n in e=i[r])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete i[r]}}},_extendStyles:function(t,e){var r=this.get2DCursorLocation(t);this._getLineStyle(r.lineIndex)||this._setLineStyle(r.lineIndex),this._getStyleDeclaration(r.lineIndex,r.charIndex)||this._setStyleDeclaration(r.lineIndex,r.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(r.lineIndex,r.charIndex),e)},get2DCursorLocation:function(t,e){"undefined"===typeof t&&(t=this.selectionStart);for(var r=e?this._unwrappedTextLines:this._textLines,n=r.length,i=0;i<n;i++){if(t<=r[i].length)return{lineIndex:i,charIndex:t};t-=r[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:r[i-1].length<t?r[i-1].length:t}},getSelectionStyles:function(t,e,r){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof e&&(e=this.selectionEnd||t);for(var n=[],i=t;i<e;i++)n.push(this.getStyleAtPosition(i,r));return n},getStyleAtPosition:function(t,e){var r=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(r.lineIndex,r.charIndex):this._getStyleDeclaration(r.lineIndex,r.charIndex))||{}},setSelectionStyles:function(t,e,r){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof r&&(r=this.selectionEnd||e);for(var n=e;n<r;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var r=this.styles&&this.styles[t];return r?r[e]:null},getCompleteStyleDeclaration:function(t,e){for(var r,n=this._getStyleDeclaration(t,e)||{},i={},a=0;a<this._styleProperties.length;a++)i[r=this._styleProperties[a]]="undefined"===typeof n[r]?this[r]:n[r];return i},_setStyleDeclaration:function(t,e,r){this.styles[t][e]=r},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,r=this.height+4;t.clearRect(-e/2,-r/2,e,r)},_getCursorBoundaries:function(t){"undefined"===typeof t&&(t=this.selectionStart);var e=this._getLeftOffset(),r=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:r,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,r,n,i,a=0,s=0,o=this.get2DCursorLocation(t);n=o.charIndex,r=o.lineIndex;for(var l=0;l<r;l++)a+=this.getHeightOfLine(l);e=this._getLineLeftOffset(r);var c=this.__charBounds[r][n];return c&&(s=c.left),0!==this.charSpacing&&n===this._textLines[r].length&&(s-=this._getWidthOfCharSpacing()),i={top:a,left:e+(s>0?s:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(t,e){var r=this.get2DCursorLocation(),n=r.lineIndex,i=r.charIndex>0?r.charIndex-1:0,a=this.getValueOfPropertyAt(n,i,"fontSize"),s=this.scaleX*this.canvas.getZoom(),o=this.cursorWidth/s,l=t.topOffset,c=this.getValueOfPropertyAt(n,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,i,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-o/2,l+t.top+c,o,a)},renderSelection:function(t,e){for(var r=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(r),s=this.get2DCursorLocation(n),o=a.lineIndex,l=s.lineIndex,c=a.charIndex<0?0:a.charIndex,u=s.charIndex<0?0:s.charIndex,h=o;h<=l;h++){var f,d=this._getLineLeftOffset(h)||0,p=this.getHeightOfLine(h),g=0,m=0;if(h===o&&(g=this.__charBounds[o][c].left),h>=o&&h<l)m=i&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===l)if(0===u)m=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();m=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}f=p,(this.lineHeight<1||h===l&&this.lineHeight>1)&&(p/=this.lineHeight);var y=t.left+d+g,b=m-g,_=p,T=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,T=p):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),e.fillRect(y,t.top+t.topOffset+T,b,_),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),i.IText.fromObject=function(e,r){if(t(e),e.styles)for(var n in e.styles)for(var a in e.styles[n])t(e.styles[n][a]);i.Object._fromObject("IText",e,r,"text")}}(),function(){var t=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],i.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,r,n){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:r,onComplete:function(){i.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,r=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),r)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,r=t-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r--;for(;/\S/.test(this._text[r])&&r>-1;)e++,r--;return t-e},findWordBoundaryRight:function(t){var e=0,r=t;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)e++,r++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,r=t-1;!/\n/.test(this._text[r])&&r>-1;)e++,r--;return t-e},findLineBoundaryRight:function(t){for(var e=0,r=t;!/\n/.test(this._text[r])&&r<this._text.length;)e++,r++;return t+e},searchWordBoundary:function(t,e){for(var r=this._text,n=this._reSpace.test(r[t])?t-1:t,a=r[n],s=i.reNonWord;!s.test(a)&&n>0&&n<r.length;)a=r[n+=e];return s.test(a)&&(n+=1===e?0:1),n},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),r=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),r=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),r=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&r!==n||r!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,r){var n=r.slice(0,t),a=i.util.string.graphemeSplit(n).length;if(t===e)return{selectionStart:a,selectionEnd:a};var s=r.slice(t,e);return{selectionStart:a,selectionEnd:a+i.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(t,e,r){var n=r.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+r.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),r=this.get2DCursorLocation(t),n=r.lineIndex,a=r.charIndex,s=this.getValueOfPropertyAt(n,a,"fontSize")*this.lineHeight,o=e.leftOffset,l=this.calcTransformMatrix(),c={x:e.left+o,y:e.top+e.topOffset+s},u=this.canvas.getRetinaScaling(),h=this.canvas.upperCanvasEl,f=h.width/u,d=h.height/u,p=f-s,g=d-s,m=h.clientWidth/f,v=h.clientHeight/d;return c=i.util.transformPoint(c,l),(c=i.util.transformPoint(c,this.canvas.viewportTransform)).x*=m,c.y*=v,c.x<0&&(c.x=0),c.x>p&&(c.x=p),c.y<0&&(c.y=0),c.y>g&&(c.y=g),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var r,n,i=this.get2DCursorLocation(t,!0),a=this.get2DCursorLocation(e,!0),s=i.lineIndex,o=i.charIndex,l=a.lineIndex,c=a.charIndex;if(s!==l){if(this.styles[s])for(r=o;r<this._unwrappedTextLines[s].length;r++)delete this.styles[s][r];if(this.styles[l])for(r=c;r<this._unwrappedTextLines[l].length;r++)(n=this.styles[l][r])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][o+r-c]=n);for(r=s+1;r<=l;r++)delete this.styles[r];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){n=this.styles[s];var u,h,f=c-o;for(r=o;r<c;r++)delete n[r];for(h in this.styles[s])(u=parseInt(h,10))>=c&&(n[u-f]=n[h],delete n[h])}},shiftLineStyles:function(e,r){var n=t(this.styles);for(var i in this.styles){var a=parseInt(i,10);a>e&&(this.styles[a+r]=n[a],n[a-r]||delete this.styles[a])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,r,n,i){var a,s={},o=!1,l=this._unwrappedTextLines[e].length===r;for(var c in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(a=this.styles[e][0===r?r:r-1]),this.styles[e]){var u=parseInt(c,10);u>=r&&(o=!0,s[u-r]=this.styles[e][c],l&&0===r||delete this.styles[e][c])}var h=!1;for(o&&!l&&(this.styles[e+n]=s,h=!0),h&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:t(i[n-1])}:a?this.styles[e+n]={0:t(a)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,r,n,i){this.styles||(this.styles={});var a=this.styles[e],s=a?t(a):{};for(var o in n||(n=1),s){var l=parseInt(o,10);l>=r&&(a[l+n]=s[l],s[l-n]||delete a[l])}if(this._forceClearCache=!0,i)for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=t(i[n]));else if(a)for(var c=a[r?r-1:1];c&&n--;)this.styles[e][r+n]=t(c)},insertNewStyleBlock:function(t,e,r){for(var n=this.get2DCursorLocation(e,!0),i=[0],a=0,s=0;s<t.length;s++)"\n"===t[s]?i[++a]=0:i[a]++;i[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,i[0],r),r=r&&r.slice(i[0]+1)),a&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+i[0],a);for(s=1;s<a;s++)i[s]>0?this.insertCharStyleObject(n.lineIndex+s,0,i[s],r):r&&(this.styles[n.lineIndex+s][0]=r[0]),r=r&&r.slice(i[s]+1);i[s]>0&&this.insertCharStyleObject(n.lineIndex+s,0,i[s],r)},setSelectionStartEndWithShift:function(t,e,r){r<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=r):r>t&&r<e?"right"===this._selectionDirection?this.selectionEnd=r:this.selectionStart=r:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=r)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),r=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(r,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,r=this.getLocalPointer(t),n=0,i=0,a=0,s=0,o=0,l=0,c=this._textLines.length;l<c&&a<=r.y;l++)a+=this.getHeightOfLine(l)*this.scaleY,o=l,l>0&&(s+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));i=this._getLineLeftOffset(o)*this.scaleX,e=this._textLines[o],"rtl"===this.direction&&(r.x=this.width*this.scaleX-r.x+i);for(var u=0,h=e.length;u<h&&(n=i,(i+=this.__charBounds[o][u].kernedWidth*this.scaleX)<=r.x);u++)s++;return this._getNewSelectionStartFromOffset(r,n,i,s,h)},_getNewSelectionStartFromOffset:function(t,e,r,n,i){var a=t.x-e,s=r-t.x,o=n+(s>a||s<0?0:1);return this.flipX&&(o=i-o),o>this._text.length&&(o=this._text.length),o}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var r,n,a,s,o,l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,u=l.length,h=u-c,f=this.selectionStart,d=this.selectionEnd,p=f!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var g=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),m=f>g.selectionStart;p?(r=this._text.slice(f,d),h+=d-f):u<c&&(r=m?this._text.slice(d+h,d):this._text.slice(f,f-h)),n=l.slice(g.selectionEnd-h,g.selectionEnd),r&&r.length&&(n.length&&(a=this.getSelectionStyles(f,f+1,!1),a=n.map((function(){return a[0]}))),p?(s=f,o=d):m?(s=d-r.length,o=d):(s=d,o=d+r.length),this.removeStyleFromTo(s,o)),n.length&&(e&&n.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(a=i.copiedTextStyle),this.insertNewStyleBlock(n,f,a)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(t,e){var r,n=this._getLineLeftOffset(t);return e>0&&(n+=(r=this.__charBounds[t][e-1]).left+r.width),n},getDownCursorOffset:function(t,e){var r=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(r),i=n.lineIndex;if(i===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-r;var a=n.charIndex,s=this._getWidthBeforeCursor(i,a),o=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(a).length+o+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var r=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(r),i=n.lineIndex;if(0===i||t.metaKey||33===t.keyCode)return-r;var a=n.charIndex,s=this._getWidthBeforeCursor(i,a),o=this._getIndexOnLine(i-1,s),l=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+o-l.length+(1-c)},_getIndexOnLine:function(t,e){for(var r,n,i=this._textLines[t],a=this._getLineLeftOffset(t),s=0,o=0,l=i.length;o<l;o++)if((a+=r=this.__charBounds[t][o].width)>e){n=!0;var c=a-r,u=a,h=Math.abs(c-e);s=Math.abs(u-e)<h?o:o-1;break}return n||(s=i.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var r=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),0!==r&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,r){var n;if(t.altKey)n=this["findWordBoundary"+r](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===r?-1:1,!0;n=this["findLineBoundary"+r](this[e])}if(void 0!==typeof n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var r="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?r+="Shift":r+="outShift",this[r](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){"undefined"===typeof e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,r,n){"undefined"===typeof n&&(n=r),n>r&&this.removeStyleFromTo(r,n);var a=i.util.string.graphemeSplit(t);this.insertNewStyleBlock(a,r,e),this._text=[].concat(this._text.slice(0,r),a,this._text.slice(n)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=i.util.toFixed,e=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var r,n=[],i=[],a=t;this._setSVGBg(i);for(var s=0,o=this._textLines.length;s<o;s++)r=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(i,s,e+r,a),this._setSVGTextLineText(n,s,e+r,a),a+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:i}},_createTextCharSpan:function(r,n,a,s){var o=r!==r.trim()||r.match(e),l=this.getSvgSpanStyles(n,o),c=l?'style="'+l+'"':"",u=n.deltaY,h="",f=i.Object.NUM_FRACTION_DIGITS;return u&&(h=' dy="'+t(u,f)+'" '),['<tspan x="',t(a,f),'" y="',t(s,f),'" ',h,c,">",i.util.string.escapeXml(r),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,r,n){var i,a,s,o,l,c=this.getHeightOfLine(e),u=-1!==this.textAlign.indexOf("justify"),h="",f=0,d=this._textLines[e];n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,g=d.length-1;p<=g;p++)l=p===g||this.charSpacing,h+=d[p],s=this.__charBounds[e][p],0===f?(r+=s.kernedWidth-s.width,f+=s.width):f+=s.kernedWidth,u&&!l&&this._reSpaceAndTab.test(d[p])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(e,p),a=this.getCompleteStyleDeclaration(e,p+1),l=this._hasStyleChangedForSvg(i,a)),l&&(o=this._getStyleDeclaration(e,p)||{},t.push(this._createTextCharSpan(h,o,r,n)),h="",i=a,r+=f,f=0)},_pushTextBgRect:function(e,r,n,a,s,o){var l=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(r),' x="',t(n,l),'" y="',t(a,l),'" width="',t(s,l),'" height="',t(o,l),'"></rect>\n')},_setSVGTextLineBg:function(t,e,r,n){for(var i,a,s=this._textLines[e],o=this.getHeightOfLine(e)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),h=0,f=s.length;h<f;h++)i=this.__charBounds[e][h],(a=this.getValueOfPropertyAt(e,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(t,u,r+c,n,l,o),c=i.left,l=i.width,u=a):l+=i.kernedWidth;a&&this._pushTextBgRect(t,a,r+c,n,l,o)},_getFillAttributes:function(t){var e=t&&"string"===typeof t?new i.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,r=0,n=0;n<t;n++)r+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return i.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,r=0,n=0,i={},a=0;a<t.graphemeLines.length;a++)"\n"===t.graphemeText[n]&&a>0?(r=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&a>0&&(r++,n++),i[a]={line:e,offset:r},n+=t.graphemeLines[a].length,r+=t.graphemeLines[a].length;return i},styleHas:function(t,r){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[r];n&&(r=n.line)}return e.Text.prototype.styleHas.call(this,t,r)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,r,n=0,i=!1,a=this._styleMap[t],s=this._styleMap[t+1];for(var o in a&&(t=a.line,n=a.offset),s&&(i=s.line===t,e=s.offset),r="undefined"===typeof t?this.styles:{line:this.styles[t]})for(var l in r[o])if(l>=n&&(!i||l<e))for(var c in r[o][l])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[t];if(!r)return null;t=r.line,e=r.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,r){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=r},_deleteStyleDeclaration:function(t,e){var r=this._styleMap[t];t=r.line,e=r.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var r,n=[];for(this.isWrapping=!0,r=0;r<t.length;r++)n=n.concat(this._wrapLine(t[r],r,e));return this.isWrapping=!1,n},_measureWord:function(t,e,r){var n,i=0;r=r||0;for(var a=0,s=t.length;a<s;a++){i+=this._getGraphemeBox(t[a],e,a+r,n,true).kernedWidth,n=t[a]}return i},_wrapLine:function(t,r,n,i){var a=0,s=this.splitByGrapheme,o=[],l=[],c=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),u="",h=0,f=s?"":" ",d=0,p=0,g=0,m=!0,v=this._getWidthOfCharSpacing();i=i||0;0===c.length&&c.push([]),n-=i;for(var y=0;y<c.length;y++)u=s?c[y]:e.util.string.graphemeSplit(c[y]),d=this._measureWord(u,r,h),h+=u.length,(a+=p+d-v)>n&&!m?(o.push(l),l=[],a=d,m=!0):a+=v,m||s||l.push(f),l=l.concat(u),p=s?0:this._measureWord([f],r,h),h++,m=!1,d>g&&(g=d);return y&&o.push(l),g+i>this.dynamicMinWidth&&(this.dynamicMinWidth=g-v+i),o},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var r=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(r.lines,this.width),i=new Array(n.length),a=0;a<n.length;a++)i[a]=n[a].join("");return r.lines=i,r.graphemeLines=n,r},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,r){return e.Object._fromObject("Textbox",t,r,"text")}}(e),function(){var t=i.controlsUtils,e=t.scaleSkewCursorStyleHandler,r=t.scaleCursorStyleHandler,n=t.scalingEqually,a=t.scalingYOrSkewingX,s=t.scalingXOrSkewingY,o=t.scaleOrSkewActionName,l=i.Object.prototype.controls;if(l.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:o}),l.mr=new i.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:o}),l.mb=new i.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:a,getActionName:o}),l.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:a,getActionName:o}),l.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:r,actionHandler:n}),l.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:r,actionHandler:n}),l.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:r,actionHandler:n}),l.br=new i.Control({x:.5,y:.5,cursorStyleHandler:r,actionHandler:n}),l.mtr=new i.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var c=i.Textbox.prototype.controls={};c.mtr=l.mtr,c.tr=l.tr,c.br=l.br,c.tl=l.tl,c.bl=l.bl,c.mt=l.mt,c.mb=l.mb,c.mr=new i.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),c.ml=new i.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()}).call(this,r(55).Buffer)},function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return o}));r(18),r(17),r(0),r(71),r(23);var n={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(n[t],"px)")}};function a(t,e,r){var a=t.theme||{};if(Array.isArray(e)){var s=a.breakpoints||i;return e.reduce((function(t,n,i){return t[s.up(s.keys[i])]=r(e[i]),t}),{})}if("object"===typeof e){var o=a.breakpoints||i;return Object.keys(e).reduce((function(t,i){if(-1!==Object.keys(o.values||n).indexOf(i)){t[o.up(i)]=r(e[i],i)}else{var a=i;t[a]=e[a]}return t}),{})}return r(e)}function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null==e||null==(t=e.keys)?void 0:t.reduce((function(t,r){return t[e.up(r)]={},t}),{});return r||{}}function o(t,e){return t.reduce((function(t,e){var r=t[e];return(!r||0===Object.keys(r).length)&&delete t[e],t}),e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return p})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return c}));var n=r(1),i=r(46);r(32),r(44);var a=r(20),s=r(25),o={}.hasOwnProperty,l=Object(n.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);l.Provider;var c=function(t){return Object(n.forwardRef)((function(e,r){var i=Object(n.useContext)(l);return t(e,i,r)}))},u=Object(n.createContext)({});var h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(t,e){var r={};for(var n in e)o.call(e,n)&&(r[n]=e[n]);return r[h]=t,r},d=function(){return null},p=c((function(t,e,r){var i=t.css;"string"===typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var l=t[h],c=[i],f="";"string"===typeof t.className?f=Object(a.a)(e.registered,c,t.className):null!=t.className&&(f=t.className+" ");var p=Object(s.a)(c,void 0,Object(n.useContext)(u));Object(a.b)(e,p,"string"===typeof l);f+=e.key+"-"+p.name;var g={};for(var m in t)o.call(t,m)&&"css"!==m&&m!==h&&(g[m]=t[m]);g.ref=r,g.className=f;var v=Object(n.createElement)(l,g),y=Object(n.createElement)(d,null);return Object(n.createElement)(n.Fragment,null,y,v)}))},function(t,e,r){"use strict";r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return g})),r.d(e,"d",(function(){return m}));var n=r(6),i=r(14),a=r(4),s=r(23);var o={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}}((function(t){if(t.length>2){if(!c[t])return[t];t=c[t]}var e=t.split(""),r=Object(n.a)(e,2),i=r[0],a=r[1],s=o[i],u=l[a]||"";return Array.isArray(u)?u.map((function(t){return s+t})):[s+u]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(h,f);function p(t,e,r,n){var i=Object(a.b)(t,e)||r;return"number"===typeof i?function(t){return"string"===typeof t?t:i*t}:Array.isArray(i)?function(t){return"string"===typeof t?t:i[t]}:"function"===typeof i?i:function(){}}function g(t){return p(t,"spacing",8)}function m(t,e){if("string"===typeof e||null==e)return e;var r=t(Math.abs(e));return e>=0?r:"number"===typeof r?-r:"-".concat(r)}function v(t,e,r,n){if(-1===e.indexOf(r))return null;var a=function(t,e){return function(r){return t.reduce((function(t,n){return t[n]=m(e,r),t}),{})}}(u(r),n),s=t[r];return Object(i.b)(t,s,a)}function y(t,e){var r=g(t.theme);return Object.keys(t).map((function(n){return v(t,e,n,r)})).reduce(s.a,{})}function b(t){return y(t,h)}function _(t){return y(t,f)}function T(t){return y(t,d)}b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=f,T.propTypes={},T.filterProps=d;e.c=T},function(t,e,r){"use strict";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(34);var i=r(62),a=r(36);function s(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||Object(i.a)(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,r){t.exports=r(91)},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));function n(t,e,r){var n="";return r.split(" ").forEach((function(r){void 0!==t[r]?e.push(t[r]+";"):n+=r+" "})),n}var i=function(t,e,r){var n=t.key+"-"+e.name;if(!1===r&&void 0===t.registered[n]&&(t.registered[n]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+n:"",i,t.sheet,!0);i=i.next}while(void 0!==i)}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(17);var i=r(69);function a(t){var e=t.props,r=t.name,a=t.defaultTheme,s=function(t){var e=t.theme,r=t.name,i=t.props;if(!e||!e.components||!e.components[r]||!e.components[r].defaultProps)return i;var a,s=Object(n.a)({},i),o=e.components[r].defaultProps;for(a in o)void 0===s[a]&&(s[a]=o[a]);return s}({theme:Object(i.a)(a),name:r,props:e});return s}var s=r(29);function o(t){return a({props:t.props,name:t.name,defaultTheme:s.a})}},function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(71);e.a=function(t,e){return e?Object(n.a)(t,e,{clone:!1}):t}},function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(88),window.React1=r(1)},function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var n=function(t){for(var e,r=0,n=0,i=t.length;i>=4;++n,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&t.charCodeAt(n+2))<<16;case 2:r^=(255&t.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=r(31),s=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(t){return 45===t.charCodeAt(1)},c=function(t){return null!=t&&"boolean"!==typeof t},u=Object(a.a)((function(t){return l(t)?t:t.replace(s,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(o,(function(t,e,r){return d={name:e,styles:r,next:d},e}))}return 1===i[t]||l(t)||"number"!==typeof e||0===e?e:e+"px"};function f(t,e,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return d={name:r.name,styles:r.styles,next:d},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)d={name:n.name,styles:n.styles,next:d},n=n.next;return r.styles+";"}return function(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=f(t,e,r[i])+";";else for(var a in r){var s=r[a];if("object"!==typeof s)null!=e&&void 0!==e[s]?n+=a+"{"+e[s]+"}":c(s)&&(n+=u(a)+":"+h(a,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=e&&void 0!==e[s[0]]){var o=f(t,e,s);switch(a){case"animation":case"animationName":n+=u(a)+":"+o+";";break;default:n+=a+"{"+o+"}"}}else for(var l=0;l<s.length;l++)c(s[l])&&(n+=u(a)+":"+h(a,s[l])+";")}return n}(t,e,r);case"function":if(void 0!==t){var i=d,a=r(t);return d=i,f(t,e,a)}}if(null==e)return r;var s=e[r];return void 0!==s?s:r}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(t,e,r){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,a="";d=void 0;var s=t[0];null==s||void 0===s.raw?(i=!1,a+=f(r,e,s)):a+=s[0];for(var o=1;o<t.length;o++)a+=f(r,e,t[o]),i&&(a+=s[o]);p.lastIndex=0;for(var l,c="";null!==(l=p.exec(a));)c+="-"+l[1];return{name:n(a)+c,styles:a,next:d}}},,,function(t,e,r){"use strict";var n=r(121);e.a=n.a},function(t,e,r){"use strict";var n=r(7),i=r(5),a=r(13),s=r(71),o=r(142);function l(t,e,r){var a;return Object(i.a)({toolbar:(a={minHeight:56},Object(n.a)(a,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(n.a)(a,t.up("sm"),{minHeight:64}),a)},r)}var c=r(40),u=r(140),h={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},T={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(t,e,r,n){var i=n.light||n,a=n.dark||1.5*n;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:"light"===e?t.light=Object(u.d)(t.main,i):"dark"===e&&(t.dark=Object(u.b)(t.main,a)))}function x(t){var e=t.mode,r=void 0===e?"light":e,n=t.contrastThreshold,o=void 0===n?3:n,l=t.tonalOffset,x=void 0===l?.2:l,S=Object(a.a)(t,b),w=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(r),C=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(r),O=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(r),k=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(r),A=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(r),D=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(r);function L(t){return Object(u.c)(t,T.text.primary)>=o?T.text.primary:_.text.primary}var R=function(t){var e=t.color,r=t.name,n=t.mainShade,a=void 0===n?500:n,s=t.lightShade,o=void 0===s?300:s,l=t.darkShade,u=void 0===l?700:l;if(!(e=Object(i.a)({},e)).main&&e[a]&&(e.main=e[a]),!e.hasOwnProperty("main"))throw new Error(Object(c.a)(11,r?" (".concat(r,")"):"",a));if("string"!==typeof e.main)throw new Error(Object(c.a)(12,r?" (".concat(r,")"):"",JSON.stringify(e.main)));return E(e,"light",o,x),E(e,"dark",u,x),e.contrastText||(e.contrastText=L(e.main)),e},P={dark:T,light:_};return Object(s.a)(Object(i.a)({common:h,mode:r,primary:R({color:w,name:"primary"}),secondary:R({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:O,name:"error"}),warning:R({color:D,name:"warning"}),info:R({color:k,name:"info"}),success:R({color:A,name:"success"}),grey:f,contrastThreshold:o,getContrastText:L,augmentColor:R,tonalOffset:x},P[r]),S)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var w={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function O(t,e){var r="function"===typeof e?e(t):e,n=r.fontFamily,o=void 0===n?C:n,l=r.fontSize,c=void 0===l?14:l,u=r.fontWeightLight,h=void 0===u?300:u,f=r.fontWeightRegular,d=void 0===f?400:f,p=r.fontWeightMedium,g=void 0===p?500:p,m=r.fontWeightBold,v=void 0===m?700:m,y=r.htmlFontSize,b=void 0===y?16:y,_=r.allVariants,T=r.pxToRem,E=Object(a.a)(r,S);var x=c/14,O=T||function(t){return"".concat(t/b*x,"rem")},k=function(t,e,r,n,a){return Object(i.a)({fontFamily:o,fontWeight:t,fontSize:O(e),lineHeight:r},o===C?{letterSpacing:"".concat((s=n/e,Math.round(1e5*s)/1e5),"em")}:{},a,_);var s},A={h1:k(h,96,1.167,-1.5),h2:k(h,60,1.2,-.5),h3:k(d,48,1.167,0),h4:k(d,34,1.235,.25),h5:k(d,24,1.334,0),h6:k(g,20,1.6,.15),subtitle1:k(d,16,1.75,.15),subtitle2:k(g,14,1.57,.1),body1:k(d,16,1.5,.15),body2:k(d,14,1.43,.15),button:k(g,14,1.75,.4,w),caption:k(d,12,1.66,.4),overline:k(d,12,2.66,1,w)};return Object(s.a)(Object(i.a)({htmlFontSize:b,pxToRem:O,fontFamily:o,fontSize:c,fontWeightLight:h,fontWeightRegular:d,fontWeightMedium:g,fontWeightBold:v},A),E,{clone:!1})}function k(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",k(0,2,1,-1,0,1,1,0,0,1,3,0),k(0,3,1,-2,0,2,2,0,0,1,5,0),k(0,3,3,-2,0,3,4,0,0,1,8,0),k(0,2,4,-1,0,4,5,0,0,1,10,0),k(0,3,5,-1,0,5,8,0,0,1,14,0),k(0,3,5,-1,0,6,10,0,0,1,18,0),k(0,4,5,-2,0,7,10,1,0,2,16,1),k(0,5,5,-3,0,8,10,1,0,3,14,2),k(0,5,6,-3,0,9,12,1,0,3,16,2),k(0,6,6,-3,0,10,14,1,0,4,18,3),k(0,6,7,-4,0,11,15,1,0,4,20,3),k(0,7,8,-4,0,12,17,2,0,5,22,4),k(0,7,8,-4,0,13,19,2,0,5,24,4),k(0,7,9,-4,0,14,21,2,0,5,26,4),k(0,8,9,-5,0,15,22,2,0,6,28,5),k(0,8,10,-5,0,16,24,2,0,6,30,5),k(0,8,11,-5,0,17,26,2,0,6,32,5),k(0,9,11,-5,0,18,28,2,0,7,34,6),k(0,9,12,-6,0,19,29,2,0,7,36,6),k(0,10,13,-6,0,20,31,3,0,8,38,7),k(0,10,13,-6,0,21,33,3,0,8,40,7),k(0,10,14,-6,0,22,35,3,0,8,42,7),k(0,11,14,-7,0,23,36,3,0,9,44,8),k(0,11,15,-7,0,24,38,3,0,9,46,8)],D=["duration","easing","delay"],L={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(t){return"".concat(Math.round(t),"ms")}function M(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}function I(t){var e=Object(i.a)({},L,t.easing),r=Object(i.a)({},R,t.duration);return Object(i.a)({getAutoHeightDuration:M,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.duration,s=void 0===i?r.standard:i,o=n.easing,l=void 0===o?e.easeInOut:o,c=n.delay,u=void 0===c?0:c;Object(a.a)(n,D);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof s?s:P(s)," ").concat(l," ").concat("string"===typeof u?u:P(u))})).join(",")}},t,{easing:e,duration:r})}var F={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mixins,r=void 0===e?{}:e,n=t.palette,c=void 0===n?{}:n,u=t.transitions,h=void 0===u?{}:u,f=t.typography,d=void 0===f?{}:f,p=Object(a.a)(t,j),g=x(c),m=Object(o.a)(t),v=Object(s.a)(m,{mixins:l(m.breakpoints,m.spacing,r),palette:g,shadows:A.slice(),typography:O(g,d),transitions:I(h),zIndex:Object(i.a)({},F)});v=Object(s.a)(v,p);for(var y=arguments.length,b=new Array(y>1?y-1:0),_=1;_<y;_++)b[_-1]=arguments[_];return v=b.reduce((function(t,e){return Object(s.a)(t,e)}),v)}var B=N();e.a=B},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r(1),r(46),r(15),r(102),r(32),r(45),r(20);var n=r(25);r(38);function i(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object(n.a)(e)}var a=function(){var t=i.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(t,e,r){"use strict";e.a=function(t){var e=Object.create(null);return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}}},function(t,e,r){"use strict";e.a=function(t){var e=new WeakMap;return function(r){if(e.has(r))return e.get(r);var n=t(r);return e.set(r,n),n}}},function(t,e,r){"use strict";var n=r(122);e.a=n.a},function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(120);e.a=n.a},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(34);function i(t,e){if(t){if("string"===typeof t)return Object(n.a)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(t,e):void 0}}},function(t,e,r){"use strict";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(t){var e=this;this._insertTag=function(t){var r;r=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,r),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{r.insertRule(t,r.cssRules.length)}catch(n){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decodeStrict=e.decode=void 0;var n=r(51),i=r(54);e.decode=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.encodeXML:i.encodeHTML)(t)};var a=r(54);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=r(51);Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},function(t,e,r){"use strict";function n(t){for(var e="https://mui.com/production-error/?code="+t,r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}r.d(e,"a",(function(){return n}))},function(t,e,r){var n=r(109);t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},,function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var r,o,l=s(t),c=1;c<arguments.length;c++){for(var u in r=Object(arguments[c]))i.call(r,u)&&(l[u]=r[u]);if(n){o=n(r);for(var h=0;h<o.length;h++)a.call(r,o[h])&&(l[o[h]]=r[o[h]])}}return l}},function(t,e,r){"use strict";var n=r(45),i=r.n(n);e.a=function(t,e){return i()(t,e)}},function(t,e,r){"use strict";var n=r(100),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(t){return n.isMemo(t)?s:o[t.$$typeof]||i}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,r,n){if("string"!==typeof r){if(p){var i=d(r);i&&i!==p&&t(e,i,n)}var s=u(r);h&&(s=s.concat(h(r)));for(var o=l(e),g=l(r),m=0;m<s.length;++m){var v=s[m];if(!a[v]&&(!n||!n[v])&&(!g||!g[v])&&(!o||!o[v])){var y=f(r,v);try{c(e,v,y)}catch(b){}}}}return e}},function(t,e,r){"use strict";var n=r(38),i="-ms-",a="-moz-",s="-webkit-",o="comm",l="rule",c="decl",u=Math.abs,h=String.fromCharCode;function f(t){return t.trim()}function d(t,e,r){return t.replace(e,r)}function p(t,e){return t.indexOf(e)}function g(t,e){return 0|t.charCodeAt(e)}function m(t,e,r){return t.slice(e,r)}function v(t){return t.length}function y(t){return t.length}function b(t,e){return e.push(t),t}function _(t,e){return t.map(e).join("")}var T=1,E=1,x=0,S=0,w=0,C="";function O(t,e,r,n,i,a,s){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:T,column:E,length:s,return:""}}function k(t,e,r){return O(t,e.root,e.parent,r,e.props,e.children,0)}function A(){return w=S>0?g(C,--S):0,E--,10===w&&(E=1,T--),w}function D(){return w=S<x?g(C,S++):0,E++,10===w&&(E=1,T++),w}function L(){return g(C,S)}function R(){return S}function P(t,e){return m(C,t,e)}function M(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(t){return T=E=1,x=v(C=t),S=0,[]}function F(t){return C="",t}function j(t){return f(P(S-1,U(91===t?t+2:40===t?t+1:t)))}function N(t){for(;(w=L())&&w<33;)D();return M(t)>2||M(w)>3?"":" "}function B(t,e){for(;--e&&D()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return P(t,R()+(e<6&&32==L()&&32==D()))}function U(t){for(;D();)switch(w){case t:return S;case 34:case 39:return U(34===t||39===t?t:w);case 40:41===t&&U(t);break;case 92:D()}return S}function z(t,e){for(;D()&&t+w!==57&&(t+w!==84||47!==L()););return"/*"+P(e,S-1)+"*"+h(47===t?t:D())}function G(t){for(;!M(L());)D();return P(t,S)}function H(t){return F(V("",null,null,null,[""],t=I(t),0,[0],t))}function V(t,e,r,n,i,a,s,o,l){for(var c=0,u=0,f=s,p=0,g=0,m=0,y=1,_=1,T=1,E=0,x="",S=i,w=a,C=n,O=x;_;)switch(m=E,E=D()){case 34:case 39:case 91:case 40:O+=j(E);break;case 9:case 10:case 13:case 32:O+=N(m);break;case 92:O+=B(R()-1,7);continue;case 47:switch(L()){case 42:case 47:b(Y(z(D(),R()),e,r),l);break;default:O+="/"}break;case 123*y:o[c++]=v(O)*T;case 125*y:case 59:case 0:switch(E){case 0:case 125:_=0;case 59+u:g>0&&v(O)-f&&b(g>32?X(O+";",n,r,f-1):X(d(O," ","")+";",n,r,f-2),l);break;case 59:O+=";";default:if(b(C=W(O,e,r,c,u,i,o,x,S=[],w=[],f),a),123===E)if(0===u)V(O,e,C,C,S,a,f,o,w);else switch(p){case 100:case 109:case 115:V(t,C,C,n&&b(W(t,C,C,0,0,i,o,x,i,S=[],f),w),i,w,f,o,n?S:w);break;default:V(O,C,C,C,[""],w,f,o,w)}}c=u=g=0,y=T=1,x=O="",f=s;break;case 58:f=1+v(O),g=m;default:if(y<1)if(123==E)--y;else if(125==E&&0==y++&&125==A())continue;switch(O+=h(E),E*y){case 38:T=u>0?1:(O+="\f",-1);break;case 44:o[c++]=(v(O)-1)*T,T=1;break;case 64:45===L()&&(O+=j(D())),p=L(),u=v(x=O+=G(R())),E++;break;case 45:45===m&&2==v(O)&&(y=0)}}return a}function W(t,e,r,n,i,a,s,o,c,h,p){for(var g=i-1,v=0===i?a:[""],b=y(v),_=0,T=0,E=0;_<n;++_)for(var x=0,S=m(t,g+1,g=u(T=s[_])),w=t;x<b;++x)(w=f(T>0?v[x]+" "+S:d(S,/&\f/g,v[x])))&&(c[E++]=w);return O(t,e,r,0===i?l:o,c,h,p)}function Y(t,e,r){return O(t,e,r,o,h(w),m(t,2,-2),0)}function X(t,e,r,n){return O(t,e,r,c,m(t,0,n),m(t,n+1,-1),n)}function q(t,e){switch(function(t,e){return(((e<<2^g(t,0))<<2^g(t,1))<<2^g(t,2))<<2^g(t,3)}(t,e)){case 5103:return s+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return s+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return s+t+a+t+i+t+t;case 6828:case 4268:return s+t+i+t+t;case 6165:return s+t+i+"flex-"+t+t;case 5187:return s+t+d(t,/(\w+).+(:[^]+)/,s+"box-$1$2"+i+"flex-$1$2")+t;case 5443:return s+t+i+"flex-item-"+d(t,/flex-|-self/,"")+t;case 4675:return s+t+i+"flex-line-pack"+d(t,/align-content|flex-|-self/,"")+t;case 5548:return s+t+i+d(t,"shrink","negative")+t;case 5292:return s+t+i+d(t,"basis","preferred-size")+t;case 6060:return s+"box-"+d(t,"-grow","")+s+t+i+d(t,"grow","positive")+t;case 4554:return s+d(t,/([^-])(transform)/g,"$1"+s+"$2")+t;case 6187:return d(d(d(t,/(zoom-|grab)/,s+"$1"),/(image-set)/,s+"$1"),t,"")+t;case 5495:case 3959:return d(t,/(image-set\([^]*)/,s+"$1$`$1");case 4968:return d(d(t,/(.+:)(flex-)?(.*)/,s+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+s+t+t;case 4095:case 3583:case 4068:case 2532:return d(t,/(.+)-inline(.+)/,s+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(t)-1-e>6)switch(g(t,e+1)){case 109:if(45!==g(t,e+4))break;case 102:return d(t,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+a+(108==g(t,e+3)?"$3":"$2-$3"))+t;case 115:return~p(t,"stretch")?q(d(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==g(t,e+1))break;case 6444:switch(g(t,v(t)-3-(~p(t,"!important")&&10))){case 107:return d(t,":",":"+s)+t;case 101:return d(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+s+(45===g(t,14)?"inline-":"")+"box$3$1"+s+"$2$3$1"+i+"$2box$3")+t}break;case 5936:switch(g(t,e+11)){case 114:return s+t+i+d(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return s+t+i+d(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return s+t+i+d(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return s+t+i+t+t}return t}function K(t,e){for(var r="",n=y(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function $(t,e,r,n){switch(t.type){case"@import":case c:return t.return=t.return||t.value;case o:return"";case l:t.value=t.props.join(",")}return v(r=K(t.children,n))?t.return=t.value+"{"+r+"}":""}function Q(t){return function(e){e.root||(e=e.return)&&t(e)}}r(32),r(31);var Z=function(t,e,r){for(var n=0,i=0;n=i,i=L(),38===n&&12===i&&(e[r]=1),!M(i);)D();return P(t,S)},J=function(t,e){return F(function(t,e){var r=-1,n=44;do{switch(M(n)){case 0:38===n&&12===L()&&(e[r]=1),t[r]+=Z(S-1,e,r);break;case 2:t[r]+=j(n);break;case 4:if(44===n){t[++r]=58===L()?"&\f":"",e[r]=t[r].length;break}default:t[r]+=h(n)}}while(n=D());return t}(I(t),e))},tt=new WeakMap,et=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,r=t.parent,n=t.column===r.column&&t.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||tt.get(r))&&!n){tt.set(t,!0);for(var i=[],a=J(e,i),s=r.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)t.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},rt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},nt=[function(t,e,r,n){if(!t.return)switch(t.type){case c:t.return=q(t.value,t.length);break;case"@keyframes":return K([k(d(t.value,"@","@"+s),t,"")],n);case l:if(t.length)return _(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return K([k(d(e,/:(read-\w+)/,":-moz-$1"),t,"")],n);case"::placeholder":return K([k(d(e,/:(plac\w+)/,":"+s+"input-$1"),t,""),k(d(e,/:(plac\w+)/,":-moz-$1"),t,""),k(d(e,/:(plac\w+)/,i+"input-$1"),t,"")],n)}return""}))}}];e.a=function(t){var e=t.key;if("css"===e){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||nt;var a,s,o={},l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),r=1;r<e.length;r++)o[e[r]]=!0;l.push(t)}));var c=[et,rt];var u,h=[$,Q((function(t){u.insert(t)}))],f=function(t){var e=y(t);return function(r,n,i,a){for(var s="",o=0;o<e;o++)s+=t[o](r,n,i,a)||"";return s}}(c.concat(i,h));s=function(t,e,r,n){u=r,K(H(t?t+"{"+e.styles+"}":e.styles),f),n&&(d.inserted[e.name]=!0)};var d={key:e,sheet:new n.a({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:s};return d.sheet.hydrate(l),d}},function(t,e,r){var n;"undefined"!==typeof window&&(n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,r,n,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||t,a),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new a:delete t._events[e]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},c.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,s=new Array(a);n<a;n++)s[n]=r[n].fn;return s},c.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,n,a,s){var o=i?i+t:t;if(!this._events[o])return!1;var l,c,u=this._events[o],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,a),!0;case 6:return u.fn.call(u.context,e,r,n,a,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,n);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,r,n){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return l(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||n&&!s.once||r&&s.context!==r||l(this,a);else{for(var o=0,c=[],u=s.length;o<u;o++)(s[o].fn!==e||n&&!s[o].once||r&&s[o].context!==r)&&c.push(s[o]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&l(this,e)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,r){!function(e){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,n=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,h=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(h)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=s}()},"./node_modules/webworkify-webpack/index.js":function(t,e,r){function n(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var n=r(r.s=ENTRY_MODULE);return n.default||n}var i="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function s(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,n){var o={};o[n]=[];var l=e.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return o;for(var u,h=c[1],f=new RegExp("(\\\\n|\\W)"+s(h)+a,"g");u=f.exec(l);)"dll-reference"!==u[3]&&o[n].push(u[3]);for(f=new RegExp("\\("+s(h)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+a,"g");u=f.exec(l);)t[u[2]]||(o[n].push(u[1]),t[u[2]]=r(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var d,p=Object.keys(o),g=0;g<p.length;g++)for(var m=0;m<o[p[g]].length;m++)d=o[p[g]][m],isNaN(1*d)||(o[p[g]][m]=1*o[p[g]][m]);return o}function l(t){return Object.keys(t).reduce((function(e,r){return e||t[r].length>0}),!1)}t.exports=function(t,e){e=e||{};var i={main:r.m},a=e.all?{main:Object.keys(i.main)}:function(t,e){for(var r={main:[e]},n={main:[]},i={main:{}};l(r);)for(var a=Object.keys(r),s=0;s<a.length;s++){var c=a[s],u=r[c].pop();if(i[c]=i[c]||{},!i[c][u]&&t[c][u]){i[c][u]=!0,n[c]=n[c]||[],n[c].push(u);for(var h=o(t,t[c][u],c),f=Object.keys(h),d=0;d<f.length;d++)r[f[d]]=r[f[d]]||[],r[f[d]]=r[f[d]].concat(h[f[d]])}}return n}(i,t),s="";Object.keys(a).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;a[t][e];)e++;a[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a[t].map((function(e){return JSON.stringify(e)+": "+i[t][e].toString()})).join(",")+"});\n"})),s=s+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a.main.map((function(t){return JSON.stringify(t)+": "+i.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([s],{type:"text/javascript"});if(e.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),h=new window.Worker(u);return h.objectURL=u,h}},"./src/config.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"hlsDefaultConfig",(function(){return x})),r.d(e,"mergeConfig",(function(){return S})),r.d(e,"enableStreamingMode",(function(){return w}));var n=r("./src/controller/abr-controller.ts"),i=r("./src/controller/audio-stream-controller.ts"),a=r("./src/controller/audio-track-controller.ts"),s=r("./src/controller/subtitle-stream-controller.ts"),o=r("./src/controller/subtitle-track-controller.ts"),l=r("./src/controller/buffer-controller.ts"),c=r("./src/controller/timeline-controller.ts"),u=r("./src/controller/cap-level-controller.ts"),h=r("./src/controller/fps-controller.ts"),f=r("./src/controller/eme-controller.ts"),d=r("./src/controller/cmcd-controller.ts"),p=r("./src/utils/xhr-loader.ts"),g=r("./src/utils/fetch-loader.ts"),m=r("./src/utils/cues.ts"),v=r("./src/utils/mediakeys-helper.ts"),y=r("./src/utils/logger.ts");function b(){return b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b.apply(this,arguments)}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x=T(T({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:l.default,capLevelController:u.default,fpsController:h.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:v.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:m.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:s.SubtitleStreamController,subtitleTrackController:o.default,timelineController:c.TimelineController,audioStreamController:i.default,audioTrackController:a.default,emeController:f.default,cmcdController:d.default});function S(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},t,e)}function w(t){var e=t.loader;e!==g.default&&e!==p.default?(y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Object(g.fetchSupported)()&&(t.loader=g.default,t.progressive=!0,t.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),i=r("./src/utils/ewma-bandwidth-estimator.ts"),a=r("./src/events.ts"),s=r("./src/utils/buffer-helper.ts"),o=r("./src/errors.ts"),l=r("./src/types/loader.ts"),c=r("./src/utils/logger.ts");function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(t){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new i.default(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e,r,h,f=t.prototype;return f.registerListeners=function(){var t=this.hls;t.on(a.Events.FRAG_LOADING,this.onFragLoading,this),t.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(a.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var t=this.hls;t.off(a.Events.FRAG_LOADING,this.onFragLoading,this),t.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(a.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},f.onFragLoading=function(t,e){var r,n=e.frag;n.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null,this.timer=self.setInterval(this.onCheck,100)))},f.onLevelLoaded=function(t,e){var r=this.hls.config;e.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},f._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.autoLevelEnabled,o=r.config,l=r.media;if(t&&l){var u=e?e.stats:t.stats,h=e?e.duration:t.duration;if(u.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!l.paused&&l.playbackRate&&l.readyState){var f=performance.now()-u.loading.start,d=Math.abs(l.playbackRate);if(!(f<=500*h/d)){var p=r.levels,g=r.minAutoLevel,m=p[t.level],v=u.total||Math.max(u.loaded,Math.round(h*m.maxBitrate/8)),y=Math.max(1,u.bwEstimate?u.bwEstimate/8:1e3*u.loaded/f),b=(v-u.loaded)/y,_=l.currentTime,T=(s.BufferHelper.bufferInfo(l,_,o.maxBufferHole).end-_)/d;if(!(T>=2*h/d||b<=T)){var E,x=Number.POSITIVE_INFINITY;for(E=t.level-1;E>g&&!((x=h*p[E].maxBitrate/(6.4*y))<T);E--);if(!(x>=b)){var S=this.bwEstimator.getEstimate();c.logger.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+E+"\n      Current BW estimate: "+(Object(n.isFiniteNumber)(S)?(S/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+x.toFixed(3)+" s\n      Time to underbuffer: "+T.toFixed(3)+" s"),r.nextLoadLevel=E,this.bwEstimator.sample(f,u.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),r.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:u})}}}}}},f.onFragLoaded=function(t,e){var r=e.frag,i=e.part;if(r.type===l.PlaylistLevelType.MAIN&&Object(n.isFiniteNumber)(r.sn)){var s=i?i.stats:r.stats,o=i?i.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var c=this.hls.levels[r.level],u=(c.loaded?c.loaded.bytes:0)+s.loaded,h=(c.loaded?c.loaded.duration:0)+o;c.loaded={bytes:u,duration:h},c.realBitrate=Math.round(8*u/h)}if(r.bitrateTest){var f={stats:s,frag:r,part:i,id:r.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,f),r.bitrateTest=!1}}},f.onFragBuffered=function(t,e){var r=e.frag,n=e.part,i=n?n.stats:r.stats;if(!i.aborted&&r.type===l.PlaylistLevelType.MAIN&&"initSegment"!==r.sn){var a=i.parsing.end-i.loading.start;this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},f.onError=function(t,e){switch(e.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},f.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},f.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,n=r.maxAutoLevel,i=r.config,a=r.minAutoLevel,o=r.media,l=e?e.duration:t?t.duration:0,u=o?o.currentTime:0,h=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=(s.BufferHelper.bufferInfo(o,u,i.maxBufferHole).end-u)/h,p=this.findBestLevel(f,a,n,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(p>=0)return p;c.logger.trace((d?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(!d){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,c.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return p=this.findBestLevel(f,a,n,d+g,m,v),Math.max(p,0)},f.findBestLevel=function(t,e,r,n,i,a){for(var s,o=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,f=h[u],d=!(null===f||void 0===f||null===(s=f.details)||void 0===s||!s.live),p=null===f||void 0===f?void 0:f.codecSet,g=l?l.duration:o?o.duration:0,m=r;m>=e;m--){var v=h[m];if(v&&(!p||v.codecSet===p)){var y=v.details,b=(l?null===y||void 0===y?void 0:y.partTarget:null===y||void 0===y?void 0:y.averagetargetduration)||g,_=void 0;_=m<=u?i*t:a*t;var T=h[m].maxBitrate,E=T*b/_;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+m+"/"+Math.round(_)+"/"+T+"/"+b+"/"+n+"/"+E),_>T&&(!E||d&&!this.bitrateTestDelay||E<n))return m}}return-1},e=t,(r=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var r=this.getNextABRAutoLevel();return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}}])&&u(e.prototype,r),h&&u(e,h),t}();e.default=h},"./src/controller/audio-stream-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),i=r("./src/controller/base-stream-controller.ts"),a=r("./src/events.ts"),s=r("./src/utils/buffer-helper.ts"),o=r("./src/controller/fragment-tracker.ts"),l=r("./src/types/level.ts"),c=r("./src/types/loader.ts"),u=r("./src/loader/fragment.ts"),h=r("./src/demux/chunk-cache.ts"),f=r("./src/demux/transmuxer-interface.ts"),d=r("./src/types/transmuxer.ts"),p=r("./src/controller/fragment-finders.ts"),g=r("./src/utils/discontinuities.ts"),m=r("./src/errors.ts"),v=r("./src/utils/logger.ts");function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y.apply(this,arguments)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}var _=function(t){var e,r;function _(e,r){var n;return(n=t.call(this,e,r,"[audio-stream-controller]")||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.audioSwitch=!1,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n._registerListeners(),n}r=t,(e=_).prototype=Object.create(r.prototype),e.prototype.constructor=e,b(e,r);var T=_.prototype;return T.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},T._registerListeners=function(){var t=this.hls;t.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(a.Events.ERROR,this.onError,this),t.on(a.Events.BUFFER_RESET,this.onBufferReset,this),t.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T._unregisterListeners=function(){var t=this.hls;t.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(a.Events.ERROR,this.onError,this),t.off(a.Events.BUFFER_RESET,this.onBufferReset,this),t.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T.onInitPtsFound=function(t,e){var r=e.frag,n=e.id,a=e.initPTS;if("main"===n){var s=r.cc;this.initPTS[r.cc]=a,this.log("InitPTS for cc: "+s+" found from main: "+a),this.videoTrackCC=s,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},T.startLoad=function(t){if(!this.levels)return this.startPosition=t,void(this.state=i.State.STOPPED);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},T.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var e,r=this.levels,n=this.trackId,a=null===r||void 0===r||null===(e=r[n])||void 0===e?void 0:e.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,l=performance.now(),c=this.retryDate;(!c||l>=c||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var u=this.waitingData;if(u){var h=u.frag,f=u.part,d=u.cache,g=u.complete;if(void 0!==this.initPTS[h.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var m={frag:h,part:f,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(m),g&&t.prototype._handleFragmentLoadComplete.call(this,m)}else if(this.videoTrackCC!==this.waitingVideoCC)v.logger.log("Waiting fragment cc ("+h.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=s.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(p.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,h)<0&&(v.logger.log("Waiting fragment cc ("+h.cc+") @ "+h.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},T.clearWaitingFragment=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},T.onTickEnd=function(){var t=this.media;if(t&&t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length&&(this.loadedmetadata=!0),this.lastCurrentTime=t.currentTime}},T.doTickIdle=function(){var t,e,r=this.hls,n=this.levels,s=this.media,o=this.trackId,l=r.config;if(n&&n[o]&&(s||!this.startFragRequested&&l.startFragPrefetch)){var h=n[o].details;if(!h||h.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(h))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,u.ElementaryStreamTypes.AUDIO,c.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,c.PlaylistLevelType.AUDIO);if(null!==f){var d=f.len,p=this.getMaxBufferLength(),g=this.audioSwitch;if(!(d>=p)||g){if(!g&&this._streamEnded(f,h))return r.trigger(a.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var m=h.fragments[0].start,v=f.end;if(g){var y=this.getLoadPosition();v=y,h.PTSKnown&&y<m&&(f.end>m||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),s.currentTime=m+.05)}var b=this.getNextFragment(v,h);b?"identity"!==(null===(t=b.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=b.decryptdata)&&void 0!==e&&e.key?this.loadFragment(b,h,v):this.loadKey(b,h):this.bufferFlushed=!0}}}}},T.getMaxBufferLength=function(){var e=t.prototype.getMaxBufferLength.call(this),r=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,c.PlaylistLevelType.MAIN);return null===r?e:Math.max(e,r.len)},T.onMediaDetaching=function(){this.videoBuffer=null,t.prototype.onMediaDetaching.call(this)},T.onAudioTracksUpdated=function(t,e){var r=e.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(t){return new l.Level(t)}))},T.onAudioTrackSwitching=function(t,e){var r=!!e.url;this.trackId=e.id;var n=this.fragCurrent;null!==n&&void 0!==n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},T.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},T.onLevelLoaded=function(t,e){this.mainDetails=e.details},T.onAudioTrackLoaded=function(t,e){var r,n=this.levels,a=e.details,s=e.id;if(n){this.log("Track "+s+" loaded ["+a.startSN+","+a.endSN+"],duration:"+a.totalduration);var o=n[s],l=0;if(a.live||null!==(r=o.details)&&void 0!==r&&r.live){var c=this.mainDetails;if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed||!c)return;!o.details&&a.hasProgramDateTime&&c.hasProgramDateTime?(Object(g.alignMediaPlaylistByPDT)(a,c),l=a.fragments[0].start):l=this.alignPlaylists(a,o.details)}o.details=a,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(o.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(a)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+s)},T._handleFragmentLoadProgress=function(t){var e,r=t.frag,n=t.part,a=t.payload,s=this.config,o=this.trackId,l=this.levels;if(l){var u=l[o];console.assert(u,"Audio track is defined on fragment load progress");var p=u.details;console.assert(p,"Audio track details are defined on fragment load progress");var g=s.defaultAudioCodec||u.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new f.default(this.hls,c.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[r.cc],b=null===(e=r.initSegment)||void 0===e?void 0:e.data;if(void 0!==y){var _=n?n.index:-1,T=-1!==_,E=new d.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,a.byteLength,_,T);m.push(a,b,g,"",r,n,p.totalduration,!1,E,y)}else v.logger.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+o),(this.waitingData=this.waitingData||{frag:r,part:n,cache:new h.default,complete:!1}).cache.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},T._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:t.prototype._handleFragmentLoadComplete.call(this,e)},T.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},T.onBufferCreated=function(t,e){var r=e.tracks.audio;r&&(this.mediaBuffer=r.buffer),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},T.onFragBuffered=function(t,e){var r=e.frag,n=e.part;r.type===c.PlaylistLevelType.AUDIO&&(this.fragContextChanged(r)?this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==r.sn&&(this.fragPrevious=r,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(r,n)))},T.onError=function(e,r){switch(r.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.AUDIO,r);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=r.fatal?i.State.ERROR:i.State.IDLE,this.warn(r.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===r.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,a=this.getFwdBufferInfo(this.mediaBuffer,c.PlaylistLevelType.AUDIO);a&&a.len>.5&&(n=!this.reduceMaxBufferLength(a.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},T.onBufferFlushed=function(t,e){e.type===u.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},T._handleTransmuxComplete=function(t){var e,r="audio",n=this.hls,s=t.remuxResult,o=t.chunkMeta,l=this.getCurrentContext(o);if(!l)return this.warn("The loading context changed while buffering fragment "+o.sn+" of level "+o.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(o.level);var c=l.frag,h=l.part,f=s.audio,d=s.text,p=s.id3,g=s.initSegment;if(!this.fragContextChanged(c)){if(this.state=i.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!==g&&void 0!==g&&g.tracks&&(this._bufferInitSegment(g.tracks,c,o),n.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:r,tracks:g.tracks})),f){var m=f.startPTS,v=f.endPTS,b=f.startDTS,_=f.endDTS;h&&(h.elementaryStreams[u.ElementaryStreamTypes.AUDIO]={startPTS:m,endPTS:v,startDTS:b,endDTS:_}),c.setElementaryStreamInfo(u.ElementaryStreamTypes.AUDIO,m,v,b,_),this.bufferFragmentData(f,c,h,o)}if(null!==p&&void 0!==p&&null!==(e=p.samples)&&void 0!==e&&e.length){var T=y({frag:c,id:r},p);n.trigger(a.Events.FRAG_PARSING_METADATA,T)}if(d){var E=y({frag:c,id:r},d);n.trigger(a.Events.FRAG_PARSING_USERDATA,E)}}},T._bufferInitSegment=function(t,e,r){if(this.state===i.State.PARSING){t.video&&delete t.video;var n=t.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,t);var s=n.initSegment;if(null!==s&&void 0!==s&&s.byteLength){var o={type:"audio",frag:e,part:null,chunkMeta:r,parent:e.type,data:s};this.hls.trigger(a.Events.BUFFER_APPENDING,o)}this.tick()}}},T.loadFragment=function(e,r,a){var s=this.fragmentTracker.getState(e);this.fragCurrent=e,(this.audioSwitch||s===o.FragmentState.NOT_LOADED||s===o.FragmentState.PARTIAL)&&("initSegment"===e.sn?this._loadInitSegment(e):r.live&&!Object(n.isFiniteNumber)(this.initPTS[e.cc])?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,a)))},T.completeAudioSwitch=function(){var e=this.hls,r=this.media,n=this.trackId;r&&(this.log("Switching audio track : flushing all audio"),t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,e.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:n})},_}(i.default);e.default=_},"./src/controller/audio-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/controller/base-playlist-controller.ts"),s=r("./src/types/loader.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}var c=function(t){var e,r;function a(e){var r;return(r=t.call(this,e,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.trackName="",r.selectDefaultTrack=!0,r.registerListeners(),r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,l(e,r);var c,u,h,f=a.prototype;return f.registerListeners=function(){var t=this.hls;t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(n.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(n.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,t.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},f.onAudioTrackLoaded=function(t,e){var r=e.id,n=e.details,i=this.tracksInGroup[r];if(i){var a=i.details;i.details=e.details,this.log("audioTrack "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,e,a))}else this.warn("Invalid audio track id "+r)},f.onLevelLoading=function(t,e){this.switchLevel(e.level)},f.onLevelSwitching=function(t,e){this.switchLevel(e.level)},f.switchLevel=function(t){var e=this.hls.levels[t];if(null!==e&&void 0!==e&&e.audioGroupIds){var r=e.audioGroupIds[e.urlId];if(this.groupId!==r){this.groupId=r;var i=this.tracks.filter((function(t){return!r||t.groupId===r}));this.selectDefaultTrack&&!i.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var a={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}}},f.onError=function(e,r){t.prototype.onError.call(this,e,r),!r.fatal&&r.context&&r.context.type===s.PlaylistContextType.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},f.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=e[this.trackId];this.log("Now switching to audio-track index "+t);var i=e[t],a=i.id,s=i.groupId,o=void 0===s?"":s,l=i.name,c=i.type,u=i.url;if(this.trackId=t,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:a,groupId:o,name:l,type:c,url:u}),!i.details||i.details.live){var h=this.switchParams(i.url,null===r||void 0===r?void 0:r.details);this.loadPlaylist(h)}}},f.selectInitialTrack=function(){var t=this.tracksInGroup;console.assert(t.length,"Initial audio track should be selected when tracks are known");var e=this.trackName,r=this.findTrackId(e)||this.findTrackId();-1!==r?this.setAudioTrack(r):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var n=e[r];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return-1},f.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var r=e.id,i=e.groupId,a=e.url;if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("loading audio-track playlist for id: "+r),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:t||null})}},c=a,(u=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}])&&o(c.prototype,u),h&&o(c,h),a}(a.default);e.default=c},"./src/controller/base-playlist-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return l}));var n=r("./src/polyfills/number.ts"),i=r("./src/types/level.ts"),a=r("./src/controller/level-helper.ts"),s=r("./src/utils/logger.ts"),o=r("./src/errors.ts"),l=function(){function t(t,e){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=s.logger.log.bind(s.logger,e+":"),this.warn=s.logger.warn.bind(s.logger,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.onError=function(t,e){e.fatal&&e.type===o.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var r=null===e||void 0===e?void 0:e.renditionReports;if(r)for(var a=0;a<r.length;a++){var s=r[a],o=""+s.URI;if(o===t.substr(-o.length)){var l=parseInt(s["LAST-MSN"]),c=parseInt(s["LAST-PART"]);if(e&&this.hls.config.lowLatencyMode){var u=Math.min(e.age-e.partTarget,e.targetduration);void 0!==c&&u>e.partTarget&&(c+=1)}if(Object(n.isFiniteNumber)(l))return new i.HlsUrlParameters(l,Object(n.isFiniteNumber)(c)?c:void 0,i.HlsSkip.No)}}},e.loadPlaylist=function(t){},e.shouldLoadTrack=function(t){return this.canLoad&&t&&!!t.url&&(!t.details||t.details.live)},e.playlistLoaded=function(t,e,r){var n=this,i=e.details,s=e.stats,o=s.loading.end?Math.max(0,self.performance.now()-s.loading.end):0;if(i.advancedDateTime=Date.now()-o,i.live||null!==r&&void 0!==r&&r.live){if(i.reloaded(r),r&&this.log("live playlist "+t+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),r&&i.fragments.length>0&&Object(a.mergeDetails)(r,i),!this.canLoad||!i.live)return;var l,c=void 0,u=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var h=this.hls.config.lowLatencyMode,f=i.lastPartSn,d=i.endSN,p=i.lastPartIndex,g=f===d;-1!==p?(c=g?d+1:f,u=g?h?0:p:p+1):c=d+1;var m=i.age,v=m+i.ageHeader,y=Math.min(v-i.partTarget,1.5*i.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);c+=b,void 0!==u&&(u+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+u)}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,e.deliveryDirectives,c,u),h||!g)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,e.deliveryDirectives,c,u);var _=Object(a.computeReloadInterval)(i,s);void 0!==c&&i.canBlockReload&&(_-=i.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),_)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,r,n){var a=Object(i.getSkipValue)(t,r);return null!==e&&void 0!==e&&e.skip&&t.deltaUpdateFailed&&(r=e.msn,n=e.part,a=i.HlsSkip.No),new i.HlsUrlParameters(r,n,a)},e.retryLoadingOrFail=function(t){var e,r=this,n=this.hls.config,i=this.retryCount<n.levelLoadingMaxRetry;if(i)if(this.retryCount++,t.details.indexOf("LoadTimeOut")>-1&&null!==(e=t.context)&&void 0!==e&&e.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+t.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return r.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+t.details+'"')}else this.warn('cannot recover from error "'+t.details+'"'),this.clearTimer(),t.fatal=!0;return i},t}()},"./src/controller/base-stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"State",(function(){return T})),r.d(e,"default",(function(){return E}));var n=r("./src/polyfills/number.ts"),i=r("./src/task-loop.ts"),a=r("./src/controller/fragment-tracker.ts"),s=r("./src/utils/buffer-helper.ts"),o=r("./src/utils/logger.ts"),l=r("./src/events.ts"),c=r("./src/errors.ts"),u=r("./src/types/transmuxer.ts"),h=r("./src/utils/mp4-tools.ts"),f=r("./src/utils/discontinuities.ts"),d=r("./src/controller/fragment-finders.ts"),p=r("./src/controller/level-helper.ts"),g=r("./src/loader/fragment-loader.ts"),m=r("./src/crypt/decrypter.ts"),v=r("./src/utils/time-ranges.ts"),y=r("./src/types/loader.ts");function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}var T={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},E=function(t){var e,r;function i(e,r,n){var i;return(i=t.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=T.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=n,i.log=o.logger.log.bind(o.logger,n+":"),i.warn=o.logger.warn.bind(o.logger,n+":"),i.hls=e,i.fragmentLoader=new g.default(e.config),i.fragmentTracker=r,i.config=e.config,i.decrypter=new m.default(e,e.config),e.on(l.Events.KEY_LOADED,i.onKeyLoaded,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,_(e,r);var E,x,S,w=i.prototype;return w.doTick=function(){this.onTickEnd()},w.onTickEnd=function(){},w.startLoad=function(t){},w.stopLoad=function(){this.fragmentLoader.abort();var t=this.fragCurrent;t&&this.fragmentTracker.removeFragment(t),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=T.STOPPED},w._streamEnded=function(t,e){var r=this.fragCurrent,n=this.fragmentTracker;if(!e.live&&r&&r.sn===e.endSN&&!t.nextStart){var i=n.getState(r);return i===a.FragmentState.PARTIAL||i===a.FragmentState.OK}return!1},w.onMediaAttached=function(t,e){var r=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===T.STOPPED&&this.startLoad(n.startPosition)},w.onMediaDetaching=function(){var t=this.media;null!==t&&void 0!==t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},w.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,r=this.media,i=this.mediaBuffer,a=this.state,o=r?r.currentTime:0,l=s.BufferHelper.bufferInfo(i||r,o,t.maxBufferHole);if(this.log("media seeking to "+(Object(n.isFiniteNumber)(o)?o.toFixed(3):o)+", state: "+a),a===T.ENDED)this.resetLoadingState();else if(e&&!l.len){var c=t.maxFragLookUpTolerance,u=e.start-c,h=o>e.start+e.duration+c;(o<u||h)&&(h&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=o),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()},w.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},w.onKeyLoaded=function(t,e){if(this.state===T.KEY_LOADING&&e.frag===this.fragCurrent&&this.levels){this.state=T.IDLE;var r=this.levels[e.frag.level].details;r&&this.loadFragment(e.frag,r,e.frag.start)}},w.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},w.onHandlerDestroyed=function(){this.state=T.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},w.loadKey=function(t,e){this.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level),this.state=T.KEY_LOADING,this.fragCurrent=t,this.hls.trigger(l.Events.KEY_LOADING,{frag:t})},w.loadFragment=function(t,e,r){this._loadFragForPlayback(t,e,r)},w._loadFragForPlayback=function(t,e,r){var n=this;this._doFragLoad(t,e,r,(function(e){if(n.fragContextChanged(t))return n.warn("Fragment "+t.sn+(e.part?" p: "+e.part.index:"")+" of level "+t.level+" was dropped during download."),void n.fragmentTracker.removeFragment(t);t.stats.chunkCount++,n._handleFragmentLoadProgress(e)})).then((function(e){if(e){n.fragLoadError=0;var r=n.state;if(!n.fragContextChanged(t))return"payload"in e&&(n.log("Loaded fragment "+t.sn+" of level "+t.level),n.hls.trigger(l.Events.FRAG_LOADED,e),n.state===T.BACKTRACKING)?(n.fragmentTracker.backtrack(t,e),void n.resetFragmentLoading(t)):void n._handleFragmentLoadComplete(e);(r===T.FRAG_LOADING||r===T.BACKTRACKING||!n.fragCurrent&&r===T.PARSING)&&(n.fragmentTracker.removeFragment(t),n.state=T.IDLE)}})).catch((function(e){n.warn(e),n.resetFragmentLoading(t)}))},w.flushMainBuffer=function(t,e,r){if(void 0===r&&(r=null),t-e){var n={startOffset:t,endOffset:e,type:r};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,n)}},w._loadInitSegment=function(t){var e=this;this._doFragLoad(t).then((function(r){if(!r||e.fragContextChanged(t)||!e.levels)throw new Error("init load aborted");return r})).then((function(r){var n=e.hls,i=r.payload,a=t.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var s=self.performance.now();return e.decrypter.webCryptoDecrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).then((function(e){var i=self.performance.now();return n.trigger(l.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:s,tdecrypt:i}}),r.payload=e,r}))}return r})).then((function(r){var n=e.fragCurrent,i=e.hls,a=e.levels;if(!a)throw new Error("init load aborted, missing levels");var s=a[t.level].details;console.assert(s,"Level details are defined when init segment is loaded");var o=t.stats;e.state=T.IDLE,e.fragLoadError=0,t.data=new Uint8Array(r.payload),o.parsing.start=o.buffering.start=self.performance.now(),o.parsing.end=o.buffering.end=self.performance.now(),r.frag===n&&i.trigger(l.Events.FRAG_BUFFERED,{stats:o,frag:n,part:null,id:t.type}),e.tick()})).catch((function(r){e.warn(r),e.resetFragmentLoading(t)}))},w.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},w.fragBufferedComplete=function(t,e){var r=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level+" "+v.default.toString(s.BufferHelper.getBuffered(r))),this.state=T.IDLE,this.tick()},w._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var r=t.frag,n=t.part,i=t.partsLoaded,a=!i||0===i.length||i.some((function(t){return!t})),s=new u.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!a);e.flush(s)}},w._handleFragmentLoadProgress=function(t){},w._doFragLoad=function(t,e,r,i){var a=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");if(r=Math.max(t.start,r||0),this.config.lowLatencyMode&&e){var s=e.partList;if(s&&i){r>t.end&&e.fragmentHint&&(t=e.fragmentHint);var o=this.getNextPart(s,t,r);if(o>-1){var c=s[o];return this.log("Loading part sn: "+t.sn+" p: "+c.index+" cc: "+t.cc+" of playlist ["+e.startSN+"-"+e.endSN+"] parts [0-"+o+"-"+(s.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=c.start+c.duration,this.state=T.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:t,part:s[o],targetBufferTime:r}),this.doFragPartsLoad(t,s,o,i).catch((function(t){return a.handleFragLoadError(t)}))}if(!t.url||this.loadedEndOfParts(s,r))return Promise.resolve(null)}}return this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(e?"of ["+e.startSN+"-"+e.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),Object(n.isFiniteNumber)(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=T.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:t,targetBufferTime:r}),this.fragmentLoader.load(t,i).catch((function(t){return a.handleFragLoadError(t)}))},w.doFragPartsLoad=function(t,e,r,n){var i=this;return new Promise((function(a,s){var o=[];!function r(c){var u=e[c];i.fragmentLoader.loadPart(t,u,n).then((function(n){o[u.index]=n;var s=n.part;i.hls.trigger(l.Events.FRAG_LOADED,n);var h=e[c+1];if(!h||h.fragment!==t)return a({frag:t,part:s,partsLoaded:o});r(c+1)})).catch(s)}(r)}))},w.handleFragLoadError=function(t){var e=t.data;return e&&e.details===c.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(l.Events.ERROR,e),null},w._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===T.PARSING){var r=e.frag,n=e.part,i=e.level,a=self.performance.now();r.stats.parsing.end=a,n&&(n.stats.parsing.end=a),this.updateLevelTiming(r,n,i,t.partial)}else this.fragCurrent||(this.state=T.IDLE)},w.getCurrentContext=function(t){var e=this.levels,r=t.level,n=t.sn,i=t.part;if(!e||!e[r])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+r+". The current chunk will not be buffered."),null;var a=e[r],s=i>-1?Object(p.getPartWith)(a,n,i):null,o=s?s.fragment:Object(p.getFragmentWithSN)(a,n,this.fragCurrent);return o?{frag:o,part:s,level:a}:null},w.bufferFragmentData=function(t,e,r,n){if(t&&this.state===T.PARSING){var i=t.data1,a=t.data2,s=i;if(i&&a&&(s=Object(h.appendUint8Array)(i,a)),s&&s.length){var o={type:t.type,frag:e,part:r,chunkMeta:n,parent:e.type,data:s};this.hls.trigger(l.Events.BUFFER_APPENDING,o),t.dropped&&t.independent&&!r&&this.flushBufferGap(e)}}},w.flushBufferGap=function(t){var e=this.media;if(e)if(s.BufferHelper.isBuffered(e,e.currentTime)){var r=e.currentTime,n=s.BufferHelper.bufferInfo(e,r,0),i=t.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),o=Math.max(Math.min(t.start-a,n.end-a),r+a);t.start-o>a&&this.flushMainBuffer(o,t.start)}else this.flushMainBuffer(0,t.start)},w.getFwdBufferInfo=function(t,e){var r=this.config,i=this.getLoadPosition();if(!Object(n.isFiniteNumber)(i))return null;var a=s.BufferHelper.bufferInfo(t,i,r.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var o=this.fragmentTracker.getBufferedFrag(i,e);if(o&&a.nextStart<o.end)return s.BufferHelper.bufferInfo(t,i,Math.max(a.nextStart,r.maxBufferHole))}return a},w.getMaxBufferLength=function(t){var e,r=this.config;return e=t?Math.max(8*r.maxBufferSize/t,r.maxBufferLength):r.maxBufferLength,Math.min(e,r.maxMaxBufferLength)},w.reduceMaxBufferLength=function(t){var e=this.config,r=t||e.maxBufferLength;return e.maxMaxBufferLength>=r&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},w.getNextFragment=function(t,e){var r,n,i=e.fragments,a=i.length;if(!a)return null;var s,o=this.config,l=i[0].start;if(e.live){var c=o.initialLiveManifestSize;if(a<c)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+c+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(s=this.getInitialLiveFragment(e,i),this.startPosition=s?this.hls.liveSyncPosition||s.start:t)}else t<=l&&(s=i[0]);if(!s){var u=o.lowLatencyMode?e.partEnd:e.fragmentEnd;s=this.getFragmentAtPosition(t,u,e)}return null===(r=s)||void 0===r||!r.initSegment||null!==(n=s)&&void 0!==n&&n.initSegment.data||this.bitrateTest||(s=s.initSegment),s},w.getNextPart=function(t,e,r){for(var n=-1,i=!1,a=!0,s=0,o=t.length;s<o;s++){var l=t[s];if(a=a&&!l.independent,n>-1&&r<l.start)break;var c=l.loaded;!c&&(i||l.independent||a)&&l.fragment===e&&(n=s),i=c}return n},w.loadedEndOfParts=function(t,e){var r=t[t.length-1];return r&&e>r.start&&r.loaded},w.getInitialLiveFragment=function(t,e){var r=this.fragPrevious,n=null;if(r){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),n=Object(d.findFragmentByPDT)(e,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=r.sn+1;if(i>=t.startSN&&i<=t.endSN){var a=e[i-t.startSN];r.cc===a.cc&&(n=a,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=Object(d.findFragWithCC)(e,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn)}}else{var s=this.hls.liveSyncPosition;null!==s&&(n=this.getFragmentAtPosition(s,this.bitrateTest?t.fragmentEnd:t.edge,t))}return n},w.getFragmentAtPosition=function(t,e,r){var n,i=this.config,s=this.fragPrevious,o=r.fragments,l=r.endSN,c=r.fragmentHint,u=i.maxFragLookUpTolerance,h=!!(i.lowLatencyMode&&r.partList&&c);if(h&&c&&!this.bitrateTest&&(o=o.concat(c),l=c.sn),t<e){var f=t>e-u?0:u;n=Object(d.findFragmentByPTS)(s,o,t,f)}else n=o[o.length-1];if(n){var p=n.sn-r.startSN,g=s&&n.level===s.level,m=o[p+1];if(this.fragmentTracker.getState(n)===a.FragmentState.BACKTRACKED){n=null;for(var v=p;o[v]&&this.fragmentTracker.getState(o[v])===a.FragmentState.BACKTRACKED;)n=s?o[v--]:o[--v];n||(n=m)}else s&&n.sn===s.sn&&!h&&g&&(n.sn<l&&this.fragmentTracker.getState(m)!==a.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+m.sn),n=m):n=null)}return n},w.synchronizeToLiveEdge=function(t){var e=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,i=r.currentTime,a=t.fragments[0].start,s=t.edge,o=i>=a-e.maxFragLookUpTolerance&&i<=s;if(null!==n&&r.duration>n&&(i<n||!o)){var l=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!o&&r.readyState<4||i<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+s+", reset currentTime to : "+n.toFixed(3)),r.currentTime=n))}}},w.alignPlaylists=function(t,e){var r=this.levels,i=this.levelLastLoaded,a=this.fragPrevious,s=null!==i?r[i]:null,o=t.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;var l=t.fragments[0].start,c=!e,u=t.alignedSliding&&Object(n.isFiniteNumber)(l);if(c||!u&&!l){Object(f.alignStream)(a,s,t);var h=t.fragments[0].start;return this.log("Live playlist sliding: "+h.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+o),h}return l},w.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},w.setStartPosition=function(t,e){var r=this.startPosition;if(r<e&&(r=-1),-1===r||-1===this.lastCurrentTime){var i=t.startTimeOffset;Object(n.isFiniteNumber)(i)?(r=e+i,i<0&&(r+=t.totalduration),r=Math.min(Math.max(e,r),e+t.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+r),this.startPosition=r):t.live?r=this.hls.liveSyncPosition||e:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},w.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},w.handleFragLoadAborted=function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?" part"+e.index:"")+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},w.resetFragmentLoading=function(t){this.fragCurrent&&this.fragContextChanged(t)||(this.state=T.IDLE)},w.onFragmentOrKeyLoadError=function(t,e){if(!e.fatal){var r=e.frag;if(r&&r.type===t){var n=this.fragCurrent;console.assert(n&&r.sn===n.sn&&r.level===n.level&&r.urlId===n.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(r.level))return;var a=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+r.sn+" of "+t+" "+r.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=T.FRAG_LOADING_WAITING_RETRY}else e.levelRetry?(t===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=T.IDLE):(o.logger.error(e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.stopLoad(),this.state=T.ERROR)}}},w.afterBufferFlushed=function(t,e,r){if(t){var n=s.BufferHelper.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,n,r),this.state===T.ENDED&&this.resetLoadingState()}},w.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE},w.resetLiveStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;if(null!==e&&void 0!==e&&e.live)return this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},w.updateLevelTiming=function(t,e,r,n){var i=this,a=r.details;console.assert(!!a,"level.details must be defined"),Object.keys(t.elementaryStreams).reduce((function(e,s){var o=t.elementaryStreams[s];if(o){var c=o.endPTS-o.startPTS;if(c<=0)return i.warn("Could not parse fragment "+t.sn+" "+s+" duration reliably ("+c+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),e||!1;var u=n?0:Object(p.updateFragPTSDTS)(a,t,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:a,level:r,drift:u,type:s,frag:t,start:o.startPTS,end:o.endPTS}),!0}return e}),!1)?(this.state=T.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:t,part:e})):this.resetLoadingState()},w.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},E=i,(x=[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}])&&b(E.prototype,x),S&&b(E,S),i}(i.default)},"./src/controller/buffer-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return d}));var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),s=r("./src/errors.ts"),o=r("./src/utils/buffer-helper.ts"),l=r("./src/utils/mediasource-helper.ts"),c=r("./src/loader/fragment.ts"),u=r("./src/controller/buffer-operation-queue.ts"),h=Object(l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,d=function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.hls,r=e.media,n=e.mediaSource;a.logger.log("[buffer-controller]: Media source opened"),r&&(e.updateMediaElementDuration(),t.trigger(i.Events.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){a.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){a.logger.log("[buffer-controller]: Media source ended")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(i.Events.BUFFER_RESET,this.onBufferReset,this),t.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(i.Events.BUFFER_EOS,this.onBufferEos,this),t.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(i.Events.FRAG_PARSED,this.onFragParsed,this),t.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(i.Events.BUFFER_RESET,this.onBufferReset,this),t.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.off(i.Events.BUFFER_EOS,this.onBufferEos,this),t.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(i.Events.FRAG_PARSED,this.onFragParsed,this),t.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new u.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},e.onManifestParsed=function(t,e){var r=2;(e.audio&&!e.video||!e.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var r=this.media=e.media;if(r&&h){var n=this.mediaSource=new h;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,r=this._objectUrl;if(e){if(a.logger.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(n){a.logger.warn("[buffer-controller]: onMediaDetaching: "+n.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(r&&self.URL.revokeObjectURL(r),t.src===r?(t.removeAttribute("src"),t.load()):a.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var r=t.sourceBuffer[e];try{r&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(r),t.sourceBuffer[e]=void 0)}catch(n){a.logger.warn("[buffer-controller]: Failed to reset the "+e+" buffer",n)}})),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var r=this,n=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(n){var i=r.tracks[t];if(i&&"function"===typeof i.buffer.changeType){var a=e[t],s=a.codec,o=a.levelCodec,l=a.container;if((i.levelCodec||i.codec).replace(f,"$1")!==(o||s).replace(f,"$1")){var c=l+";codecs="+(o||s);r.appendChangeType(t,c)}}}else r.pendingTracks[t]=e[t]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var r=this,n=this.operationQueue,i={execute:function(){var i=r.sourceBuffer[t];i&&(a.logger.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),i.changeType(e)),n.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){a.logger.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};n.append(i,t)},e.onBufferAppending=function(t,e){var r=this,n=this.hls,l=this.operationQueue,c=this.tracks,u=e.data,h=e.type,f=e.frag,d=e.part,p=e.chunkMeta,g=p.buffering[h],m=self.performance.now();g.start=m;var v=f.stats.buffering,y=d?d.stats.buffering:null;0===v.start&&(v.start=m),y&&0===y.start&&(y.start=m);var b=c.audio,_="audio"===h&&1===p.id&&"audio/mpeg"===(null===b||void 0===b?void 0:b.container),T={execute:function(){if(g.executeStart=self.performance.now(),_){var t=r.sourceBuffer[h];if(t){var e=f.start-t.timestampOffset;Math.abs(e)>=.1&&(a.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+e+") sn: "+f.sn+")"),t.timestampOffset=f.start)}}r.appendExecutor(u,h)},onStart:function(){},onComplete:function(){var t=self.performance.now();g.executeEnd=g.end=t,0===v.first&&(v.first=t),y&&0===y.first&&(y.first=t);var e=r.sourceBuffer,n={};for(var a in e)n[a]=o.BufferHelper.getBuffered(e[a]);r.appendError=0,r.hls.trigger(i.Events.BUFFER_APPENDED,{type:h,frag:f,part:d,chunkMeta:p,parent:f.type,timeRanges:n})},onError:function(t){a.logger.error("[buffer-controller]: Error encountered while trying to append to the "+h+" SourceBuffer",t);var e={type:s.ErrorTypes.MEDIA_ERROR,parent:f.type,details:s.ErrorDetails.BUFFER_APPEND_ERROR,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=s.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,e.details=s.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(a.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0)),n.trigger(i.Events.ERROR,e)}};l.append(T,h)},e.onBufferFlushing=function(t,e){var r=this,n=this.operationQueue,s=function(t){return{execute:r.removeExecutor.bind(r,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(i.Events.BUFFER_FLUSHED,{type:t})},onError:function(e){a.logger.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?n.append(s(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){n.append(s(t),t)}))},e.onFragParsed=function(t,e){var r=this,n=e.frag,s=e.part,o=[],l=s?s.elementaryStreams:n.elementaryStreams;l[c.ElementaryStreamTypes.AUDIOVIDEO]?o.push("audiovideo"):(l[c.ElementaryStreamTypes.AUDIO]&&o.push("audio"),l[c.ElementaryStreamTypes.VIDEO]&&o.push("video")),0===o.length&&a.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var t=self.performance.now();n.stats.buffering.end=t,s&&(s.stats.buffering.end=t);var e=s?s.stats:n.stats;r.hls.trigger(i.Events.FRAG_BUFFERED,{frag:n,part:s,stats:e,id:n.type})}),o)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var r=this;this.getSourceBufferTypes().reduce((function(t,n){var i=r.sourceBuffer[n];return e.type&&e.type!==n||i&&!i.ended&&(i.ended=!0,a.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS")),t&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var t=r.mediaSource;t&&"open"===t.readyState&&t.endOfStream()}))},e.onLevelUpdated=function(t,e){var r=e.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,r=this.media,a=this.sourceBuffer;if(r&&null!==e){var s=this.getSourceBufferTypes();if(s.length){var l=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(Object(n.isFiniteNumber)(l)&&!(l<0)){var c=r.currentTime,u=e.levelTargetDuration,h=Math.max(l,u),f=Math.floor(c/u)*u-h;s.forEach((function(r){var n=a[r];if(n){var s=o.BufferHelper.getBuffered(n);s.length>0&&f>s.start(0)&&(t.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:f}),e.live&&t.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),t.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:r}))}}))}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,r=this.media,i=this.mediaSource,s=t.fragments[0].start+t.totalduration,o=r.duration,l=Object(n.isFiniteNumber)(i.duration)?i.duration:0;t.live&&e.config.liveDurationInfinity?(a.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(t)):(s>l&&s>o||!Object(n.isFiniteNumber)(o))&&(a.logger.log("[buffer-controller]: Updating Media Source duration to "+s.toFixed(3)),i.duration=s)}},e.updateSeekableRange=function(t){var e=this.mediaSource,r=t.fragments;if(r.length&&t.live&&null!==e&&void 0!==e&&e.setLiveSeekableRange){var n=Math.max(0,r[0].start),i=Math.max(n,n+t.totalduration);e.setLiveSeekableRange(n,i)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!t||2===n){this.createSourceBuffers(r),this.pendingTracks={};var a=this.getSourceBufferTypes();if(0===a.length)return void this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});a.forEach((function(t){e.executeNext(t)}))}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var o in t)if(!e[o]){var l=t[o];if(!l)throw Error("source buffer exists for track "+o+", however track does not");var c=l.levelCodec||l.codec,u=l.container+";codecs="+c;a.logger.log("[buffer-controller]: creating sourceBuffer("+u+")");try{var h=e[o]=r.addSourceBuffer(u),f=o;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[o]={buffer:h,codec:c,container:l.container,levelCodec:l.levelCodec,id:l.id},n++}catch(d){a.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+d.message),this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,mimeType:u})}}n&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){a.logger.error("[buffer-controller]: "+t+" SourceBuffer error",e),this.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(t);r&&r.onError(e)},e.removeExecutor=function(t,e,r){var i=this.media,s=this.mediaSource,o=this.operationQueue,l=this.sourceBuffer[t];if(!i||!s||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void o.shiftAndExecuteNext(t);var c=Object(n.isFiniteNumber)(i.duration)?i.duration:1/0,u=Object(n.isFiniteNumber)(s.duration)?s.duration:1/0,h=Math.max(0,e),f=Math.min(r,c,u);f>h?(a.logger.log("[buffer-controller]: Removing ["+h+","+f+"] from the "+t+" SourceBuffer"),console.assert(!l.updating,t+" sourceBuffer must not be updating"),l.remove(h,f)):o.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var r=this.operationQueue,n=this.sourceBuffer[e];if(!n)return a.logger.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(e);n.ended=!1,console.assert(!n.updating,e+" sourceBuffer must not be updating"),n.appendBuffer(t)},e.blockBuffers=function(t,e){var r=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return a.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(t);var n=this.operationQueue,i=e.map((function(t){return n.appendBlocker(t)}));Promise.all(i).then((function(){t(),e.forEach((function(t){var e=r.sourceBuffer[t];e&&e.updating||n.shiftAndExecuteNext(t)}))}))},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,r){var n=this.sourceBuffer[t];if(n){var i=r.bind(this,t);this.listeners[t].push({event:e,listener:i}),n.addEventListener(e,i)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))},t}()},"./src/controller/buffer-operation-queue.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return i}));var n=r("./src/utils/logger.ts"),i=function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var r=this.queues[e];r.push(t),1===r.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,r=new Promise((function(t){e=t})),n={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,t),r},e.executeNext=function(t){var e=this.buffers,r=this.queues,i=e[t],a=r[t];if(a.length){var s=a[0];try{s.execute()}catch(o){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),s.onError(o),i&&i.updating||(a.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t}()},"./src/controller/cap-level-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts");function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(t){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e,r,a,s=t.prototype;return s.setStreamController=function(t){this.streamController=t},s.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},s.registerListeners=function(){var t=this.hls;t.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},s.unregisterListener=function(){var t=this.hls;t.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},s.onFpsDropLevelCapping=function(e,r){t.isLevelAllowed(r.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(r.droppedLevel)},s.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null},s.onManifestParsed=function(t,e){var r=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,r.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(e){var r=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(n,i){return t.isLevelAllowed(i,r.restrictedLevels)&&i<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0)}return this.clientRect=e,e},t.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},t.getMaxLevelByMediaSize=function(t,e,r){if(!t||!t.length)return-1;for(var n,i,a=t.length-1,s=0;s<t.length;s+=1){var o=t[s];if((o.width>=e||o.height>=r)&&(n=o,!(i=t[s+1])||n.width!==i.width||n.height!==i.height)){a=s;break}}return a},e=t,a=[{key:"contentScaleFactor",get:function(){var t=1;try{t=self.devicePixelRatio}catch(e){}return t}}],(r=[{key:"mediaWidth",get:function(){return this.getDimensions().width*t.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*t.contentScaleFactor}}])&&i(e.prototype,r),a&&i(e,a),t}();e.default=a},"./src/controller/cmcd-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f}));var n=r("./src/events.ts"),i=r("./src/types/cmcd.ts"),a=r("./src/utils/buffer-helper.ts"),s=r("./src/utils/logger.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function c(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h.apply(this,arguments)}var f=function(){function t(e){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(t){try{r.apply(t,{ot:i.CMCDObjectType.MANIFEST,su:!r.initialized})}catch(e){s.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(t){try{var e=t.frag,n=r.hls.levels[e.level],a=r.getObjectType(e),o={d:1e3*e.duration,ot:a};a!==i.CMCDObjectType.VIDEO&&a!==i.CMCDObjectType.AUDIO&&a!=i.CMCDObjectType.MUXED||(o.br=n.bitrate/1e3,o.tb=r.getTopBandwidth(a)/1e3,o.bl=r.getBufferLength(a)),r.apply(t,o)}catch(l){s.logger.warn("Could not generate segment CMCD data.",l)}},this.hls=e;var n=this.config=e.config,a=n.cmcd;null!=a&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=a.sessionId||t.uuid(),this.cid=a.contentId,this.useHeaders=!0===a.useHeaders,this.registerListeners())}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.on(n.Events.BUFFER_CREATED,this.onBufferCreated,this)},e.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.off(n.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},e.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},e.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},e.onBufferCreated=function(t,e){var r,n;this.audioBuffer=null===(r=e.tracks.audio)||void 0===r?void 0:r.buffer,this.videoBuffer=null===(n=e.tracks.video)||void 0===n?void 0:n.buffer},e.createData=function(){var t;return{v:i.CMCDVersion,sf:i.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(t=this.media)||void 0===t?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},e.apply=function(e,r){void 0===r&&(r={}),h(r,this.createData());var n=r.ot===i.CMCDObjectType.INIT||r.ot===i.CMCDObjectType.VIDEO||r.ot===i.CMCDObjectType.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var a=t.toHeaders(r);if(!Object.keys(a).length)return;e.headers||(e.headers={}),h(e.headers,a)}else{var s=t.toQuery(r);if(!s)return;e.url=t.appendQueryToUri(e.url,s)}},e.getObjectType=function(t){var e=t.type;return"subtitle"===e?i.CMCDObjectType.TIMED_TEXT:"initSegment"===t.sn?i.CMCDObjectType.INIT:"audio"===e?i.CMCDObjectType.AUDIO:"main"===e?this.hls.audioTracks.length?i.CMCDObjectType.VIDEO:i.CMCDObjectType.MUXED:void 0},e.getTopBandwidth=function(t){var e,r=0,n=this.hls;if(t===i.CMCDObjectType.AUDIO)e=n.audioTracks;else{var a=n.maxAutoLevel,s=a>-1?a+1:n.levels.length;e=n.levels.slice(0,s)}for(var o,l=c(e);!(o=l()).done;){var u=o.value;u.bitrate>r&&(r=u.bitrate)}return r>0?r:NaN},e.getBufferLength=function(t){var e=this.hls.media,r=t===i.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return r&&e?1e3*a.BufferHelper.bufferInfo(r,e.currentTime,this.config.maxBufferHole).len:NaN},e.createPlaylistLoader=function(){var t=this.config.pLoader,e=this.applyPlaylistData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var n=t.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(t,r,n){e(t),this.loader.load(t,r,n)},l(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},e.createFragmentLoader=function(){var t=this.config.fLoader,e=this.applyFragmentData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var n=t.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(t,r,n){e(t),this.loader.load(t,r,n)},l(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},t.uuid=function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substr(e.lastIndexOf("/")+1)},t.serialize=function(t){for(var e,r=[],n=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},i=function(t){return Math.round(t)},a=function(t){return 100*i(t/100)},s={br:i,d:i,bl:a,dl:a,mtp:a,nor:function(t){return encodeURIComponent(t)},rtp:a,tb:i},o=c(Object.keys(t||{}).sort());!(e=o()).done;){var l=e.value,u=t[l];if(n(u)&&("v"!==l||1!==u)&&("pr"!=l||1!==u)){var h=s[l];h&&(u=h(u));var f=typeof u,d=void 0;d="ot"===l||"sf"===l||"st"===l?l+"="+u:"boolean"===f?l:"number"===f?l+"="+u:l+"="+JSON.stringify(u),r.push(d)}}return r.join(",")},t.toHeaders=function(e){for(var r={},n=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,o=Object.keys(e);s<o.length;s++){var l=o[s];i[null!=a[l]?a[l]:1][l]=e[l]}for(var c=0;c<i.length;c++){var u=t.serialize(i[c]);u&&(r["CMCD-"+n[c]]=u)}return r},t.toQuery=function(e){return"CMCD="+encodeURIComponent(t.serialize(e))},t.appendQueryToUri=function(t,e){if(!e)return t;var r=t.includes("?")?"&":"?";return""+t+r+e},t}()},"./src/controller/eme-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),s=r("./src/utils/mediakeys-helper.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(t){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=t,this._config=t.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var e,r,l,c=t.prototype;return c.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},c._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c.getLicenseServerUrl=function(t){switch(t){case s.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},c._attemptKeySystemAccess=function(t,e,r){var n=this,i=function(t,e,r,n){if(t===s.KeySystems.WIDEVINE)return function(t,e,r){var n={audioCapabilities:[],videoCapabilities:[]};return t.forEach((function(t){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:r.audioRobustness||""})})),e.forEach((function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:r.videoRobustness||""})})),[n]}(e,r,n);throw new Error("Unknown key-system: "+t)}(t,e,r,this._drmSystemOptions);a.logger.log("Requesting encrypted media key-system access");var o=this.requestMediaKeySystemAccess(t,i);this.mediaKeysPromise=o.then((function(e){return n._onMediaKeySystemAccessObtained(t,e)})),o.catch((function(e){a.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))},c._onMediaKeySystemAccessObtained=function(t,e){var r=this;a.logger.log('Access for key-system "'+t+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n);var i=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(e){return n.mediaKeys=e,a.logger.log('Media-keys created for key-system "'+t+'"'),r._onMediaKeysCreated(),e}));return i.catch((function(t){a.logger.error("Failed to create media-keys:",t)})),i},c._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},c._onNewMediaKeySession=function(t){var e=this;a.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(r){e._onKeySessionMessage(t,r.message)}),!1)},c._onKeySessionMessage=function(t,e){a.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){a.logger.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)}))},c.onMediaEncrypted=function(t){var e=this;if(a.logger.log('Media is encrypted using "'+t.initDataType+'" init data type'),!this.mediaKeysPromise)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var r=function(r){e._media&&(e._attemptSetMediaKeys(r),e._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};this.mediaKeysPromise.then(r).catch(r)},c._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},c._generateRequestWithPreferredKeySession=function(t,e){var r=this,s=this._mediaKeysList[0];if(!s)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(s.mediaKeysSessionInitialized)a.logger.warn("Key-Session already initialized but requested again");else{var o=s.mediaKeysSession;if(!o)return a.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return a.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});a.logger.log('Generating key-session request for "'+t+'" init data type'),s.mediaKeysSessionInitialized=!0,o.generateRequest(t,e).then((function(){a.logger.debug("Key-session generation succeeded")})).catch((function(t){a.logger.error("Error generating key-session request:",t),r.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},c._createLicenseXhr=function(t,e,r){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,r);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,n,t),i=void 0}catch(s){a.logger.error(s)}try{n.readyState||n.open("POST",t,!0),i&&i.call(this.hls,n,t)}catch(s){throw new Error("issue setting up KeySystem license XHR "+s)}return n},c._onLicenseRequestReadyStageChange=function(t,e,r,s){if(4===t.readyState)if(200===t.status){this._requestLicenseFailureCount=0,a.logger.log("License request succeeded");var o=t.response,l=this._licenseResponseCallback;if(l)try{o=l.call(this.hls,t,e)}catch(u){a.logger.error(u)}s(o)}else{if(a.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var c=3-this._requestLicenseFailureCount+1;a.logger.warn("Retrying license request, "+c+" attempts left"),this._requestLicense(r,s)}},c._generateLicenseRequestChallenge=function(t,e){if(t.mediaKeySystemDomain===s.KeySystems.WIDEVINE)return e;throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},c._requestLicense=function(t,e){a.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var s=this.getLicenseServerUrl(r.mediaKeySystemDomain),o=this._createLicenseXhr(s,t,e);a.logger.log("Sending license request to URL: "+s);var l=this._generateLicenseRequestChallenge(r,t);o.send(l)}catch(c){a.logger.error("Failure requesting DRM license: "+c),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},c.onMediaAttached=function(t,e){if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",this._onMediaEncrypted)}},c.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map((function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch((function(){}))}))).then((function(){return t.setMediaKeys(null)})).catch((function(){})))},c.onManifestParsed=function(t,e){if(this._emeEnabled){var r=e.levels.map((function(t){return t.audioCodec})).filter((function(t){return!!t})),n=e.levels.map((function(t){return t.videoCodec})).filter((function(t){return!!t}));this._attemptKeySystemAccess(s.KeySystems.WIDEVINE,r,n)}},e=t,(r=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&o(e.prototype,r),l&&o(e,l),t}();e.default=l},"./src/controller/fps-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,r){var a=performance.now();if(e){if(this.lastTime){var s=a-this.lastTime,o=r-this.lastDroppedFrames,l=e-this.lastDecodedFrames,c=1e3*o/s,u=this.hls;if(u.trigger(n.Events.FPS_DROP,{currentDropped:o,currentDecoded:l,totalDroppedFrames:r}),c>0&&o>u.config.fpsDroppedMonitoringThreshold*l){var h=u.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=h)&&(h-=1,u.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:u.currentLevel}),u.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}();e.default=a},"./src/controller/fragment-finders.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"findFragmentByPDT",(function(){return a})),r.d(e,"findFragmentByPTS",(function(){return s})),r.d(e,"fragmentWithinToleranceTest",(function(){return o})),r.d(e,"pdtWithinToleranceTest",(function(){return l})),r.d(e,"findFragWithCC",(function(){return c}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/binary-search.ts");function a(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!Object(n.isFiniteNumber)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(var i=0;i<t.length;++i){var a=t[i];if(l(e,r,a))return a}return null}function s(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var a=null;if(t?a=e[t.sn-e[0].sn+1]||null:0===r&&0===e[0].start&&(a=e[0]),a&&0===o(r,n,a))return a;var s=i.default.search(e,o.bind(null,r,n));return s||a}function o(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function l(t,e,r){var n=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>t}function c(t,e){return i.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}},"./src/controller/fragment-tracker.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"FragmentState",(function(){return n})),r.d(e,"FragmentTracker",(function(){return s}));var n,i=r("./src/events.ts"),a=r("./src/types/loader.ts");!function(t){t.NOT_LOADED="NOT_LOADED",t.BACKTRACKED="BACKTRACKED",t.APPENDING="APPENDING",t.PARTIAL="PARTIAL",t.OK="OK"}(n||(n={}));var s=function(){function t(t){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){if(e===a.PlaylistLevelType.MAIN){var r=this.activeFragment,n=this.activeParts;if(!r)return null;if(n)for(var i=n.length;i--;){var s=n[i],o=s?s.end:r.appendedPTS;if(s.start<=t&&void 0!==o&&t<=o)return i>9&&(this.activeParts=n.slice(i-9)),s}else if(r.start<=t&&void 0!==r.appendedPTS&&t<=r.appendedPTS)return r}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var r=this.fragments,n=Object.keys(r),i=n.length;i--;){var a=r[n[i]];if((null===a||void 0===a?void 0:a.body.type)===e&&a.buffered){var s=a.body;if(s.start<=t&&t<=s.end)return s}}return null},e.detectEvictedFragments=function(t,e,r){var n=this;Object.keys(this.fragments).forEach((function(i){var a=n.fragments[i];if(a)if(a.buffered){var s=a.range[t];s&&s.time.some((function(t){var r=!n.isTimeBuffered(t.startPTS,t.endPTS,e);return r&&n.removeFragment(a.body),r}))}else a.body.type===r&&n.removeFragment(a.body)}))},e.detectPartialFragments=function(t){var e=this,r=this.timeRanges,n=t.frag,i=t.part;if(r&&"initSegment"!==n.sn){var a=l(n),s=this.fragments[a];s&&(Object.keys(r).forEach((function(t){var a=n.elementaryStreams[t];if(a){var o=r[t],l=null!==i||!0===a.partial;s.range[t]=e.getBufferedTimes(n,i,l,o)}})),s.backtrack=s.loaded=null,Object.keys(s.range).length?s.buffered=!0:this.removeFragment(s.body))}},e.fragBuffered=function(t){var e=l(t),r=this.fragments[e];r&&(r.backtrack=r.loaded=null,r.buffered=!0)},e.getBufferedTimes=function(t,e,r,n){for(var i={time:[],partial:r},a=e?e.start:t.start,s=e?e.end:t.end,o=t.minEndPTS||s,l=t.maxStartPTS||a,c=0;c<n.length;c++){var u=n.start(c)-this.bufferPadding,h=n.end(c)+this.bufferPadding;if(l>=u&&o<=h){i.time.push({startPTS:Math.max(a,n.start(c)),endPTS:Math.min(s,n.end(c))});break}if(a<h&&s>u)i.partial=!0,i.time.push({startPTS:Math.max(a,n.start(c)),endPTS:Math.min(s,n.end(c))});else if(s<=u)break}return i},e.getPartialFragment=function(t){var e,r,n,i=null,a=0,s=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(c){var u=l[c];u&&o(u)&&(r=u.body.start-s,n=u.body.end+s,t>=r&&t<=n&&(e=Math.min(t-r,n-t),a<=e&&(i=u.body,a=e)))})),i},e.getState=function(t){var e=l(t),r=this.fragments[e];return r?r.buffered?o(r)?n.PARTIAL:n.OK:r.backtrack?n.BACKTRACKED:n.APPENDING:n.NOT_LOADED},e.backtrack=function(t,e){var r=l(t),n=this.fragments[r];if(!n||n.backtrack)return null;var i=n.backtrack=e||n.loaded;return n.loaded=null,i},e.getBacktrackData=function(t){var e=l(t),r=this.fragments[e];if(r){var n,i=r.backtrack;if(null!==i&&void 0!==i&&null!==(n=i.payload)&&void 0!==n&&n.byteLength)return i;this.removeFragment(t)}return null},e.isTimeBuffered=function(t,e,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,t>=n&&e<=i)return!0;if(e<=n)return!1}return!1},e.onFragLoaded=function(t,e){var r=e.frag,n=e.part;if("initSegment"!==r.sn&&!r.bitrateTest&&!n){var i=l(r);this.fragments[i]={body:r,loaded:e,backtrack:null,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var r=this,n=e.frag,i=e.part,s=e.timeRanges;if(n.type===a.PlaylistLevelType.MAIN)if(this.activeFragment=n,i){var o=this.activeParts;o||(this.activeParts=o=[]),o.push(i)}else this.activeParts=null;this.timeRanges=s,Object.keys(s).forEach((function(t){var e=s[t];if(r.detectEvictedFragments(t,e),!i)for(var a=0;a<e.length;a++)n.appendedPTS=Math.max(e.end(a),n.appendedPTS||0)}))},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=l(t);return!!this.fragments[e]},e.removeFragmentsInRange=function(t,e,r){var n=this;Object.keys(this.fragments).forEach((function(i){var a=n.fragments[i];if(a&&a.buffered){var s=a.body;s.type===r&&s.start<e&&s.end>t&&n.removeFragment(s)}}))},e.removeFragment=function(t){var e=l(t);t.stats.loaded=0,t.clearElementaryStreamInfo(),delete this.fragments[e]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},t}();function o(t){var e,r;return t.buffered&&((null===(e=t.range.video)||void 0===e?void 0:e.partial)||(null===(r=t.range.audio)||void 0===r?void 0:r.partial))}function l(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}},"./src/controller/gap-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"STALL_MINIMUM_DURATION_MS",(function(){return o})),r.d(e,"MAX_START_GAP_JUMP",(function(){return l})),r.d(e,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return c})),r.d(e,"SKIP_BUFFER_RANGE_START",(function(){return u})),r.d(e,"default",(function(){return h}));var n=r("./src/utils/buffer-helper.ts"),i=r("./src/errors.ts"),a=r("./src/events.ts"),s=r("./src/utils/logger.ts"),o=250,l=2,c=.1,u=.05,h=function(){function t(t,e,r,n){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=r,this.hls=n}var e=t.prototype;return e.destroy=function(){this.hls=this.fragmentTracker=this.media=null},e.poll=function(t){var e=this.config,r=this.media,i=this.stalled,a=r.currentTime,c=r.seeking,u=this.seeking&&!c,h=!this.seeking&&c;if(this.seeking=c,a===t){if((h||u)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&n.BufferHelper.getBuffered(r).length){var f=n.BufferHelper.bufferInfo(r,a,0),d=f.len>0,p=f.nextStart||0;if(d||p){if(c){var g=f.len>l,m=!p||p-a>l&&!this.fragmentTracker.getPartialFragment(a);if(g||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var v,y=Math.max(p,f.start||0)-a,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,_=(null===b||void 0===b||null===(v=b.details)||void 0===v?void 0:v.live)?2*b.details.targetduration:l;if(y>0&&y<=_)return void this._trySkipBufferHole(null)}var T=self.performance.now();if(null!==i){var E=T-i;!c&&E>=o&&this._reportStall(f.len);var x=n.BufferHelper.bufferInfo(r,a,e.maxBufferHole);this._tryFixBufferStall(x,E)}else this.stalled=T}}}else if(this.moved=!0,null!==i){if(this.stallReported){var S=self.performance.now()-i;s.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(S)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a)||t.len>r.maxBufferHole&&e>1e3*r.highBufferWatchdogPeriod&&(s.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,s.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,r=this.hls,o=this.media,l=o.currentTime,h=0,f=n.BufferHelper.getBuffered(o),d=0;d<f.length;d++){var p=f.start(d);if(l+e.maxBufferHole>=h&&l<p){var g=Math.max(p+u,o.currentTime+c);return s.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+g),this.moved=!0,this.stalled=null,o.currentTime=g,t&&r.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+g,frag:t}),g}h=f.end(d)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,n=r.currentTime,o=(this.nudgeRetry||0)+1;if(this.nudgeRetry=o,o<t.nudgeMaxRetry){var l=n+o*t.nudgeOffset;s.logger.warn("Nudging 'currentTime' from "+n+" to "+l),r.currentTime=l,e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else s.logger.error("Playhead still not moving while enough data buffered @"+n+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}()},"./src/controller/id3-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),i=r("./src/utils/texttrack-utils.ts"),a=r("./src/demux/id3.ts"),s=function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners()},e._registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},e._unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return Object(i.sendAddTrackEvent)(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},e.onFragParsingMetadata=function(t,e){if(this.media){var r=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,s=0;s<n.length;s++){var o=a.getID3Frames(n[s].data);if(o){var l=n[s].pts,c=s<n.length-1?n[s+1].pts:r.end;c-l<=0&&(c=l+.25);for(var u=0;u<o.length;u++){var h=o[u];if(!a.isTimeStampFrame(h)){var f=new i(l,c,"");f.value=h,this.id3Track.addCue(f)}}}}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset,a=e.type;if(!a||"audio"===a){var s=this.id3Track;s&&Object(i.removeCuesInRange)(s,r,n)}},t}();e.default=s},"./src/controller/latency-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r("./src/errors.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts");function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e,r,o,l=t.prototype;return l.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},l.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},l.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},l.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},l.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},l.onLevelUpdated=function(t,e){var r=e.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},l.onError=function(t,e){e.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},l.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,i=n.lowLatencyMode,a=n.maxLiveSyncPlaybackRate;if(i&&1!==a){var s=this.targetLatency;if(null!==s){var o=r-s,l=o<Math.min(this.maxLatency,s+e.targetduration);if(e.live&&l&&o>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;t.playbackRate=Math.min(c,Math.max(1,u))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},l.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},l.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},e=t,(r=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,r=t.partHoldBack,n=t.targetduration,i=this.config,a=i.liveSyncDuration,s=i.liveSyncDurationCount,o=i.lowLatencyMode,l=this.hls.userConfig,c=o&&r||e;(l.liveSyncDuration||l.liveSyncDurationCount||0===c)&&(c=void 0!==a?a:s*n);var u=n;return c+Math.min(1*this.stallCount,u)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,r=this.levelDetails;if(null===t||null===e||null===r)return null;var n=r.edge,i=t-e-this.edgeStalled,a=n-r.totalduration,s=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,i),s)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var r=t.buffered.length;return r?t.buffered.end(r-1):e.edge-this.currentTime}}])&&s(e.prototype,r),o&&s(e,o),t}()},"./src/controller/level-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return p}));var n=r("./src/types/level.ts"),i=r("./src/events.ts"),a=r("./src/errors.ts"),s=r("./src/utils/codecs.ts"),o=r("./src/controller/level-helper.ts"),l=r("./src/controller/base-playlist-controller.ts"),c=r("./src/types/loader.ts");function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}var d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(t){var e,r;function l(e){var r;return(r=t.call(this,e,"[level-controller]")||this)._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.onParsedComplete=void 0,r._registerListeners(),r}r=t,(e=l).prototype=Object.create(r.prototype),e.prototype.constructor=e,f(e,r);var p,g,m,v=l.prototype;return v._registerListeners=function(){var t=this.hls;t.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(i.Events.ERROR,this.onError,this)},v._unregisterListeners=function(){var t=this.hls;t.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(i.Events.ERROR,this.onError,this)},v.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,t.prototype.destroy.call(this)},v.startLoad=function(){this._levels.forEach((function(t){t.loadError=0})),t.prototype.startLoad.call(this)},v.onManifestLoaded=function(t,e){var r,l,c=[],u=[],h=[],f={},p=!1,g=!1,m=!1;if(e.levels.forEach((function(t){var e=t.attrs;p=p||!(!t.width||!t.height),g=g||!!t.videoCodec,m=m||!!t.audioCodec,d&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0);var r=t.bitrate+"-"+t.attrs.RESOLUTION+"-"+t.attrs.CODECS;(l=f[r])?l.url.push(t.url):(l=new n.Level(t),f[r]=l,c.push(l)),e&&(e.AUDIO&&Object(o.addGroupId)(l,"audio",e.AUDIO),e.SUBTITLES&&Object(o.addGroupId)(l,"text",e.SUBTITLES))})),(p||g)&&m&&(c=c.filter((function(t){var e=t.videoCodec,r=t.width,n=t.height;return!!e||!(!r||!n)}))),c=c.filter((function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||Object(s.isCodecSupportedInMp4)(e,"audio"))&&(!r||Object(s.isCodecSupportedInMp4)(r,"video"))})),e.audioTracks&&(u=e.audioTracks.filter((function(t){return!t.audioCodec||Object(s.isCodecSupportedInMp4)(t.audioCodec,"audio")})),Object(o.assignTrackIdsByGroup)(u)),e.subtitles&&(h=e.subtitles,Object(o.assignTrackIdsByGroup)(h)),c.length>0){r=c[0].bitrate,c.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=c;for(var v=0;v<c.length;v++)if(c[v].bitrate===r){this._firstLevel=v,this.log("manifest loaded, "+c.length+" level(s) found, first bitrate: "+r);break}var y=m&&!g,b={levels:c,audioTracks:u,subtitleTracks:h,firstLevel:this._firstLevel,stats:e.stats,audio:m,video:g,altAudio:!y&&u.some((function(t){return!!t.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,reason:"no level with compatible codecs found in manifest"})},v.onError=function(e,r){if(t.prototype.onError.call(this,e,r),!r.fatal){var n=r.context,i=this._levels[this.currentLevelIndex];if(n&&(n.type===c.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&n.groupId===i.audioGroupIds[i.urlId]||n.type===c.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&n.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var s,o=!1,l=!0;switch(r.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(r.frag){var u=this._levels[r.frag.level];u?(u.fragmentError++,u.fragmentError>this.hls.config.fragLoadingMaxRetry&&(s=r.frag.level)):s=r.frag.level}break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:n&&(n.deliveryDirectives&&(l=!1),s=n.level),o=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:s=r.level,o=!0}void 0!==s&&this.recoverLevel(r,s,o,l)}}},v.recoverLevel=function(t,e,r,n){var i=t.details,a=this._levels[e];if(a.loadError++,r){if(!this.retryLoadingOrFail(t))return void(this.currentLevelIndex=-1);t.levelRetry=!0}if(n){var s=a.url.length;if(s>1&&a.loadError<s)t.levelRetry=!0,this.redundantFailover(e);else if(-1===this.manualLevelIndex){var o=0===e?this._levels.length-1:e-1;this.currentLevelIndex!==o&&0===this._levels[o].loadError&&(this.warn(i+": switch to "+o),t.levelRetry=!0,this.hls.nextAutoLevel=o)}}},v.redundantFailover=function(t){var e=this._levels[t],r=e.url.length;if(r>1){var n=(e.urlId+1)%r;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(t){t.urlId=n})),this.level=t}},v.onFragLoaded=function(t,e){var r=e.frag;if(void 0!==r&&r.type===c.PlaylistLevelType.MAIN){var n=this._levels[r.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},v.onLevelLoaded=function(t,e){var r,n,i=e.level,a=e.details,s=this._levels[i];if(!s)return this.warn("Invalid level index "+i),void(null!==(n=e.deliveryDirectives)&&void 0!==n&&n.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0,this.retryCount=0),this.playlistLoaded(i,e,s.details)):null!==(r=e.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0)},v.onAudioTrackSwitched=function(t,e){var r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=this.hls.audioTracks[e.id].groupId,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===i){n=a;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},v.loadPlaylist=function(t){var e=this.currentLevelIndex,r=this._levels[e];if(this.canLoad&&r&&r.url.length>0){var n=r.urlId,a=r.url[n];if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("Attempt loading level index "+e+(t?" at sn "+t.msn+" part "+t.part:"")+" with URL-id "+n+" "+a),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:a,level:e,id:n,deliveryDirectives:t||null})}},v.removeLevel=function(t,e){var r=function(t,r){return r!==e},n=this._levels.filter((function(n,i){return i!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0)})).map((function(t,e){var r=t.details;return null!==r&&void 0!==r&&r.fragments&&r.fragments.forEach((function(t){t.level=e})),t}));this._levels=n,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:n})},p=l,(g=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e,r=this._levels;if(0!==r.length&&(this.currentLevelIndex!==t||null===(e=r[t])||void 0===e||!e.details)){if(t<0||t>=r.length){var n=t<0;if(this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:n,reason:"invalid level idx"}),n)return;t=Math.min(t,r.length-1)}this.clearTimer();var s=this.currentLevelIndex,o=r[s],l=r[t];this.log("switching to level "+t+" from "+s),this.currentLevelIndex=t;var c=u({},l,{level:t,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete c._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,c);var h=l.details;if(!h||h.live){var f=this.switchParams(l.uri,null===o||void 0===o?void 0:o.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&h(p.prototype,g),m&&h(p,m),l}(l.default)},"./src/controller/level-helper.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"addGroupId",(function(){return a})),r.d(e,"assignTrackIdsByGroup",(function(){return s})),r.d(e,"updatePTS",(function(){return o})),r.d(e,"updateFragPTSDTS",(function(){return c})),r.d(e,"mergeDetails",(function(){return u})),r.d(e,"mapPartIntersection",(function(){return h})),r.d(e,"mapFragmentIntersection",(function(){return f})),r.d(e,"adjustSliding",(function(){return d})),r.d(e,"addSliding",(function(){return p})),r.d(e,"computeReloadInterval",(function(){return g})),r.d(e,"getFragmentWithSN",(function(){return m})),r.d(e,"getPartWith",(function(){return v}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/logger.ts");function a(t,e,r){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(r);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(r)}}function s(t){var e={};t.forEach((function(t){var r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++}))}function o(t,e,r){l(t[e],t[r])}function l(t,e){var r=e.startPTS;if(Object(n.isFiniteNumber)(r)){var i,a=0;e.sn>t.sn?(a=r-t.start,i=t):(a=t.start-r,i=e),i.duration!==a&&(i.duration=a)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function c(t,e,r,a,s,o){a-r<=0&&(i.logger.warn("Fragment should have a positive duration",e),a=r+e.duration,o=s+e.duration);var c=r,u=a,h=e.startPTS,f=e.endPTS;if(Object(n.isFiniteNumber)(h)){var d=Math.abs(h-r);Object(n.isFiniteNumber)(e.deltaPTS)?e.deltaPTS=Math.max(d,e.deltaPTS):e.deltaPTS=d,c=Math.max(r,h),r=Math.min(r,h),s=Math.min(s,e.startDTS),u=Math.min(a,f),a=Math.max(a,f),o=Math.max(o,e.endDTS)}e.duration=a-r;var p=r-e.start;e.appendedPTS=a,e.start=e.startPTS=r,e.maxStartPTS=c,e.startDTS=s,e.endPTS=a,e.minEndPTS=u,e.endDTS=o;var g,m=e.sn;if(!t||m<t.startSN||m>t.endSN)return 0;var v=m-t.startSN,y=t.fragments;for(y[v]=e,g=v;g>0;g--)l(y[g],y[g-1]);for(g=v;g<y.length-1;g++)l(y[g],y[g+1]);return t.fragmentHint&&l(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,p}function u(t,e){for(var r=null,a=t.fragments,s=a.length-1;s>=0;s--){var o=a[s].initSegment;if(o){r=o;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var l,u=0;if(f(t,e,(function(t,i){t.relurl&&(u=t.cc-i.cc),Object(n.isFiniteNumber)(t.startPTS)&&Object(n.isFiniteNumber)(t.endPTS)&&(i.start=i.startPTS=t.startPTS,i.startDTS=t.startDTS,i.appendedPTS=t.appendedPTS,i.maxStartPTS=t.maxStartPTS,i.endPTS=t.endPTS,i.endDTS=t.endDTS,i.minEndPTS=t.minEndPTS,i.duration=t.endPTS-t.startPTS,i.duration&&(l=i),e.PTSKnown=e.alignedSliding=!0),i.elementaryStreams=t.elementaryStreams,i.loader=t.loader,i.stats=t.stats,i.urlId=t.urlId,t.initSegment&&(i.initSegment=t.initSegment,r=t.initSegment)})),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null===(e=r)||void 0===e?void 0:e.relurl)||(t.initSegment=r)})),e.skippedSegments&&(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var p=e.skippedSegments;p--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}var g=e.fragments;if(u){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var m=0;m<g.length;m++)g[m].cc+=u}e.skippedSegments&&(e.startCC=e.fragments[0].cc),h(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),l?c(e,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):d(t,e),g.length&&(e.totalduration=e.edge-g[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var v=e.advancedDateTime;if(e.advanced&&v){var y=e.edge;e.driftStart||(e.driftStartTime=v,e.driftStart=y),e.driftEndTime=v,e.driftEnd=y}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function h(t,e,r){if(t&&e)for(var n=0,i=0,a=t.length;i<=a;i++){var s=t[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}function f(t,e,r){for(var n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,c=i;c<=a;c++){var u=l[s+c],h=o[c];n&&!h&&c<n&&(h=e.fragments[c]=u),u&&h&&r(u,h)}}function d(t,e){var r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||p(e,n[r].start)}function p(t,e){if(e){for(var r=t.fragments,n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function g(t,e){var r,n=1e3*t.levelTargetDuration,i=n/2,a=t.age,s=a>0&&a<3*n,o=e.loading.end-e.loading.start,l=t.availabilityDelay;if(!1===t.updated)if(s){var c=333*t.misses;r=Math.max(Math.min(i,2*o),c),t.availabilityDelay=(t.availabilityDelay||0)+r}else r=i;else s?(l=Math.min(l||n/2,a),t.availabilityDelay=l,r=l+n-a):r=n-o;return Math.round(r)}function m(t,e,r){if(!t||!t.details)return null;var n=t.details,i=n.fragments[e-n.startSN];return i||((i=n.fragmentHint)&&i.sn===e?i:e<n.startSN&&r&&r.sn===e?r:null)}function v(t,e,r){if(!t||!t.details)return null;var n=t.details.partList;if(n)for(var i=n.length;i--;){var a=n[i];if(a.index===r&&a.fragment.sn===e)return a}return null}},"./src/controller/stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return y}));var n=r("./src/polyfills/number.ts"),i=r("./src/controller/base-stream-controller.ts"),a=r("./src/is-supported.ts"),s=r("./src/events.ts"),o=r("./src/utils/buffer-helper.ts"),l=r("./src/controller/fragment-tracker.ts"),c=r("./src/types/loader.ts"),u=r("./src/loader/fragment.ts"),h=r("./src/demux/transmuxer-interface.ts"),f=r("./src/types/transmuxer.ts"),d=r("./src/controller/gap-controller.ts"),p=r("./src/errors.ts"),g=r("./src/utils/logger.ts");function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}var y=function(t){var e,r;function y(e,r){var n;return(n=t.call(this,e,r,"[stream-controller]")||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.stalled=!1,n.couldBacktrack=!1,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}r=t,(e=y).prototype=Object.create(r.prototype),e.prototype.constructor=e,v(e,r);var b,_,T,E=y.prototype;return E._registerListeners=function(){var t=this.hls;t.on(s.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(s.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(s.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(s.Events.ERROR,this.onError,this),t.on(s.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(s.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(s.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(s.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(s.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E._unregisterListeners=function(){var t=this.hls;t.off(s.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(s.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(s.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(s.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(s.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(s.Events.ERROR,this.onError,this),t.off(s.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(s.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(s.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(s.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(s.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(s.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},E.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},E.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},E.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var t,e=this.levels,r=this.level,n=null===e||void 0===e||null===(t=e[r])||void 0===t?void 0:t.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var a,s=self.performance.now(),o=this.retryDate;(!o||s>=o||null!==(a=this.media)&&void 0!==a&&a.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},E.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},E.doTickIdle=function(){var t,e,r=this.hls,n=this.levelLastLoaded,a=this.levels,o=this.media,h=r.config,f=r.nextLoadLevel;if(null!==n&&(o||!this.startFragRequested&&h.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&a&&a[f]){var d=a[f];this.level=r.nextLoadLevel=f;var p=d.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==f)this.state=i.State.WAITING_LEVEL;else{var g=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:o,c.PlaylistLevelType.MAIN);if(null!==g&&!(g.len>=this.getMaxBufferLength(d.maxBitrate))){if(this._streamEnded(g,p)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(s.Events.BUFFER_EOS,m),void(this.state=i.State.ENDED)}var v=g.end,y=this.getNextFragment(v,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-p.startSN;b>1&&(y=p.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>v){var _=this.audioOnly&&!this.altAudio?u.ElementaryStreamTypes.AUDIO:u.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(o,_,c.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(t=y.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=y.decryptdata)&&void 0!==e&&e.key?this.loadFragment(y,p,v):this.loadKey(y,p))}}}},E.loadFragment=function(e,r,n){var i,a=this.fragmentTracker.getState(e);if(this.fragCurrent=e,a===l.FragmentState.BACKTRACKED){var s=this.fragmentTracker.getBacktrackData(e);if(s)return this._handleFragmentLoadProgress(s),void this._handleFragmentLoadComplete(s);a=l.FragmentState.NOT_LOADED}a===l.FragmentState.NOT_LOADED||a===l.FragmentState.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e):this.bitrateTest?(e.bitrateTest=!0,this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,n)):a===l.FragmentState.APPENDING?this.reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},E.getAppendedFrag=function(t){var e=this.fragmentTracker.getAppendedFrag(t,c.PlaylistLevelType.MAIN);return e&&"fragment"in e?e.fragment:e},E.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.PlaylistLevelType.MAIN)},E.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},E.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},E.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!==e&&void 0!==e&&e.readyState){var r,n=this.getAppendedFrag(e.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!e.paused&&t){var i=t[this.hls.nextLoadLevel],a=this.fragLastKbps;r=a&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*a)+1:0}else r=0;var s=this.getBufferedFrag(e.currentTime+r);if(s){var o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();var l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,u=Math.max(s.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}},E.abortCurrentFrag=function(){var t=this.fragCurrent;this.fragCurrent=null,null!==t&&void 0!==t&&t.loader&&t.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},E.flushMainBuffer=function(e,r){t.prototype.flushMainBuffer.call(this,e,r,this.altAudio?"video":null)},E.onMediaAttached=function(e,r){t.prototype.onMediaAttached.call(this,e,r);var n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new d.default(this.config,n,this.fragmentTracker,this.hls)},E.onMediaDetaching=function(){var e=this.media;e&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},E.onMediaPlaying=function(){this.tick()},E.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;Object(n.isFiniteNumber)(e)&&this.log("Media seeked to "+e.toFixed(3)),this.tick()},E.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(s.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},E.onManifestParsed=function(t,e){var r,n=!1,i=!1;e.levels.forEach((function(t){(r=t.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i&&!Object(a.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},E.onLevelLoading=function(t,e){var r=this.levels;if(r&&this.state===i.State.IDLE){var n=r[e.level];(!n.details||n.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(n.details))&&(this.state=i.State.WAITING_LEVEL)}},E.onLevelLoaded=function(t,e){var r,n=this.levels,a=e.level,o=e.details,l=o.totalduration;if(n){this.log("Level "+a+" loaded ["+o.startSN+","+o.endSN+"], cc ["+o.startCC+", "+o.endCC+"] duration:"+l);var c=this.fragCurrent;!c||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||c.level!==e.level&&c.loader&&(this.state=i.State.IDLE,c.loader.abort());var u=n[a],h=0;if(o.live||null!==(r=u.details)&&void 0!==r&&r.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;h=this.alignPlaylists(o,u.details)}if(u.details=o,this.levelLastLoaded=a,this.hls.trigger(s.Events.LEVEL_UPDATED,{details:o,level:a}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=i.State.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,h),this.tick()}else this.warn("Levels were reset while loading level "+a)},E._handleFragmentLoadProgress=function(t){var e,r=t.frag,n=t.part,i=t.payload,a=this.levels;if(a){var s=a[r.level],o=s.details;if(o){var l=s.videoCodec,u=o.PTSKnown||!o.live,d=null===(e=r.initSegment)||void 0===e?void 0:e.data,p=this._getAudioCodec(s),g=this.transmuxer=this.transmuxer||new h.default(this.hls,c.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=n?n.index:-1,v=-1!==m,y=new f.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,i.byteLength,m,v),b=this.initPTS[r.cc];g.push(i,d,p,l,r,n,o.totalduration,u,y,b)}else this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},E.onAudioTrackSwitching=function(t,e){var r=this.altAudio,n=!!e.url,i=e.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!==a&&void 0!==a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var o=this.hls;r&&o.trigger(s.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),o.trigger(s.Events.AUDIO_TRACK_SWITCHED,{id:i})}},E.onAudioTrackSwitched=function(t,e){var r=e.id,n=!!this.hls.audioTracks[r].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},E.onBufferCreated=function(t,e){var r,n,i=e.tracks,a=!1;for(var s in i){var o=i[s];if("main"===o.id){if(n=s,r=o,"video"===s){var l=i[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},E.onFragBuffered=function(t,e){var r=e.frag,n=e.part;if(!r||r.type===c.PlaylistLevelType.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var a=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}},E.onError=function(t,e){switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.MAIN,e);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(e.fatal?(this.warn(""+e.details),this.state=i.State.ERROR):e.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===e.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,n=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN);n&&n.len>.5&&(r=!this.reduceMaxBufferLength(n.len)),r&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},E.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){var r=o.BufferHelper.getBuffered(t);!this.loadedmetadata&&r.length?(this.loadedmetadata=!0,this.seekToStartPos()):e.poll(this.lastCurrentTime),this.lastCurrentTime=t.currentTime}},E.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},E.onBufferFlushed=function(t,e){var r=e.type;if(r!==u.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(r===u.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,c.PlaylistLevelType.MAIN)}},E.onLevelsUpdated=function(t,e){this.levels=e.levels},E.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},E.seekToStartPos=function(){var t=this.media,e=t.currentTime,r=this.startPosition;if(r>=0&&e<r){if(t.seeking)return void g.logger.log("could not seek to "+r+", already seeking at "+e);var n=o.BufferHelper.getBuffered(t),i=(n.length?n.start(0):0)-r;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(g.logger.log("adjusting start position by "+i+" to match buffer start"),r+=i,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+e),t.currentTime=r}},E._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},E._loadBitrateTestFrag=function(t){var e=this;this._doFragLoad(t).then((function(r){var n=e.hls;if(r&&!n.nextLoadLevel&&!e.fragContextChanged(t)){e.fragLoadError=0,e.state=i.State.IDLE,e.startFragRequested=!1,e.bitrateTest=!1;var a=t.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),n.trigger(s.Events.FRAG_LOADED,r)}}))},E._handleTransmuxComplete=function(t){var e,r="main",a=this.hls,o=t.remuxResult,l=t.chunkMeta,c=this.getCurrentContext(l);if(!c)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var h=c.frag,f=c.part,d=c.level,p=o.video,g=o.text,m=o.id3,v=o.initSegment,y=this.altAudio?void 0:o.audio;if(!this.fragContextChanged(h)){if(this.state=i.State.PARSING,v){v.tracks&&(this._bufferInitSegment(d,v.tracks,h,l),a.trigger(s.Events.FRAG_PARSING_INIT_SEGMENT,{frag:h,id:r,tracks:v.tracks}));var b=v.initPTS,_=v.timescale;Object(n.isFiniteNumber)(b)&&(this.initPTS[h.cc]=b,a.trigger(s.Events.INIT_PTS_FOUND,{frag:h,id:r,initPTS:b,timescale:_}))}if(p&&!1!==o.independent){if(d.details){var T=p.startPTS,E=p.endPTS,x=p.startDTS,S=p.endDTS;if(f)f.elementaryStreams[p.type]={startPTS:T,endPTS:E,startDTS:x,endDTS:S};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<T)return void this.backtrack(h);h.setElementaryStreamInfo(p.type,h.start,E,h.start,S,!0)}h.setElementaryStreamInfo(p.type,T,E,x,S),this.bufferFragmentData(p,h,f,l)}}else if(!1===o.independent)return void this.backtrack(h);if(y){var w=y.startPTS,C=y.endPTS,O=y.startDTS,k=y.endDTS;f&&(f.elementaryStreams[u.ElementaryStreamTypes.AUDIO]={startPTS:w,endPTS:C,startDTS:O,endDTS:k}),h.setElementaryStreamInfo(u.ElementaryStreamTypes.AUDIO,w,C,O,k),this.bufferFragmentData(y,h,f,l)}if(null!==m&&void 0!==m&&null!==(e=m.samples)&&void 0!==e&&e.length){var A={frag:h,id:r,samples:m.samples};a.trigger(s.Events.FRAG_PARSING_METADATA,A)}if(g){var D={frag:h,id:r,samples:g.samples};a.trigger(s.Events.FRAG_PARSING_USERDATA,D)}}},E._bufferInitSegment=function(t,e,r,n){var a=this;if(this.state===i.State.PARSING){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var o=e.audio,l=e.video,c=e.audiovideo;if(o){var u=t.audioCodec,h=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===h.indexOf("firefox")&&(u="mp4a.40.5")),-1!==h.indexOf("android")&&"audio/mpeg"!==o.container&&(u="mp4a.40.2",this.log("Android: force audio codec to "+u)),t.audioCodec&&t.audioCodec!==u&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+u+'"'),o.levelCodec=u,o.id="main",this.log("Init audio buffer, container:"+o.container+", codecs[selected/level/parsed]=["+(u||"")+"/"+(t.audioCodec||"")+"/"+o.codec+"]")}l&&(l.levelCodec=t.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+l.codec+"]")),c&&this.log("Init audiovideo buffer, container:"+c.container+", codecs[level/parsed]=["+(t.attrs.CODECS||"")+"/"+c.codec+"]"),this.hls.trigger(s.Events.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var i=e[t].initSegment;null!==i&&void 0!==i&&i.byteLength&&a.hls.trigger(s.Events.BUFFER_APPENDING,{type:t,data:i,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}},E.backtrack=function(t){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(t);var e=this.fragmentTracker.backtrack(t);this.fragPrevious=null,this.nextLoadPosition=t.start,e?this.resetFragmentLoading(t):this.state=i.State.BACKTRACKING},E.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var r=t.currentTime;if(o.BufferHelper.isBuffered(t,r)?e=this.getAppendedFrag(r):o.BufferHelper.isBuffered(t,r+.1)&&(e=this.getAppendedFrag(r+.1)),e){var n=this.fragPlaying,i=e.level;n&&e.sn===n.sn&&n.level===i&&e.urlId===n.urlId||(this.hls.trigger(s.Events.FRAG_CHANGED,{frag:e}),n&&n.level===i||this.hls.trigger(s.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=e)}}},b=y,(_=[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getAppendedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;if(t){var e=this.getAppendedFrag(t.currentTime);return this.followingBufferedFrag(e)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&m(b.prototype,_),T&&m(b,T),y}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"SubtitleStreamController",(function(){return p}));var n=r("./src/events.ts"),i=r("./src/utils/buffer-helper.ts"),a=r("./src/controller/fragment-finders.ts"),s=r("./src/utils/discontinuities.ts"),o=r("./src/controller/level-helper.ts"),l=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/base-stream-controller.ts"),u=r("./src/types/loader.ts"),h=r("./src/types/level.ts");function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){var e,r;function p(e,r){var n;return(n=t.call(this,e,r,"[subtitle-stream-controller]")||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}r=t,(e=p).prototype=Object.create(r.prototype),e.prototype.constructor=e,d(e,r);var g,m,v,y=p.prototype;return y.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},y._registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(n.Events.ERROR,this.onError,this),t.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y._unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(n.Events.ERROR,this.onError,this),t.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},y.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},y.onLevelLoaded=function(t,e){this.mainDetails=e.details},y.onSubtitleFragProcessed=function(t,e){var r=e.frag,n=e.success;if(this.fragPrevious=r,this.state=c.State.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,s=r.start,o=0;o<i.length;o++)if(s>=i[o].start&&s<=i[o].end){a=i[o];break}var l=r.start+r.duration;a?a.end=l:(a={start:s,end:l},i.push(a)),this.fragmentTracker.fragBuffered(r)}}},y.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,a=this.levels;if(!a.length||!a[i]||!a[i].details)return;var s=n-a[i].details.targetduration;if(s<=0)return;e.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=s)t.shift();else{if(!(t[e].start<s))break;t[e].start=s,e++}})),this.fragmentTracker.removeFragmentsInRange(r,s,u.PlaylistLevelType.SUBTITLE)}},y.onError=function(t,e){var r,n=e.frag;n&&n.type===u.PlaylistLevelType.SUBTITLE&&(null!==(r=this.fragCurrent)&&void 0!==r&&r.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},y.onSubtitleTracksUpdated=function(t,e){var r=this,n=e.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(t){return new h.Level(t)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(t){r.tracksBuffered[t.id]=[]})),this.mediaBuffer=null},y.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!==r&&void 0!==r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},y.onSubtitleTrackLoaded=function(t,e){var r,n=e.details,i=e.id,l=this.currentTrackId,u=this.levels;if(u.length){var h=u[l];if(!(i>=u.length||i!==l)&&h){if(this.mediaBuffer=this.mediaBufferTimeRanges,n.live||null!==(r=h.details)&&void 0!==r&&r.live){var f=this.mainDetails;if(n.deltaUpdateFailed||!f)return;var d=f.fragments[0];h.details?0===this.alignPlaylists(n,h.details)&&d&&Object(o.addSliding)(n,d.start):n.hasProgramDateTime&&f.hasProgramDateTime?Object(s.alignMediaPlaylistByPDT)(n,f):d&&Object(o.addSliding)(n,d.start)}h.details=n,this.levelLastLoaded=i,this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(a.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),h.details=void 0))}}},y._handleFragmentLoadComplete=function(t){var e=t.frag,r=t.payload,i=e.decryptdata,a=this.hls;if(!this.fragContextChanged(e)&&r&&r.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var s=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).then((function(t){var r=performance.now();a.trigger(n.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:s,tdecrypt:r}})}))}},y.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var t,e=this.currentTrackId,r=this.levels;if(!r.length||!r[e]||!r[e].details)return;var n=r[e].details,s=n.targetduration,o=this.config,u=this.media,h=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,u.currentTime-s,o.maxBufferHole),f=h.end;if(h.len>this.getMaxBufferLength()+s)return;console.assert(n,"Subtitle track details are defined on idle subtitle stream controller tick");var d,p=n.fragments,g=p.length,m=n.edge,v=this.fragPrevious;if(f<m){var y=o.maxFragLookUpTolerance;!(d=Object(a.findFragmentByPTS)(v,p,f,y))&&v&&v.start<p[0].start&&(d=p[0])}else d=p[g-1];null!==(t=d)&&void 0!==t&&t.encrypted?this.loadKey(d,n):d&&this.fragmentTracker.getState(d)===l.FragmentState.NOT_LOADED&&this.loadFragment(d,n,f)}}else this.state=c.State.IDLE},y.loadFragment=function(e,r,n){this.fragCurrent=e,t.prototype.loadFragment.call(this,e,r,n)},g=p,(m=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&f(g.prototype,m),v&&f(g,v),p}(c.default)},"./src/controller/subtitle-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),i=r("./src/utils/texttrack-utils.ts"),a=r("./src/controller/base-playlist-controller.ts"),s=r("./src/types/loader.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}var c=function(t){var e,r;function a(e){var r;return(r=t.call(this,e,"[subtitle-track-controller]")||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r.subtitleDisplay=!0,r.registerListeners(),r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,l(e,r);var c,h,f,d=a.prototype;return d.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,t.prototype.destroy.call(this)},d.registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(n.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(n.Events.ERROR,this.onError,this)},d.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},d.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)},d.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),u(this.media.textTracks).forEach((function(t){Object(i.clearCurrentCues)(t)})),this.subtitleTrack=-1,this.media=null)},d.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},d.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},d.onSubtitleTrackLoaded=function(t,e){var r=e.id,n=e.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var s=a.details;a.details=e.details,this.log("subtitle track "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,e,s))}else this.warn("Invalid subtitle track id "+r)},d.onLevelLoading=function(t,e){this.switchLevel(e.level)},d.onLevelSwitching=function(t,e){this.switchLevel(e.level)},d.switchLevel=function(t){var e=this.hls.levels[t];if(null!==e&&void 0!==e&&e.textGroupIds){var r=e.textGroupIds[e.urlId];if(this.groupId!==r){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,a=this.tracks.filter((function(t){return!r||t.groupId===r}));this.tracksInGroup=a;var s=this.findTrackId(null===i||void 0===i?void 0:i.name)||this.findTrackId();this.groupId=r;var o={subtitleTracks:a};this.log("Updating subtitle tracks, "+a.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,o),-1!==s&&this.setSubtitleTrack(s,i)}}},d.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var n=e[r];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return-1},d.onError=function(e,r){t.prototype.onError.call(this,e,r),!r.fatal&&r.context&&r.context.type===s.PlaylistContextType.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},d.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var r=e.id,i=e.groupId,a=e.url;if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: "+s)}this.log("Loading subtitle playlist for id "+r),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:t||null})}},d.toggleTrackModes=function(t){var e=this,r=this.media,n=this.subtitleDisplay,i=this.trackId;if(r){var a=u(r.textTracks),s=a.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(a).forEach((function(t){t.mode="disabled"}));else{var o=s[i];o&&(o.mode="disabled")}var l=s[t];l&&(l.mode=n?"showing":"hidden")}},d.setSubtitleTrack=function(t,e){var r,i=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!==(r=i[t])&&void 0!==r&&r.details)||t<-1||t>=i.length)){this.clearTimer();var a=i[t];if(this.log("Switching to subtitle track "+t),this.trackId=t,a){var s=a.id,o=a.groupId,l=void 0===o?"":o,c=a.name,u=a.type,h=a.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:s,groupId:l,name:c,type:u,url:h});var f=this.switchParams(a.url,null===e||void 0===e?void 0:e.details);this.loadPlaylist(f)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t},d.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=u(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},c=a,(h=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}}])&&o(c.prototype,h),f&&o(c,f),a}(a.default);function u(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];"subtitles"===n.kind&&n.label&&e.push(t[r])}return e}e.default=c},"./src/controller/timeline-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"TimelineController",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/utils/cea-608-parser.ts"),s=r("./src/utils/output-filter.ts"),o=r("./src/utils/webvtt-parser.ts"),l=r("./src/utils/texttrack-utils.ts"),c=r("./src/utils/imsc1-ttml-parser.ts"),u=r("./src/types/loader.ts"),h=r("./src/utils/logger.ts"),f=function(){function t(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new s.default(this,"textTrack1"),r=new s.default(this,"textTrack2"),n=new s.default(this,"textTrack3"),o=new s.default(this,"textTrack4");this.cea608Parser1=new a.default(1,e,r),this.cea608Parser2=new a.default(3,n,o)}t.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(i.Events.FRAG_LOADING,this.onFragLoading,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var e=t.prototype;return e.destroy=function(){var t=this.hls;t.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(i.Events.FRAG_LOADING,this.onFragLoading,this),t.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},e.addCues=function(t,e,r,n,a){for(var s,o,l,c,u=!1,h=a.length;h--;){var f=a[h],d=(s=f[0],o=f[1],l=e,c=r,Math.min(o,c)-Math.max(s,l));if(d>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],r),u=!0,d/(r-e)>.5))return}if(u||a.push([e,r]),this.config.renderTextTracksNatively){var p=this.captionsTracks[t];this.Cues.newCue(p,e,r,n)}else{var g=this.Cues.newCue(null,e,r,n);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:g,track:t})}},e.onInitPtsFound=function(t,e){var r=this,n=e.frag,a=e.id,s=e.initPTS,o=e.timescale,l=this.unparsedVttFrags;"main"===a&&(this.initPTS[n.cc]=s,this.timescale[n.cc]=o),l.length&&(this.unparsedVttFrags=[],l.forEach((function(t){r.onFragLoaded(i.Events.FRAG_LOADED,t)})))},e.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var n=e.textTracks[r];if(n[t])return n}return null},e.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},e.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,r=this.captionsTracks,n=this.media,i=e[t],a=i.label,s=i.languageCode,o=this.getExistingTrack(t);if(o)r[t]=o,Object(l.clearCurrentCues)(r[t]),Object(l.sendAddTrackEvent)(r[t],n);else{var c=this.createTextTrack("captions",a,s);c&&(c[t]=!0,r[t]=c)}}},e.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var r={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},e.createTextTrack=function(t,e,r){var n=this.media;if(n)return n.addTextTrack(t,e,r)},e.onMediaAttaching=function(t,e){this.media=e.media,this._cleanTracks()},e.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){Object(l.clearCurrentCues)(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}},e.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},e._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)Object(l.clearCurrentCues)(e[r])}},e.onSubtitleTracksUpdated=function(t,e){var r=this;this.textTracks=[];var n=e.subtitleTracks||[],a=n.some((function(t){return t.textCodec===c.IMSC1_CODEC}));if(this.config.enableWebVTT||a&&this.config.enableIMSC1){var s=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var o=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,e){var n;if(e<o.length){for(var i=null,a=0;a<o.length;a++)if(d(o[a],t)){i=o[a];break}i&&(n=i)}n?Object(l.clearCurrentCues)(n):(n=r.createTextTrack("subtitles",t.name,t.lang))&&(n.mode="disabled"),n&&(n.groupId=t.groupId,r.textTracks.push(n))}))}else if(!s&&this.tracks&&this.tracks.length){var u=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:u})}}},e.onManifestLoaded=function(t,e){var r=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var n="textTrack"+e[1],i=r.captionsProperties[n];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}}))},e.onFragLoading=function(t,e){var r=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn,a=this.lastPartIndex;if(this.enabled&&r&&n&&e.frag.type===u.PlaylistLevelType.MAIN){var s,o,l=e.frag.sn,c=null!=(s=null===e||void 0===e||null===(o=e.part)||void 0===o?void 0:o.index)?s:-1;l===i+1||l===i&&c===a+1||(r.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=c}},e.onFragLoaded=function(t,e){var r=e.frag,a=e.payload,s=this.initPTS,o=this.unparsedVttFrags;if(r.type===u.PlaylistLevelType.SUBTITLE)if(a.byteLength){if(!Object(n.isFiniteNumber)(s[r.cc]))return o.push(e),void(s.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var l=r.decryptdata,h="stats"in e;if(null==l||null==l.key||"AES-128"!==l.method||h){var f=this.tracks[r.level],d=this.vttCCs;d[r.cc]||(d[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),f&&f.textCodec===c.IMSC1_CODEC?this._parseIMSC1(r,a):this._parseVTTs(r,a,d)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},e._parseIMSC1=function(t,e){var r=this,n=this.hls;Object(c.parseIMSC1)(e,this.initPTS[t.cc],this.timescale[t.cc],(function(e){r._appendCues(e,t.level),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){h.logger.log("Failed to parse IMSC1: "+e),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))},e._parseVTTs=function(t,e,r){var n=this,a=this.hls;Object(o.parseWebVTT)(e,this.initPTS[t.cc],this.timescale[t.cc],r,t.cc,t.start,(function(e){n._appendCues(e,t.level),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(r){n._fallbackToIMSC1(t,e),h.logger.log("Failed to parse VTT cue: "+r),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:r})}))},e._fallbackToIMSC1=function(t,e){var r=this,n=this.tracks[t.level];n.textCodec||Object(c.parseIMSC1)(e,this.initPTS[t.cc],this.timescale[t.cc],(function(){n.textCodec=c.IMSC1_CODEC,r._parseIMSC1(t,e)}),(function(){n.textCodec="wvtt"}))},e._appendCues=function(t,e){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[e];if("disabled"===n.mode)return;t.forEach((function(t){return Object(l.addCueToTrack)(n,t)}))}else{var a=this.tracks[e].default?"default":"subtitles"+e;r.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:t,track:a})}},e.onFragDecrypted=function(t,e){var r=e.frag;if(r.type===u.PlaylistLevelType.SUBTITLE){if(!Object(n.isFiniteNumber)(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(e);this.onFragLoaded(i.Events.FRAG_LOADED,e)}},e.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},e.onFragParsingUserdata=function(t,e){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n)for(var i=0;i<e.samples.length;i++){var a=e.samples[i].bytes;if(a){var s=this.extractCea608Data(a);r.addData(e.samples[i].pts,s[0]),n.addData(e.samples[i].pts,s[1])}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset,i=e.endOffsetSubtitles,a=e.type,s=this.media;if(s&&!(s.currentTime<n)){if(!a||"video"===a){var o=this.captionsTracks;Object.keys(o).forEach((function(t){return Object(l.removeCuesInRange)(o[t],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==i){var c=this.textTracks;Object.keys(c).forEach((function(t){return Object(l.removeCuesInRange)(c[t],r,i)}))}}},e.extractCea608Data=function(t){for(var e=31&t[0],r=2,n=[[],[]],i=0;i<e;i++){var a=t[r++],s=127&t[r++],o=127&t[r++],l=3&a;0===s&&0===o||0!==(4&a)&&(0!==l&&1!==l||(n[l].push(s),n[l].push(o)))}return n},t}();function d(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}},"./src/crypt/aes-crypto.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}()},"./src/crypt/aes-decryptor.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"removePadding",(function(){return i})),r.d(e,"default",(function(){return a}));var n=r("./src/utils/typed-array.ts");function i(t){var e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?Object(n.sliceUint8)(t,0,e-r):t}var a=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),n=0;n<4;n++)r[n]=e.getUint32(4*n);return r},e.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],s=r[3],o=this.invSubMix,l=o[0],c=o[1],u=o[2],h=o[3],f=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[d]=m,e[m]=d;var v=f[d],y=f[v],b=f[y],_=257*f[m]^16843008*m;n[d]=_<<24|_>>>8,i[d]=_<<16|_>>>16,a[d]=_<<8|_>>>24,s[d]=_,_=16843009*b^65537*y^257*v^16843008*d,l[m]=_<<24|_>>>8,c[m]=_<<16|_>>>16,u[m]=_<<8|_>>>24,h[m]=_,d?(d=v^f[f[f[b^v]]],p^=f[f[p]]):d=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,n=0;n<e.length&&r;)r=e[n]===this.key[n],n++;if(!r){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,s,o,l,c=this.ksRows=4*(i+6+1),u=this.keySchedule=new Uint32Array(c),h=this.invKeySchedule=new Uint32Array(c),f=this.sBox,d=this.rcon,p=this.invSubMix,g=p[0],m=p[1],v=p[2],y=p[3];for(a=0;a<c;a++)a<i?o=u[a]=e[a]:(l=o,a%i===0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=d[a/i|0]<<24):i>6&&a%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),u[a]=o=(u[a-i]^l)>>>0);for(s=0;s<c;s++)a=c-s,l=3&s?u[a]:u[a-4],h[s]=s<4||a<=4?l:g[f[l>>>24]]^m[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],h[s]=h[s]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,r){for(var n,i,a,s,o,l,c,u,h,f,d,p,g,m,v=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,T=_[0],E=_[1],x=_[2],S=_[3],w=this.uint8ArrayToUint32Array_(r),C=w[0],O=w[1],k=w[2],A=w[3],D=new Int32Array(t),L=new Int32Array(D.length),R=this.networkToHostOrderSwap;e<D.length;){for(h=R(D[e]),f=R(D[e+1]),d=R(D[e+2]),p=R(D[e+3]),o=h^y[0],l=p^y[1],c=d^y[2],u=f^y[3],g=4,m=1;m<v;m++)n=T[o>>>24]^E[l>>16&255]^x[c>>8&255]^S[255&u]^y[g],i=T[l>>>24]^E[c>>16&255]^x[u>>8&255]^S[255&o]^y[g+1],a=T[c>>>24]^E[u>>16&255]^x[o>>8&255]^S[255&l]^y[g+2],s=T[u>>>24]^E[o>>16&255]^x[l>>8&255]^S[255&c]^y[g+3],o=n,l=i,c=a,u=s,g+=4;n=b[o>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&u]^y[g],i=b[l>>>24]<<24^b[c>>16&255]<<16^b[u>>8&255]<<8^b[255&o]^y[g+1],a=b[c>>>24]<<24^b[u>>16&255]<<16^b[o>>8&255]<<8^b[255&l]^y[g+2],s=b[u>>>24]<<24^b[o>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[g+3],L[e]=R(n^C),L[e+1]=R(s^O),L[e+2]=R(a^k),L[e+3]=R(i^A),C=h,O=f,k=d,A=p,e+=4}return L.buffer},t}()},"./src/crypt/decrypter.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return c}));var n=r("./src/crypt/aes-crypto.ts"),i=r("./src/crypt/fast-aes-key.ts"),a=r("./src/crypt/aes-decryptor.ts"),s=r("./src/utils/logger.ts"),o=r("./src/utils/mp4-tools.ts"),l=r("./src/utils/typed-array.ts"),c=function(){function t(t,e,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(s){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var e=t.prototype;return e.destroy=function(){this.observer=null},e.isSync=function(){return this.config.enableSoftwareAES},e.flush=function(){var t=this.currentResult;if(t){var e=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?Object(a.removePadding)(e):e}this.reset()},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,r,n){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(t),e,r);var i=this.flush();i&&n(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(t),e,r).then(n)},e.softwareDecrypt=function(t,e,r){var n=this.currentIV,i=this.currentResult,s=this.remainderData;this.logOnce("JS AES decrypt"),s&&(t=Object(o.appendUint8Array)(s,t),this.remainderData=null);var c=this.getValidChunk(t);if(!c.length)return null;n&&(r=n);var u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new a.default),u.expandKey(e);var h=i;return this.currentResult=u.decrypt(c.buffer,0,r),this.currentIV=Object(l.sliceUint8)(c,-16).buffer,h||null},e.webCryptoDecrypt=function(t,e,r){var a=this,s=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new i.default(s,e)),this.fastAesKey.expandKey().then((function(e){return s?new n.default(s,r).decrypt(t.buffer,e):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return a.onWebCryptoError(n,t,e,r)}))},e.onWebCryptoError=function(t,e,r,n){return s.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",t),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n)},e.getValidChunk=function(t){var e=t,r=t.length-t.length%16;return r!==t.length&&(e=Object(l.sliceUint8)(t,0,r),this.remainderData=Object(l.sliceUint8)(t,r)),e},e.logOnce=function(t){this.logEnabled&&(s.logger.log("[decrypter.ts]: "+t),this.logEnabled=!1)},t}()},"./src/crypt/fast-aes-key.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}()},"./src/demux/aacdemuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/demux/base-audio-demuxer.ts"),i=r("./src/demux/adts.ts"),a=r("./src/utils/logger.ts"),s=r("./src/demux/id3.ts");function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}var l=function(t){var e,r;function n(e,r){var n;return(n=t.call(this)||this).observer=void 0,n.config=void 0,n.observer=e,n.config=r,n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,o(e,r);var l=n.prototype;return l.resetInitSegment=function(e,r,n){t.prototype.resetInitSegment.call(this,e,r,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0}},n.probe=function(t){if(!t)return!1;for(var e=(s.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(i.probe(t,e))return a.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(t,e){return i.canParse(t,e)},l.appendFrame=function(t,e,r){i.initTrackConfig(t,this.observer,e,r,t.manifestCodec);var n=i.appendFrame(t,e,r,this.initPTS,this.frameIndex);if(n&&0===n.missing)return n},n}(n.default);l.minProbeByteLength=9,e.default=l},"./src/demux/adts.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"getAudioConfig",(function(){return s})),r.d(e,"isHeaderPattern",(function(){return o})),r.d(e,"getHeaderLength",(function(){return l})),r.d(e,"getFullFrameLength",(function(){return c})),r.d(e,"canGetFrameLength",(function(){return u})),r.d(e,"isHeader",(function(){return h})),r.d(e,"canParse",(function(){return f})),r.d(e,"probe",(function(){return d})),r.d(e,"initTrackConfig",(function(){return p})),r.d(e,"getFrameDuration",(function(){return g})),r.d(e,"parseFrameHeader",(function(){return m})),r.d(e,"appendFrame",(function(){return v}));var n=r("./src/utils/logger.ts"),i=r("./src/errors.ts"),a=r("./src/events.ts");function s(t,e,r,s){var o,l,c,u,h=navigator.userAgent.toLowerCase(),f=s,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&e[r+2])>>>6);var p=(60&e[r+2])>>>2;if(!(p>d.length-1))return c=(1&e[r+2])<<2,c|=(192&e[r+3])>>>6,n.logger.log("manifest codec:"+s+", ADTS type:"+o+", samplingIndex:"+p),/firefox/i.test(h)?p>=6?(o=5,u=new Array(4),l=p-3):(o=2,u=new Array(2),l=p):-1!==h.indexOf("android")?(o=2,u=new Array(2),l=p):(o=5,u=new Array(4),s&&(-1!==s.indexOf("mp4a.40.29")||-1!==s.indexOf("mp4a.40.5"))||!s&&p>=6?l=p-3:((s&&-1!==s.indexOf("mp4a.40.2")&&(p>=6&&1===c||/vivaldi/i.test(h))||!s&&1===c)&&(o=2,u=new Array(2)),l=p)),u[0]=o<<3,u[0]|=(14&p)>>1,u[1]|=(1&p)<<7,u[1]|=c<<3,5===o&&(u[1]|=(14&l)>>1,u[2]=(1&l)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:d[p],channelCount:c,codec:"mp4a.40."+o,manifestCodec:f};t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function o(t,e){return 255===t[e]&&240===(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function u(t,e){return e+5<t.length}function h(t,e){return e+1<t.length&&o(t,e)}function f(t,e){return u(t,e)&&o(t,e)&&c(t,e)<=t.length-e}function d(t,e){if(h(t,e)){var r=l(t,e);if(e+r>=t.length)return!1;var n=c(t,e);if(n<=r)return!1;var i=e+n;return i===t.length||h(t,i)}return!1}function p(t,e,r,i,a){if(!t.samplerate){var o=s(e,r,i,a);if(!o)return;t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,n.logger.log("parsed codec:"+t.codec+", rate:"+o.samplerate+", channels:"+o.channelCount)}}function g(t){return 9216e4/t}function m(t,e,r,n,i){var a=l(t,e),s=c(t,e);if((s-=a)>0)return{headerLength:a,frameLength:s,stamp:r+n*i}}function v(t,e,r,n,i){var a=m(e,r,n,i,g(t.samplerate));if(a){var s,o=a.frameLength,l=a.headerLength,c=a.stamp,u=l+o,h=Math.max(0,r+u-e.length);h?(s=new Uint8Array(u-l)).set(e.subarray(r+l,e.length),0):s=e.subarray(r+l,r+u);var f={unit:s,pts:c};return h||t.samples.push(f),{sample:f,length:u,missing:h}}}},"./src/demux/base-audio-demuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"initPTSFn",(function(){return c}));var n=r("./src/polyfills/number.ts"),i=r("./src/demux/id3.ts"),a=r("./src/demux/dummy-demuxed-track.ts"),s=r("./src/utils/mp4-tools.ts"),o=r("./src/utils/typed-array.ts"),l=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(){},e.resetContiguity=function(){},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,r){},e.demux=function(t,e){this.cachedData&&(t=Object(s.appendUint8Array)(this.cachedData,t),this.cachedData=null);var r,n,l=i.getID3Data(t,0),u=l?l.length:0,h=this._audioTrack,f=this._id3Track,d=l?i.getTimeStamp(l):void 0,p=t.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=c(d,e)),l&&l.length>0&&f.samples.push({pts:this.initPTS,dts:this.initPTS,data:l}),n=this.initPTS;u<p;){if(this.canParse(t,u)){var g=this.appendFrame(h,t,u);g?(this.frameIndex++,n=g.sample.pts,r=u+=g.length):u=p}else i.canParse(t,u)?(l=i.getID3Data(t,u),f.samples.push({pts:n,dts:n,data:l}),r=u+=l.length):u++;if(u===p&&r!==p){var m=Object(o.sliceUint8)(t,r);this.cachedData?this.cachedData=Object(s.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:h,avcTrack:Object(a.dummyTrack)(),id3Track:f,textTrack:Object(a.dummyTrack)()}},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},e.destroy=function(){},t}(),c=function(t,e){return Object(n.isFiniteNumber)(t)?90*t:9e4*e};e.default=l},"./src/demux/chunk-cache.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,r=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var r=new Uint8Array(e),n=0,i=0;i<t.length;i++){var a=t[i];r.set(a,n),n+=a.length}return r}(e,r),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t}()},"./src/demux/dummy-demuxed-track.ts":function(t,e,r){"use strict";function n(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}r.r(e),r.d(e,"dummyTrack",(function(){return n}))},"./src/demux/exp-golomb.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/logger.ts"),i=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,n=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");n.set(t.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,r=8,n=0;n<t;n++)0!==r&&(r=(e+this.readEG()+256)%256),e=0===r?e:r},e.readSPS=function(){var t,e,r,n=0,i=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),h=this.skipBits.bind(this),f=this.skipEG.bind(this),d=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);o();var g=o();if(l(5),h(3),o(),d(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var m=c();if(3===m&&h(1),d(),d(),h(1),u())for(e=3!==m?8:12,r=0;r<e;r++)u()&&p(r<6?16:64)}d();var v=c();if(0===v)c();else if(1===v)for(h(1),f(),f(),t=c(),r=0;r<t;r++)f();d(),h(1);var y=c(),b=c(),_=l(1);0===_&&h(1),h(1),u()&&(n=c(),i=c(),a=c(),s=c());var T=[1,1];if(u()&&u())switch(o()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(y+1)-2*n-2*i),height:(2-_)*(b+1)*16-(_?2:4)*(a+s),pixelRatio:T}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=i},"./src/demux/id3.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isHeader",(function(){return i})),r.d(e,"isFooter",(function(){return a})),r.d(e,"getID3Data",(function(){return s})),r.d(e,"canParse",(function(){return l})),r.d(e,"getTimeStamp",(function(){return c})),r.d(e,"isTimeStampFrame",(function(){return u})),r.d(e,"getID3Frames",(function(){return f})),r.d(e,"decodeFrame",(function(){return d})),r.d(e,"utf8ArrayToStr",(function(){return y})),r.d(e,"testables",(function(){return b}));var n,i=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},s=function(t,e){for(var r=e,n=0;i(t,e);)n+=10,n+=o(t,e+6),a(t,e+10)&&(n+=10),e+=n;if(n>0)return t.subarray(r,r+n)},o=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},l=function(t,e){return i(t,e)&&o(t,e+6)+10<=t.length-e},c=function(t){for(var e=f(t),r=0;r<e.length;r++){var n=e[r];if(u(n))return v(n)}},u=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},h=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=o(t,4);return{type:e,size:r,data:t.subarray(10,10+r)}},f=function(t){for(var e=0,r=[];i(t,e);){for(var n=o(t,e+6),s=(e+=10)+n;e+8<s;){var l=h(t.subarray(e)),c=d(l);c&&r.push(c),e+=l.size+10}a(t,e)&&(e+=10)}return r},d=function(t){return"PRIV"===t.type?p(t):"W"===t.type[0]?m(t):g(t)},p=function(t){if(!(t.size<2)){var e=y(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}},g=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,r=y(t.data.subarray(e),!0);e+=r.length+1;var n=y(t.data.subarray(e));return{key:t.type,info:r,data:n}}var i=y(t.data.subarray(1));return{key:t.type,data:i}}},m=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,r=y(t.data.subarray(e),!0);e+=r.length+1;var n=y(t.data.subarray(e));return{key:t.type,info:r,data:n}}var i=y(t.data);return{key:t.type,data:i}},v=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},y=function(t,e){void 0===e&&(e=!1);var r=_();if(r){var n=r.decode(t);if(e){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var a,s,o,l=t.length,c="",u=0;u<l;){if(0===(a=t[u++])&&e)return c;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(a);break;case 12:case 13:s=t[u++],c+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[u++],o=t[u++],c+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&o)<<0)}}return c},b={decodeTextFrame:g};function _(){return n||"undefined"===typeof self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/demux/base-audio-demuxer.ts"),i=r("./src/demux/id3.ts"),a=r("./src/utils/logger.ts"),s=r("./src/demux/mpegaudio.ts");function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}var l=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,o(e,r);var l=n.prototype;return l.resetInitSegment=function(e,r,n){t.prototype.resetInitSegment.call(this,e,r,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0}},n.probe=function(t){if(!t)return!1;for(var e=(i.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(s.probe(t,e))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(t,e){return s.canParse(t,e)},l.appendFrame=function(t,e,r){if(null!==this.initPTS)return s.appendFrame(t,e,r,this.initPTS,this.frameIndex)},n}(n.default);l.minProbeByteLength=4,e.default=l},"./src/demux/mp4demuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/mp4-tools.ts"),i=r("./src/demux/dummy-demuxed-track.ts"),a=function(){function t(t,e){this.remainderData=null,this.config=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.resetContiguity=function(){},t.probe=function(t){return Object(n.findBox)({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.demux=function(t){var e=t,r=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(e=Object(n.appendUint8Array)(this.remainderData,t));var a=Object(n.segmentValidRange)(e);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=e;return{audioTrack:Object(i.dummyTrack)(),avcTrack:r,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},e.flush=function(){var t=Object(i.dummyTrack)();return t.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:t,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},e.destroy=function(){},t}();a.minProbeByteLength=1024,e.default=a},"./src/demux/mpegaudio.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"appendFrame",(function(){return l})),r.d(e,"parseHeader",(function(){return c})),r.d(e,"isHeaderPattern",(function(){return u})),r.d(e,"isHeader",(function(){return h})),r.d(e,"canParse",(function(){return f})),r.d(e,"probe",(function(){return d}));var n=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],s=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],o=[0,1,1,4];function l(t,e,r,n,i){if(!(r+24>e.length)){var a=c(e,r);if(a&&r+a.frameLength<=e.length){var s=n+i*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:e.subarray(r,r+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function c(t,e){var r=t[e+1]>>3&3,l=t[e+1]>>1&3,c=t[e+2]>>4&15,u=t[e+2]>>2&3;if(1!==r&&0!==c&&15!==c&&3!==u){var h=t[e+2]>>1&1,f=t[e+3]>>6,d=1e3*i[14*(3===r?3-l:3===l?3:4)+c-1],p=a[3*(3===r?0:2===r?1:2)+u],g=3===f?1:2,m=s[r][l],v=o[l],y=8*m*v,b=Math.floor(m*d/p+h)*v;if(null===n){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=_?parseInt(_[1]):0}return!!n&&n<=87&&2===l&&d>=224e3&&0===f&&(t[e+3]=128|t[e+3]),{sampleRate:p,channelCount:g,frameLength:b,samplesPerFrame:y}}}function u(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])}function h(t,e){return e+1<t.length&&u(t,e)}function f(t,e){return u(t,e)&&4<=t.length-e}function d(t,e){if(e+1<t.length&&u(t,e)){var r=c(t,e),n=4;null!==r&&void 0!==r&&r.frameLength&&(n=r.frameLength);var i=e+n;return i===t.length||h(t,i)}return!1}},"./src/demux/sample-aes.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/crypt/decrypter.ts"),i=r("./src/demux/tsdemuxer.ts"),a=function(){function t(t,e,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new n.default(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,e)},e.decryptAacSample=function(t,e,r,n){var i=t[e].unit,a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),o=this;this.decryptBuffer(s,(function(a){var s=new Uint8Array(a);i.set(s,16),n||o.decryptAacSamples(t,e+1,r)}))},e.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,n),!n)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),n=0,i=32;i<t.length-16;i+=160,n+=16)r.set(t.subarray(i,i+16),n);return r},e.getAvcDecryptedUnit=function(t,e){for(var r=new Uint8Array(e),n=0,i=32;i<t.length-16;i+=160,n+=16)t.set(r.subarray(n,n+16),i);return t},e.decryptAvcSample=function(t,e,r,n,a,s){var o=Object(i.discardEPB)(a.data),l=this.getAvcEncryptedData(o),c=this;this.decryptBuffer(l.buffer,(function(i){a.data=c.getAvcDecryptedUnit(o,i),s||c.decryptAvcSamples(t,e,r+1,n)}))},e.decryptAvcSamples=function(t,e,r,n){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,r=0){if(e>=t.length)return void n();for(var i=t[e].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,n,a,s),!s)return}}}},t}();e.default=a},"./src/demux/transmuxer-interface.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return h}));var n=r("./node_modules/webworkify-webpack/index.js"),i=r("./src/events.ts"),a=r("./src/demux/transmuxer.ts"),s=r("./src/utils/logger.ts"),o=r("./src/errors.ts"),l=r("./src/utils/mediasource-helper.ts"),c=r("./node_modules/eventemitter3/index.js"),u=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},h=function(){function t(t,e,r,l){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=t,this.id=e,this.onTransmuxComplete=r,this.onFlush=l;var f=t.config,d=function(e,r){(r=r||{}).frag=h.frag,r.id=h.id,t.trigger(e,r)};this.observer=new c.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,d),this.observer.on(i.Events.ERROR,d);var p={mp4:u.isTypeSupported("video/mp4"),mpeg:u.isTypeSupported("audio/mpeg"),mp3:u.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(f.enableWorker&&"undefined"!==typeof Worker){var m;s.logger.log("demuxing in webworker");try{m=this.worker=n("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){t.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:g,id:e,config:JSON.stringify(f)})}catch(v){s.logger.warn("Error in worker:",v),s.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new a.default(this.observer,p,f,g,e),this.worker=null}}else this.transmuxer=new a.default(this.observer,p,f,g,e)}var e=t.prototype;return e.destroy=function(){var t=this.worker;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.worker=null;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var r=this.observer;r&&r.removeAllListeners(),this.observer=null},e.push=function(t,e,r,n,i,o,l,c,u,h){var f,d,p=this;u.transmuxing.start=self.performance.now();var g=this.transmuxer,m=this.worker,v=o?o.start:i.start,y=i.decryptdata,b=this.frag,_=!(b&&i.cc===b.cc),T=!(b&&u.level===b.level),E=b?u.sn-b.sn:-1,x=this.part?u.part-this.part.index:1,S=!T&&(1===E||0===E&&1===x),w=self.performance.now();(T||E||0===i.stats.parsing.start)&&(i.stats.parsing.start=w),!o||!x&&S||(o.stats.parsing.start=w);var C=!(b&&(null===(f=i.initSegment)||void 0===f?void 0:f.url)===(null===(d=b.initSegment)||void 0===d?void 0:d.url)),O=new a.TransmuxState(_,S,c,T,v,C);if(!S||_||C){s.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+u.sn+" p: "+u.part+" level: "+u.level+" id: "+u.id+"\n        discontinuity: "+_+"\n        trackSwitch: "+T+"\n        contiguous: "+S+"\n        accurateTimeOffset: "+c+"\n        timeOffset: "+v+"\n        initSegmentChange: "+C);var k=new a.TransmuxConfig(r,n,e,l,h);this.configureTransmuxer(k)}if(this.frag=i,this.part=o,m)m.postMessage({cmd:"demux",data:t,decryptdata:y,chunkMeta:u,state:O},t instanceof ArrayBuffer?[t]:[]);else if(g){var A=g.push(t,y,u,O);Object(a.isPromise)(A)?A.then((function(t){p.handleTransmuxComplete(t)})):this.handleTransmuxComplete(A)}},e.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var r=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:t});else if(r){var i=r.flush(t);Object(a.isPromise)(i)?i.then((function(r){e.handleFlushResult(r,t)})):this.handleFlushResult(i,t)}},e.handleFlushResult=function(t,e){var r=this;t.forEach((function(t){r.handleTransmuxComplete(t)})),this.onFlush(e)},e.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},e.configureTransmuxer=function(t){var e=this.worker,r=this.transmuxer;e?e.postMessage({cmd:"configure",config:t}):r&&r.configure(t)},e.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},t}()},"./src/demux/transmuxer-worker.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r("./src/demux/transmuxer.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),s=r("./node_modules/eventemitter3/index.js");function o(t){var e=new s.EventEmitter,r=function(e,r){t.postMessage({event:e,data:r})};e.on(i.Events.FRAG_DECRYPTED,r),e.on(i.Events.ERROR,r),t.addEventListener("message",(function(i){var s=i.data;switch(s.cmd){case"init":var o=JSON.parse(s.config);t.transmuxer=new n.default(e,s.typeSupported,o,s.vendor,s.id),Object(a.enableLogs)(o.debug),r("init",null);break;case"configure":t.transmuxer.configure(s.config);break;case"demux":var c=t.transmuxer.push(s.data,s.decryptdata,s.chunkMeta,s.state);Object(n.isPromise)(c)?c.then((function(e){l(t,e)})):l(t,c);break;case"flush":var h=s.chunkMeta,f=t.transmuxer.flush(h);Object(n.isPromise)(f)?f.then((function(e){u(t,e,h)})):u(t,f,h)}}))}function l(t,e){if((r=e.remuxResult).audio||r.video||r.text||r.id3||r.initSegment){var r,n=[],i=e.remuxResult,a=i.audio,s=i.video;a&&c(n,a),s&&c(n,s),t.postMessage({event:"transmuxComplete",data:e},n)}}function c(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function u(t,e,r){e.forEach((function(e){l(t,e)})),t.postMessage({event:"flush",data:r})}},"./src/demux/transmuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return y})),r.d(e,"isPromise",(function(){return _})),r.d(e,"TransmuxConfig",(function(){return T})),r.d(e,"TransmuxState",(function(){return E}));var n,i=r("./src/events.ts"),a=r("./src/errors.ts"),s=r("./src/crypt/decrypter.ts"),o=r("./src/demux/aacdemuxer.ts"),l=r("./src/demux/mp4demuxer.ts"),c=r("./src/demux/tsdemuxer.ts"),u=r("./src/demux/mp3demuxer.ts"),h=r("./src/remux/mp4-remuxer.ts"),f=r("./src/remux/passthrough-remuxer.ts"),d=r("./src/demux/chunk-cache.ts"),p=r("./src/utils/mp4-tools.ts"),g=r("./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(x){g.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var m=[{demux:c.default,remux:h.default},{demux:l.default,remux:f.default},{demux:o.default,remux:h.default},{demux:u.default,remux:h.default}],v=1024;m.forEach((function(t){var e=t.demux;v=Math.max(v,e.minProbeByteLength)}));var y=function(){function t(t,e,r,n,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new d.default,this.observer=t,this.typeSupported=e,this.config=r,this.vendor=n,this.id=i}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,r,i){var a=this,s=r.transmuxing;s.executeStart=n();var o=new Uint8Array(t),l=this.cache,c=this.config,u=this.currentTransmuxState,h=this.transmuxConfig;i&&(this.currentTransmuxState=i);var f=function(t,e){var r=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(r=e),r}(o,e);if(f&&"AES-128"===f.method){var d=this.getDecrypter();if(!c.enableSoftwareAES)return this.decryptionPromise=d.webCryptoDecrypt(o,f.key.buffer,f.iv.buffer).then((function(t){var e=a.push(t,null,r);return a.decryptionPromise=null,e})),this.decryptionPromise;var g=d.softwareDecrypt(o,f.key.buffer,f.iv.buffer);if(!g)return s.executeEnd=n(),b(r);o=new Uint8Array(g)}var m=i||u,v=m.contiguous,y=m.discontinuity,_=m.trackSwitch,T=m.accurateTimeOffset,E=m.timeOffset,x=m.initSegmentChange,S=h.audioCodec,w=h.videoCodec,C=h.defaultInitPts,O=h.duration,k=h.initSegmentData;if((y||_||x)&&this.resetInitSegment(k,S,w,O),(y||x)&&this.resetInitialTimestamp(C),v||this.resetContiguity(),this.needsProbing(o,y,_)){if(l.dataLength){var A=l.flush();o=Object(p.appendUint8Array)(A,o)}this.configureTransmuxer(o,h)}var D=this.transmux(o,f,E,T,r),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,s.executeEnd=n(),D},e.flush=function(t){var e=this,r=t.transmuxing;r.executeStart=n();var s=this.decrypter,o=this.cache,l=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then((function(){return e.flush(t)}));var u=[],h=l.timeOffset;if(s){var f=s.flush();f&&u.push(this.push(f,null,t))}var d=o.dataLength;o.reset();var p=this.demuxer,g=this.remuxer;if(!p||!g)return d>=v&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),r.executeEnd=n(),[b(t)];var m=p.flush(h);return _(m)?m.then((function(r){return e.flushRemux(u,r,t),u})):(this.flushRemux(u,m,t),u)},e.flushRemux=function(t,e,r){var i=e.audioTrack,a=e.avcTrack,s=e.id3Track,o=e.textTrack,l=this.currentTransmuxState,c=l.accurateTimeOffset,u=l.timeOffset;g.logger.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var h=this.remuxer.remux(i,a,s,o,u,c,!0,this.id);t.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=n()},e.resetInitialTimestamp=function(t){var e=this.demuxer,r=this.remuxer;e&&r&&(e.resetTimeStamp(t),r.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,r,n){var i=this.demuxer,a=this.remuxer;i&&a&&(i.resetInitSegment(e,r,n),a.resetInitSegment(t,e,r))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,r,n,i){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,r,n,i):this.transmuxUnencrypted(t,r,n,i)},e.transmuxUnencrypted=function(t,e,r,n){var i=this.demuxer.demux(t,e,!1,!this.config.progressive),a=i.audioTrack,s=i.avcTrack,o=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,e,r,!1,this.id),chunkMeta:n}},e.transmuxSampleAes=function(t,e,r,n,i){var a=this;return this.demuxer.demuxSampleAes(t,e,r).then((function(t){return{remuxResult:a.remuxer.remux(t.audioTrack,t.avcTrack,t.id3Track,t.textTrack,r,n,!1,a.id),chunkMeta:i}}))},e.configureTransmuxer=function(t,e){for(var r,n=this.config,i=this.observer,a=this.typeSupported,s=this.vendor,o=e.audioCodec,c=e.defaultInitPts,u=e.duration,h=e.initSegmentData,d=e.videoCodec,p=0,v=m.length;p<v;p++)if(m[p].demux.probe(t)){r=m[p];break}r||(g.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),r={demux:l.default,remux:f.default});var y=this.demuxer,b=this.remuxer,_=r.remux,T=r.demux;b&&b instanceof _||(this.remuxer=new _(i,n,a,s)),y&&y instanceof T||(this.demuxer=new T(i,n,a),this.probe=T.probe),this.resetInitSegment(h,o,d,u),this.resetInitialTimestamp(c)},e.needsProbing=function(t,e,r){return!this.demuxer||!this.remuxer||e||r},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new s.default(this.observer,this.config)),t},t}(),b=function(t){return{remuxResult:{},chunkMeta:t}};function _(t){return"then"in t&&t.then instanceof Function}var T=function(t,e,r,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=r,this.duration=n,this.defaultInitPts=i},E=function(t,e,r,n,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=i,this.initSegmentChange=a}},"./src/demux/tsdemuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"discardEPB",(function(){return _}));var n=r("./src/demux/adts.ts"),i=r("./src/demux/mpegaudio.ts"),a=r("./src/demux/exp-golomb.ts"),s=r("./src/demux/id3.ts"),o=r("./src/demux/sample-aes.ts"),l=r("./src/events.ts"),c=r("./src/utils/mp4-tools.ts"),u=r("./src/utils/logger.ts"),h=r("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},d=function(){function t(t,e,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=r}t.probe=function(e){var r=t.syncOffset(e);return!(r<0)&&(r&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},t.syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:f[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",n),this._audioTrack=t.createTrack("audio",n),this._id3Track=t.createTrack("id3",n),this._txtTrack=t.createTrack("text",n),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=r,this._duration=n},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,r=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},e.demux=function(e,r,n,i){var a;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var s=this._avcTrack,o=this._audioTrack,f=this._id3Track,d=s.pid,p=s.pesData,y=o.pid,b=f.pid,_=o.pesData,T=f.pesData,E=!1,x=this.pmtParsed,S=this._pmtId,w=e.length;if(this.remainderData&&(w=(e=Object(c.appendUint8Array)(this.remainderData,e)).length,this.remainderData=null),w<188&&!i)return this.remainderData=e,{audioTrack:o,avcTrack:s,id3Track:f,textTrack:this._txtTrack};var C=Math.max(0,t.syncOffset(e));(w-=(w+C)%188)<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));for(var O=0,k=C;k<w;k+=188)if(71===e[k]){var A=!!(64&e[k+1]),D=((31&e[k+1])<<8)+e[k+2],L=void 0;if((48&e[k+3])>>4>1){if((L=k+5+e[k+4])===k+188)continue}else L=k+4;switch(D){case d:A&&(p&&(a=v(p))&&this.parseAVCPES(a,!1),p={data:[],size:0}),p&&(p.data.push(e.subarray(L,k+188)),p.size+=k+188-L);break;case y:A&&(_&&(a=v(_))&&(o.isAAC?this.parseAACPES(a):this.parseMPEGPES(a)),_={data:[],size:0}),_&&(_.data.push(e.subarray(L,k+188)),_.size+=k+188-L);break;case b:A&&(T&&(a=v(T))&&this.parseID3PES(a),T={data:[],size:0}),T&&(T.data.push(e.subarray(L,k+188)),T.size+=k+188-L);break;case 0:A&&(L+=e[L]+1),S=this._pmtId=g(e,L);break;case S:A&&(L+=e[L]+1);var R=m(e,L,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,n);(d=R.avc)>0&&(s.pid=d),(y=R.audio)>0&&(o.pid=y,o.isAAC=R.isAAC),(b=R.id3)>0&&(f.pid=b),E&&!x&&(u.logger.log("reparse from beginning"),E=!1,k=C-188),x=this.pmtParsed=!0;break;case 17:case 8191:break;default:E=!0}}else O++;O>0&&this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+O+" TS packet/s that do not start with 0x47"}),s.pesData=p,o.pesData=_,f.pesData=T;var P={audioTrack:o,avcTrack:s,id3Track:f,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(P),P},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,r=t.audioTrack,n=t.avcTrack,i=t.id3Track,a=n.pesData,s=r.pesData,o=i.pesData;a&&(e=v(a))?(this.parseAVCPES(e,!0),n.pesData=null):n.pesData=a,s&&(e=v(s))?(r.isAAC?this.parseAACPES(e):this.parseMPEGPES(e),r.pesData=null):(null!==s&&void 0!==s&&s.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=s),o&&(e=v(o))?(this.parseID3PES(e),i.pesData=null):i.pesData=o},e.demuxSampleAes=function(t,e,r){var n=this.demux(t,r,!0,!this.config.progressive),i=this.sampleAes=new o.default(this.observer,this.config,e);return this.decrypt(n,i)},e.decrypt=function(t,e){return new Promise((function(r){var n=t.audioTrack,i=t.avcTrack;n.samples&&n.isAAC?e.decryptAacSamples(n.samples,0,(function(){i.samples?e.decryptAvcSamples(i.samples,0,0,(function(){r(t)})):r(t)})):i.samples&&e.decryptAvcSamples(i.samples,0,0,(function(){r(t)}))}))},e.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},e.parseAVCPES=function(t,e){var r,n=this,i=this._avcTrack,o=this.parseAVCNALu(t.data),l=this.avcSample,c=!1;t.data=null,l&&o.length&&!i.audFound&&(y(l,i),l=this.avcSample=p(!1,t.pts,t.dts,"")),o.forEach((function(e){switch(e.type){case 1:r=!0,l||(l=n.avcSample=p(!0,t.pts,t.dts,"")),l.frame=!0;var o=e.data;if(c&&o.length>4){var u=new a.default(o).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:r=!0,l||(l=n.avcSample=p(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0;var h=new a.default(_(e.data));h.readUByte();for(var f=0,d=0,g=!1,m=0;!g&&h.bytesAvailable>1;){f=0;do{f+=m=h.readUByte()}while(255===m);d=0;do{d+=m=h.readUByte()}while(255===m);if(4===f&&0!==h.bytesAvailable){if(g=!0,181===h.readUByte()&&49===h.readUShort()&&1195456820===h.readUInt()&&3===h.readUByte()){for(var v=h.readUByte(),T=31&v,E=[v,h.readUByte()],x=0;x<T;x++)E.push(h.readUByte()),E.push(h.readUByte()),E.push(h.readUByte());b(n._txtTrack.samples,{type:3,pts:t.pts,bytes:E})}}else if(5===f&&0!==h.bytesAvailable){if(g=!0,d>16){for(var S=[],w=0;w<16;w++)S.push(h.readUByte().toString(16)),3!==w&&5!==w&&7!==w&&9!==w||S.push("-");for(var C=d-16,O=new Uint8Array(C),k=0;k<C;k++)O[k]=h.readUByte();b(n._txtTrack.samples,{pts:t.pts,payloadType:f,uuid:S.join(""),userData:Object(s.utf8ArrayToStr)(O),userDataBytes:O})}}else if(d<h.bytesAvailable)for(var A=0;A<d;A++)h.readUByte()}break;case 7:if(r=!0,c=!0,!i.sps){var D=new a.default(e.data).readSPS();i.width=D.width,i.height=D.height,i.pixelRatio=D.pixelRatio,i.sps=[e.data],i.duration=n._duration;for(var L=e.data.subarray(1,4),R="avc1.",P=0;P<3;P++){var M=L[P].toString(16);M.length<2&&(M="0"+M),R+=M}i.codec=R}break;case 8:r=!0,i.pps||(i.pps=[e.data]);break;case 9:r=!1,i.audFound=!0,l&&y(l,i),l=n.avcSample=p(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&r&&l.units.push(e)})),e&&l&&(y(l,i),this.avcSample=null)},e.getLastNalUnit=function(){var t,e,r=this.avcSample;if(!r||0===r.units.length){var n=this._avcTrack.samples;r=n[n.length-1]}if(null!==(t=r)&&void 0!==t&&t.units){var i=r.units;e=i[i.length-1]}return e},e.parseAVCNALu=function(t){var e,r,n=t.byteLength,i=this._avcTrack,a=i.naluState||0,s=a,o=[],l=0,c=-1,u=0;for(-1===a&&(c=0,u=31&t[0],a=0,l=1);l<n;)if(e=t[l++],a)if(1!==a)if(e)if(1===e){if(c>=0){var h={data:t.subarray(c,l-a-1),type:u};o.push(h)}else{var f=this.getLastNalUnit();if(f&&(s&&l<=4-s&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-s)),(r=l-a-1)>0)){var d=new Uint8Array(f.data.byteLength+r);d.set(f.data,0),d.set(t.subarray(0,r),f.data.byteLength),f.data=d,f.state=0}}l<n?(c=l,u=31&t[l],a=0):a=-1}else a=0;else a=3;else a=e?0:2;else a=e?0:1;if(c>=0&&a>=0){var p={data:t.subarray(c,n),type:u,state:a};o.push(p)}if(0===o.length){var g=this.getLastNalUnit();if(g){var m=new Uint8Array(g.data.byteLength+t.byteLength);m.set(g.data,0),m.set(t,g.data.byteLength),g.data=m}}return i.naluState=a,o},e.parseAACPES=function(t){var e,r,i,a,s,o=0,c=this._audioTrack,f=this.aacOverFlow,d=t.data;if(f){this.aacOverFlow=null;var p=f.sample.unit.byteLength,g=Math.min(f.missing,p),m=p-g;f.sample.unit.set(d.subarray(0,g),m),c.samples.push(f.sample),o=f.missing}for(e=o,r=d.length;e<r-1&&!n.isHeader(d,e);e++);if(e===o||(e<r-1?(i="AAC PES did not start with ADTS header,offset:"+e,a=!1):(i="no ADTS header found in AAC PES",a=!0),u.logger.warn("parsing error:"+i),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:i}),!a)){if(n.initTrackConfig(c,this.observer,d,e,this.audioCodec),void 0!==t.pts)s=t.pts;else{if(!f)return void u.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var v=n.getFrameDuration(c.samplerate);s=f.sample.pts+v}for(var y=0;e<r;){if(n.isHeader(d,e)){if(e+5<r){var b=n.appendFrame(c,d,e,s,y);if(b){if(!b.missing){e+=b.length,y++;continue}this.aacOverFlow=b}}break}e++}}},e.parseMPEGPES=function(t){var e=t.data,r=e.length,n=0,a=0,s=t.pts;if(void 0!==s)for(;a<r;)if(i.isHeader(e,a)){var o=i.appendFrame(this._audioTrack,e,a,s,n);if(!o)break;a+=o.length,n++}else a++;else u.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},e.parseID3PES=function(t){void 0!==t.pts?this._id3Track.samples.push(t):u.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function p(t,e,r,n){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:n,length:0}}function g(t,e){return(31&t[e+10])<<8|t[e+11]}function m(t,e,r,n){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},a=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){var s=(31&t[e+1])<<8|t[e+2];switch(t[e]){case 207:if(!n){u.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=s);break;case 21:-1===i.id3&&(i.id3=s);break;case 219:if(!n){u.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=s);break;case 3:case 4:r?-1===i.audio&&(i.audio=s,i.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser");break;case 36:u.logger.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return i}function v(t){var e,r,n,i,a,s=0,o=t.data;if(!t||0===t.size)return null;for(;o[0].length<19&&o.length>1;){var l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(1===((e=o[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;var c=e[7];192&c&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?i-(a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(u.logger.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var h=(n=e[8])+9;if(t.size<=h)return null;t.size-=h;for(var f=new Uint8Array(t.size),d=0,p=o.length;d<p;d++){var g=(e=o[d]).byteLength;if(h){if(h>g){h-=g;continue}e=e.subarray(h),g-=h,h=0}f.set(e,s),s+=g}return r&&(r-=n+3),{data:f,pts:i,dts:a,len:r}}return null}function y(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var r=e.samples,n=r.length;if(!n)return void e.dropped++;var i=r[n-1];t.pts=i.pts,t.dts=i.dts}e.samples.push(t)}t.debug.length&&u.logger.log(t.pts+"/"+t.dts+":"+t.debug)}function b(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var n=r-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)}function _(t){for(var e=t.byteLength,r=[],n=1;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return t;var i=e-r.length,a=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=t[s];return a}d.minProbeByteLength=188,e.default=d},"./src/errors.ts":function(t,e,r){"use strict";var n,i;r.r(e),r.d(e,"ErrorTypes",(function(){return n})),r.d(e,"ErrorDetails",(function(){return i})),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(n||(n={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"Events",(function(){return n})),function(t){t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return y}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),i=r("./src/loader/playlist-loader.ts"),a=r("./src/loader/key-loader.ts"),s=r("./src/controller/id3-track-controller.ts"),o=r("./src/controller/latency-controller.ts"),l=r("./src/controller/level-controller.ts"),c=r("./src/controller/fragment-tracker.ts"),u=r("./src/controller/stream-controller.ts"),h=r("./src/is-supported.ts"),f=r("./src/utils/logger.ts"),d=r("./src/config.ts"),p=r("./node_modules/eventemitter3/index.js"),g=r("./src/events.ts"),m=r("./src/errors.ts");function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var r=this.config=Object(d.mergeConfig)(t.DefaultConfig,e);this.userConfig=e,Object(f.enableLogs)(r.debug),this._autoLevelCapping=-1,r.progressive&&Object(d.enableStreamingMode)(r);var n=r.abrController,h=r.bufferController,g=r.capLevelController,m=r.fpsController,v=this.abrController=new n(this),y=this.bufferController=new h(this),b=this.capLevelController=new g(this),_=new m(this),T=new i.default(this),E=new a.default(this),x=new s.default(this),S=this.levelController=new l.default(this),w=new c.FragmentTracker(this),C=this.streamController=new u.default(this,w);b.setStreamController(C),_.setStreamController(C);var O=[S,C];this.networkControllers=O;var k=[T,E,v,y,b,_,x,w];this.audioTrackController=this.createController(r.audioTrackController,null,O),this.createController(r.audioStreamController,w,O),this.subtitleTrackController=this.createController(r.subtitleTrackController,null,O),this.createController(r.subtitleStreamController,w,O),this.createController(r.timelineController,null,k),this.emeController=this.createController(r.emeController,null,k),this.cmcdController=this.createController(r.cmcdController,null,k),this.latencyController=this.createController(o.default,null,k),this.coreComponents=k}t.isSupported=function(){return Object(h.isSupported)()};var e,r,y,b=t.prototype;return b.createController=function(t,e,r){if(t){var n=e?new t(this,e):new t(this);return r&&r.push(n),n}return null},b.on=function(t,e,r){void 0===r&&(r=this),this._emitter.on(t,e,r)},b.once=function(t,e,r){void 0===r&&(r=this),this._emitter.once(t,e,r)},b.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},b.off=function(t,e,r,n){void 0===r&&(r=this),this._emitter.off(t,e,r,n)},b.listeners=function(t){return this._emitter.listeners(t)},b.emit=function(t,e,r){return this._emitter.emit(t,e,r)},b.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(r){f.logger.error("An internal error happened while handling event "+t+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(g.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,error:r})}return!1},b.listenerCount=function(t){return this._emitter.listenerCount(t)},b.destroy=function(){f.logger.log("destroy"),this.trigger(g.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0},b.attachMedia=function(t){f.logger.log("attachMedia"),this._media=t,this.trigger(g.Events.MEDIA_ATTACHING,{media:t})},b.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(g.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(t){this.stopLoad();var e=this.media,r=this.url,i=this.url=n.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),e&&r&&r!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(e)),this.trigger(g.Events.MANIFEST_LOADING,{url:t})},b.startLoad=function(t){void 0===t&&(t=-1),f.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},b.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},b.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){f.logger.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},b.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},e=t,y=[{key:"version",get:function(){return"1.1.4"}},{key:"Events",get:function(){return g.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:d.hlsDefaultConfig},set:function(e){t.defaultConfig=e}}],(r=[{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){f.logger.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){f.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){f.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){f.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){f.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(f.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var r=t.length,n=0;n<r;n++)if(t[n].maxBitrate>e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&v(e.prototype,r),y&&v(e,y),t}();y.defaultConfig=void 0},"./src/is-supported.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isSupported",(function(){return a})),r.d(e,"changeTypeSupported",(function(){return s}));var n=r("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function a(){var t=Object(n.getMediaSource)();if(!t)return!1;var e=i(),r=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!r&&!!a}function s(){var t,e=i();return"function"===typeof(null===e||void 0===e||null===(t=e.prototype)||void 0===t?void 0:t.changeType)}},"./src/loader/fragment-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return h})),r.d(e,"LoadError",(function(){return d}));var n=r("./src/polyfills/number.ts"),i=r("./src/errors.ts");function a(t){var e="function"===typeof Map?new Map:void 0;return a=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return s(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)},a(t)}function s(t,e,r){return s=o()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&l(i,r.prototype),i},s.apply(null,arguments)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var u=Math.pow(2,17),h=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var r=this,n=t.url;if(!n)return Promise.reject(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(n,l){r.loader&&r.loader.destroy();var c=r.loader=t.loader=s?new s(a):new o(a),h=f(t),p={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};t.stats=c.stats,c.load(h,p,{onSuccess:function(e,i,a,s){r.resetLoader(t,c),n({frag:t,part:null,payload:e.data,networkDetails:s})},onError:function(e,n,a){r.resetLoader(t,c),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:e,networkDetails:a}))},onAbort:function(e,n,a){r.resetLoader(t,c),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,networkDetails:a}))},onTimeout:function(e,n,a){r.resetLoader(t,c),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,networkDetails:a}))},onProgress:function(r,n,i,a){e&&e({frag:t,part:null,payload:i,networkDetails:a})}})}))},e.loadPart=function(t,e,r){var n=this;this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(l,c){n.loader&&n.loader.destroy();var h=n.loader=t.loader=s?new s(a):new o(a),p=f(t,e),g={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};e.stats=h.stats,h.load(p,g,{onSuccess:function(i,a,s,o){n.resetLoader(t,h),n.updateStatsFromPart(t,e);var c={frag:t,part:e,payload:i.data,networkDetails:o};r(c),l(c)},onError:function(r,a,s){n.resetLoader(t,h),c(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:r,networkDetails:s}))},onAbort:function(r,a,s){t.stats.aborted=e.stats.aborted,n.resetLoader(t,h),c(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,networkDetails:s}))},onTimeout:function(r,a,s){n.resetLoader(t,h),c(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,networkDetails:s}))}})}))},e.updateStatsFromPart=function(t,e){var r=t.stats,n=e.stats,i=n.total;if(r.loaded+=n.loaded,i){var a=Math.round(t.duration/e.duration),s=Math.min(Math.round(r.loaded/i),a),o=(a-s)*Math.round(r.loaded/s);r.total=r.loaded+o}else r.total=Math.max(r.loaded,r.total);var l=r.loading,c=n.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t}();function f(t,e){void 0===e&&(e=null);var r=e||t,i={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},a=r.byteRangeStartOffset,s=r.byteRangeEndOffset;return Object(n.isFiniteNumber)(a)&&Object(n.isFiniteNumber)(s)&&(i.rangeStart=a,i.rangeEnd=s),i}var d=function(t){var e,r;function n(e){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).data=void 0,r.data=e,r}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,l(e,r),n}(a(Error))},"./src/loader/fragment.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"ElementaryStreamTypes",(function(){return n})),r.d(e,"BaseSegment",(function(){return d})),r.d(e,"Fragment",(function(){return p})),r.d(e,"Part",(function(){return g}));var n,i=r("./src/polyfills/number.ts"),a=r("./node_modules/url-toolkit/src/url-toolkit.js"),s=r("./src/utils/logger.ts"),o=r("./src/loader/level-key.ts"),l=r("./src/loader/load-stats.ts");function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),t}!function(t){t.AUDIO="audio",t.VIDEO="video",t.AUDIOVIDEO="audiovideo"}(n||(n={}));var d=function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var r=t.split("@",2),n=[];1===r.length?n[0]=e?e.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},f(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),p=function(t){function e(e,r){var n;return(n=t.call(this,r)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkey=void 0,n.type=void 0,n.loader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new l.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.type=e,n}c(e,t);var r=e.prototype;return r.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},r.setDecryptDataFromLevelKey=function(t,e){var r=t;return"AES-128"===(null===t||void 0===t?void 0:t.method)&&t.uri&&!t.iv&&((r=o.LevelKey.fromURI(t.uri)).method=t.method,r.iv=this.createInitializationVector(e),r.keyFormat="identity"),r},r.setElementaryStreamInfo=function(t,e,r,n,i,a){void 0===a&&(a=!1);var s=this.elementaryStreams,o=s[t];o?(o.startPTS=Math.min(o.startPTS,e),o.endPTS=Math.max(o.endPTS,r),o.startDTS=Math.min(o.startDTS,n),o.endDTS=Math.max(o.endDTS,i)):s[t]={startPTS:e,endPTS:r,startDTS:n,endDTS:i,partial:a}},r.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null},f(e,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!==typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&s.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var t=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;return!(null===(t=this.decryptdata)||void 0===t||!t.keyFormat||!this.decryptdata.uri)}}]),e}(d),g=function(t){function e(e,r,n,i,a){var s;(s=t.call(this,n)||this).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new l.LoadStats,s.duration=e.decimalFloatingPoint("DURATION"),s.gap=e.bool("GAP"),s.independent=e.bool("INDEPENDENT"),s.relurl=e.enumeratedString("URI"),s.fragment=r,s.index=i;var o=e.enumeratedString("BYTERANGE");return o&&s.setByteRange(o,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return c(e,t),f(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e}(d)},"./src/loader/key-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return s}));var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),s=function(){function t(t){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},e._unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},e.destroy=function(){for(var t in this._unregisterListeners(),this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={}},e.onKeyLoading=function(t,e){var r=e.frag,i=r.type,s=this.loaders[i];if(r.decryptdata){var o=r.decryptdata.uri;if(o!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(s&&(a.logger.warn("abort previous key loader for type:"+i),s.abort()),!o)return void a.logger.warn("key uri is falsy");var c=l.loader,u=r.loader=this.loaders[i]=new c(l);this.decrypturl=o,this.decryptkey=null;var h={url:o,frag:r,responseType:"arraybuffer"},f={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(h,f,d)}else this.decryptkey&&(r.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:r}))}else a.logger.warn("Missing decryption data on fragment in onKeyLoading")},e.loadsuccess=function(t,e,r){var i=r.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:i})):a.logger.error("after key load, decryptdata unset")},e.loaderror=function(t,e){var r=e.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},e.loadtimeout=function(t,e){var r=e.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}()},"./src/loader/level-details.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LevelDetails",(function(){return a}));var n=r("./src/polyfills/number.ts");function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=t}var e,r,a;return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,r=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!r||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},e=t,(r=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!==(t=this.fragments)&&void 0!==t&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(e.prototype,r),a&&i(e,a),t}()},"./src/loader/level-key.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LevelKey",(function(){return a}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js");function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(t,e){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=e?Object(n.buildAbsoluteURL)(t,e,{alwaysNormalize:!0}):t}var e,r,a;return t.fromURL=function(e,r){return new t(e,r)},t.fromURI=function(e){return new t(e)},e=t,(r=[{key:"uri",get:function(){return this._uri}}])&&i(e.prototype,r),a&&i(e,a),t}()},"./src/loader/load-stats.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LoadStats",(function(){return n}));var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return m}));var n=r("./src/polyfills/number.ts"),i=r("./node_modules/url-toolkit/src/url-toolkit.js"),a=r("./src/loader/fragment.ts"),s=r("./src/loader/level-details.ts"),o=r("./src/loader/level-key.ts"),l=r("./src/utils/attr-list.ts"),c=r("./src/utils/logger.ts"),u=r("./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),p=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function t(){}return t.findGroup=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.id===e)return n}},t.convertAVC1ToAVCOTI=function(t){var e=t.split(".");if(e.length>2){var r=e.shift()+".";return r+=parseInt(e.shift()).toString(16),r+=("000"+parseInt(e.shift()).toString(16)).substr(-4)}return t},t.resolve=function(t,e){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var n,i=[],a={},s=!1;for(h.lastIndex=0;null!=(n=h.exec(e));)if(n[1]){var o=new l.AttrList(n[1]),c={attrs:o,bitrate:o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),name:o.NAME,url:t.resolve(n[2],r)},u=o.decimalResolution("RESOLUTION");u&&(c.width=u.width,c.height=u.height),v((o.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=t.convertAVC1ToAVCOTI(c.videoCodec)),i.push(c)}else if(n[3]){var f=new l.AttrList(n[3]);f["DATA-ID"]&&(s=!0,a[f["DATA-ID"]]=f)}return{levels:i,sessionData:s?a:null}},t.parseMasterPlaylistMedia=function(e,r,n,i){var a;void 0===i&&(i=[]);var s=[],o=0;for(f.lastIndex=0;null!==(a=f.exec(e));){var c=new l.AttrList(a[1]);if(c.TYPE===n){var u={attrs:c,bitrate:0,id:o++,groupId:c["GROUP-ID"],instreamId:c["INSTREAM-ID"],name:c.NAME||c.LANGUAGE||"",type:n,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:c.LANGUAGE,url:c.URI?t.resolve(c.URI,r):""};if(i.length){var h=t.findGroup(i,u.groupId)||i[0];y(u,h,"audioCodec"),y(u,h,"textCodec")}s.push(u)}}return s},t.parseLevelPlaylist=function(t,e,r,u,h){var f,m,v,y=new s.LevelDetails(e),_=y.fragments,T=null,E=0,x=0,S=0,w=0,C=null,O=new a.Fragment(u,e),k=-1,A=!1;for(d.lastIndex=0,y.m3u8=t;null!==(f=d.exec(t));){A&&(A=!1,(O=new a.Fragment(u,e)).start=S,O.sn=E,O.cc=w,O.level=r,T&&(O.initSegment=T,O.rawProgramDateTime=T.rawProgramDateTime));var D=f[1];if(D){O.duration=parseFloat(D);var L=(" "+f[2]).slice(1);O.title=L||null,O.tagList.push(L?["INF",D,L]:["INF",D])}else if(f[3])Object(n.isFiniteNumber)(O.duration)&&(O.start=S,v&&(O.levelkey=v),O.sn=E,O.level=r,O.cc=w,O.urlId=h,_.push(O),O.relurl=(" "+f[3]).slice(1),b(O,C),C=O,S+=O.duration,E++,x=0,A=!0);else if(f[4]){var R=(" "+f[4]).slice(1);C?O.setByteRange(R,C):O.setByteRange(R)}else if(f[5])O.rawProgramDateTime=(" "+f[5]).slice(1),O.tagList.push(["PROGRAM-DATE-TIME",O.rawProgramDateTime]),-1===k&&(k=_.length);else{if(!(f=f[0].match(p))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<f.length&&"undefined"===typeof f[m];m++);var P=(" "+f[m]).slice(1),M=(" "+f[m+1]).slice(1),I=f[m+2]?(" "+f[m+2]).slice(1):"";switch(P){case"PLAYLIST-TYPE":y.type=M.toUpperCase();break;case"MEDIA-SEQUENCE":E=y.startSN=parseInt(M);break;case"SKIP":var F=new l.AttrList(M),j=F.decimalInteger("SKIPPED-SEGMENTS");if(Object(n.isFiniteNumber)(j)){y.skippedSegments=j;for(var N=j;N--;)_.unshift(null);E+=j}var B=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");B&&(y.recentlyRemovedDateranges=B.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(M);break;case"VERSION":y.version=parseInt(M);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(M||I)&&O.tagList.push(I?[M,I]:[M]);break;case"DIS":w++;case"GAP":O.tagList.push([P]);break;case"BITRATE":O.tagList.push([P,M]);break;case"DISCONTINUITY-SEQ":w=parseInt(M);break;case"KEY":var U,z=new l.AttrList(M),G=z.enumeratedString("METHOD"),H=z.URI,V=z.hexadecimalInteger("IV"),W=z.enumeratedString("KEYFORMATVERSIONS"),Y=z.enumeratedString("KEYID"),X=null!=(U=z.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(X)>-1){c.logger.warn("Keyformat "+X+" is not supported from the manifest");continue}if("identity"!==X)continue;G&&(v=o.LevelKey.fromURL(e,H),H&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(G)>=0&&(v.method=G,v.keyFormat=X,Y&&(v.keyID=Y),W&&(v.keyFormatVersions=W),v.iv=V));break;case"START":var q=new l.AttrList(M).decimalFloatingPoint("TIME-OFFSET");Object(n.isFiniteNumber)(q)&&(y.startTimeOffset=q);break;case"MAP":var K=new l.AttrList(M);O.relurl=K.URI,K.BYTERANGE&&O.setByteRange(K.BYTERANGE),O.level=r,O.sn="initSegment",v&&(O.levelkey=v),O.initSegment=null,T=O,A=!0;break;case"SERVER-CONTROL":var $=new l.AttrList(M);y.canBlockReload=$.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=$.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&$.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=$.optionalFloat("PART-HOLD-BACK",0),y.holdBack=$.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new l.AttrList(M);y.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var Z=y.partList;Z||(Z=y.partList=[]);var J=x>0?Z[Z.length-1]:void 0,tt=x++,et=new a.Part(new l.AttrList(M),O,e,tt,J);Z.push(et),O.duration+=et.duration;break;case"PRELOAD-HINT":var rt=new l.AttrList(M);y.preloadHint=rt;break;case"RENDITION-REPORT":var nt=new l.AttrList(M);y.renditionReports=y.renditionReports||[],y.renditionReports.push(nt);break;default:c.logger.warn("line parsed but not handled: "+f)}}}C&&!C.relurl?(_.pop(),S-=C.duration,y.partList&&(y.fragmentHint=C)):y.partList&&(b(O,C),O.cc=w,y.fragmentHint=O);var it=_.length,at=_[0],st=_[it-1];if((S+=y.skippedSegments*y.targetduration)>0&&it&&st){y.averagetargetduration=S/it;var ot=st.sn;y.endSN="initSegment"!==ot?ot:0,at&&(y.startCC=at.cc,at.initSegment||y.fragments.every((function(t){return t.relurl&&function(t){var e,r;return g.test(null!=(e=null===(r=i.parseURL(t))||void 0===r?void 0:r.path)?e:"")}(t.relurl)}))&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(O=new a.Fragment(u,e)).relurl=st.relurl,O.level=r,O.sn="initSegment",at.initSegment=O,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(S+=y.fragmentHint.duration),y.totalduration=S,y.endCC=w,k>0&&function(t,e){for(var r=t[e],n=e;n--;){var i=t[n];if(!i)return;i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(_,k),y},t}();function v(t,e){["video","audio","text"].forEach((function(r){var n=t.filter((function(t){return Object(u.isCodecType)(t,r)}));if(n.length){var i=n.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[r+"Codec"]=i.length>0?i[0]:n[0],t=t.filter((function(t){return-1===n.indexOf(t)}))}})),e.unknownCodecs=t}function y(t,e,r){var n=e[r];n&&(t[r]=n)}function b(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!==e&&void 0!==e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(n.isFiniteNumber)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/errors.ts"),s=r("./src/utils/logger.ts"),o=r("./src/utils/mp4-tools.ts"),l=r("./src/loader/m3u8-parser.ts"),c=r("./src/types/loader.ts"),u=r("./src/utils/attr-list.ts");function h(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r}var f=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.hls=t,this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,n=e.loader,i=new(r||n)(e);return t.loader=i,this.loaders[t.type]=i,i},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var r=e.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:c.PlaylistContextType.MANIFEST,url:r,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var r=e.id,n=e.level,i=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:null,level:n,responseType:"text",type:c.PlaylistContextType.LEVEL,url:i,deliveryDirectives:a})},e.onAudioTrackLoading=function(t,e){var r=e.id,n=e.groupId,i=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:a})},e.onSubtitleTrackLoading=function(t,e){var r=e.id,n=e.groupId,i=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:a})},e.load=function(t){var e,r,n,i,a,o,l=this.hls.config,u=this.getInternalLoader(t);if(u){var h=u.context;if(h&&h.url===t.url)return void s.logger.trace("[playlist-loader]: playlist request ongoing");s.logger.log("[playlist-loader]: aborting previous loader for type: "+t.type),u.abort()}switch(t.type){case c.PlaylistContextType.MANIFEST:r=l.manifestLoadingMaxRetry,n=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case c.PlaylistContextType.LEVEL:case c.PlaylistContextType.AUDIO_TRACK:case c.PlaylistContextType.SUBTITLE_TRACK:r=0,n=l.levelLoadingTimeOut;break;default:r=l.levelLoadingMaxRetry,n=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(u=this.createInternalLoader(t),null!==(e=t.deliveryDirectives)&&void 0!==e&&e.part&&(t.type===c.PlaylistContextType.LEVEL&&null!==t.level?o=this.hls.levels[t.level].details:t.type===c.PlaylistContextType.AUDIO_TRACK&&null!==t.id?o=this.hls.audioTracks[t.id].details:t.type===c.PlaylistContextType.SUBTITLE_TRACK&&null!==t.id&&(o=this.hls.subtitleTracks[t.id].details),o)){var f=o.partTarget,d=o.targetduration;f&&d&&(n=Math.min(1e3*Math.max(3*f,.8*d),n))}var p={timeout:n,maxRetry:r,retryDelay:i,maxRetryDelay:a,highWaterMark:0},g={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(t,p,g)},e.loadsuccess=function(t,e,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this.handleSidxRequest(t,r),void this.handlePlaylistLoaded(t,e,r,n);this.resetInternalLoader(r.type);var i=t.data;0===i.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(t,e,r,n):this.handleMasterPlaylist(t,e,r,n)):this.handleManifestParsingError(t,r,"no EXTM3U delimiter",n)},e.loaderror=function(t,e,r){void 0===r&&(r=null),this.handleNetworkError(e,r,!1,t)},e.loadtimeout=function(t,e,r){void 0===r&&(r=null),this.handleNetworkError(e,r,!0)},e.handleMasterPlaylist=function(t,e,r,n){var a=this.hls,o=t.data,c=h(t,r),f=l.default.parseMasterPlaylist(o,c),d=f.levels,p=f.sessionData;if(d.length){var g=d.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),m=d.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),v=l.default.parseMasterPlaylistMedia(o,c,"AUDIO",g),y=l.default.parseMasterPlaylistMedia(o,c,"SUBTITLES",m),b=l.default.parseMasterPlaylistMedia(o,c,"CLOSED-CAPTIONS");v.length&&(v.some((function(t){return!t.url}))||!d[0].audioCodec||d[0].attrs.AUDIO||(s.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new u.AttrList({}),bitrate:0,url:""}))),a.trigger(i.Events.MANIFEST_LOADED,{levels:d,audioTracks:v,subtitles:y,captions:b,url:c,stats:e,networkDetails:n,sessionData:p})}else this.handleManifestParsingError(t,r,"no level found in manifest",n)},e.handleTrackOrLevelPlaylist=function(t,e,r,s){var o=this.hls,f=r.id,d=r.level,p=r.type,g=h(t,r),m=Object(n.isFiniteNumber)(f)?f:0,v=Object(n.isFiniteNumber)(d)?d:m,y=function(t){switch(t.type){case c.PlaylistContextType.AUDIO_TRACK:return c.PlaylistLevelType.AUDIO;case c.PlaylistContextType.SUBTITLE_TRACK:return c.PlaylistLevelType.SUBTITLE;default:return c.PlaylistLevelType.MAIN}}(r),b=l.default.parseLevelPlaylist(t.data,g,v,y,m);if(b.fragments.length){if(p===c.PlaylistContextType.MANIFEST){var _={attrs:new u.AttrList({}),bitrate:0,details:b,name:"",url:g};o.trigger(i.Events.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:g,stats:e,networkDetails:s,sessionData:null})}if(e.parsing.end=performance.now(),b.needSidxRanges){var T,E=null===(T=b.fragments[0].initSegment)||void 0===T?void 0:T.url;this.load({url:E,isSidxRequest:!0,type:p,level:d,levelDetails:b,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else r.levelDetails=b,this.handlePlaylistLoaded(t,e,r,s)}else o.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:g,reason:"no fragments found in level",level:"number"===typeof r.level?r.level:void 0})},e.handleSidxRequest=function(t,e){var r=Object(o.parseSegmentIndex)(new Uint8Array(t.data));if(r){var n=r.references,i=e.levelDetails;n.forEach((function(t,e){var n=t.info,a=i.fragments[e];0===a.byteRange.length&&a.setByteRange(String(1+n.end-n.start)+"@"+String(n.start)),a.initSegment&&a.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}))}},e.handleManifestParsingError=function(t,e,r,n){this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:e.type===c.PlaylistContextType.MANIFEST,url:t.url,reason:r,response:t,context:e,networkDetails:n})},e.handleNetworkError=function(t,e,r,n){void 0===r&&(r=!1),s.logger.warn("[playlist-loader]: A network "+(r?"timeout":"error")+" occurred while loading "+t.type+" level: "+t.level+" id: "+t.id+' group-id: "'+t.groupId+'"');var o=a.ErrorDetails.UNKNOWN,l=!1,u=this.getInternalLoader(t);switch(t.type){case c.PlaylistContextType.MANIFEST:o=r?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case c.PlaylistContextType.LEVEL:o=r?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.AUDIO_TRACK:o=r?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.SUBTITLE_TRACK:o=r?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}u&&this.resetInternalLoader(t.type);var h={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:l,url:t.url,loader:u,context:t,networkDetails:e};n&&(h.response=n),this.hls.trigger(i.Events.ERROR,h)},e.handlePlaylistLoaded=function(t,e,r,n){var a=r.type,s=r.level,o=r.id,l=r.groupId,u=r.loader,h=r.levelDetails,f=r.deliveryDirectives;if(null!==h&&void 0!==h&&h.targetduration){if(u)switch(h.live&&(u.getCacheAge&&(h.ageHeader=u.getCacheAge()||0),u.getCacheAge&&!isNaN(h.ageHeader)||(h.ageHeader=0)),a){case c.PlaylistContextType.MANIFEST:case c.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:h,level:s||0,id:o||0,stats:e,networkDetails:n,deliveryDirectives:f});break;case c.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:h,id:o||0,groupId:l||"",stats:e,networkDetails:n,deliveryDirectives:f});break;case c.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:h,id:o||0,groupId:l||"",stats:e,networkDetails:n,deliveryDirectives:f})}}else this.handleManifestParsingError(t,r,"invalid target duration",n)},t}();e.default=f},"./src/polyfills/number.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isFiniteNumber",(function(){return n})),r.d(e,"MAX_SAFE_INTEGER",(function(){return i}));var n=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(){}return t.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}();e.default=n},"./src/remux/mp4-generator.ts":function(t,e,r){"use strict";r.r(e);var n=Math.pow(2,32)-1,i=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,s,l,s,o),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))},t.box=function(t){for(var e=8,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=n.length,s=a;a--;)e+=n[a].byteLength;var o=new Uint8Array(e);for(o[0]=e>>24&255,o[1]=e>>16&255,o[2]=e>>8&255,o[3]=255&e,o.set(t,4),a=0,e=8;a<s;a++)o.set(n[a],e),e+=n[a].byteLength;return o},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,r))},t.moov=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,s)},t.sdtp=function(e){var r,n,i=e.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,n,i,a=[],s=[];for(r=0;r<e.sps.length;r++)i=(n=e.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<e.pps.length;r++)i=(n=e.pps[r]).byteLength,s.push(i>>>8&255),s.push(255&i),s=s.concat(Array.prototype.slice.call(n));var o=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(s))),l=e.width,c=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,a=e.width,s=e.height,o=Math.floor(i/(n+1)),l=Math.floor(i%(n+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,s>>8&255,255&s,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),a=e.id,s=Math.floor(r/(n+1)),o=Math.floor(r%(n+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var n,i,a,s,o,l,c=e.samples||[],u=c.length,h=12+16*u,f=new Uint8Array(h);for(r+=8+h,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<u;n++)a=(i=c[n]).duration,s=i.size,o=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return t.box(t.types.trun,f)},t.initSegment=function(e){t.types||t.init();var r=t.moov(e),n=new Uint8Array(t.FTYP.byteLength+r.byteLength);return n.set(t.FTYP),n.set(r,t.FTYP.byteLength),n},t}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,e.default=i},"./src/remux/mp4-remuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return g})),r.d(e,"normalizePts",(function(){return m}));var n=r("./src/polyfills/number.ts"),i=r("./src/remux/aac-helper.ts"),a=r("./src/remux/mp4-generator.ts"),s=r("./src/events.ts"),o=r("./src/errors.ts"),l=r("./src/utils/logger.ts"),c=r("./src/types/loader.ts"),u=r("./src/utils/timescale-conversion.ts");function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h.apply(this,arguments)}var f=null,d=null,p=!1,g=function(){function t(t,e,r,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===f){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=i?parseInt(i[1]):0}if(null===d){var a=navigator.userAgent.match(/Safari\/(\d+)/i);d=a?parseInt(a[1]):0}p=!!f&&f<75||!!d&&d<600}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,r=t.reduce((function(t,r){var n=r.pts-t;return n<-4294967296?(e=!0,m(t,r.pts)):n>0?t:r.pts}),t[0].pts);return e&&l.logger.debug("PTS rollover detected"),r},e.remux=function(t,e,r,n,i,a,s,o){var u,h,f,d,p,g,v=i,y=i,b=t.pid>-1,_=e.pid>-1,T=e.samples.length,E=t.samples.length>0,x=T>1;if((!b||E)&&(!_||x)||this.ISGenerated||s){this.ISGenerated||(f=this.generateIS(t,e,i));var S=this.isVideoContiguous,w=-1;if(x&&(w=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,w>0){l.logger.warn("[mp4-remuxer]: Dropped "+w+" out of "+T+" video samples due to a missing keyframe");var C=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(w),e.dropped+=w,y+=(e.samples[0].pts-C)/(e.timescale||9e4)}else-1===w&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+T+" video samples"),g=!1);if(this.ISGenerated){if(E&&x){var O=this.getVideoStartPts(e.samples),k=(m(t.samples[0].pts,O)-O)/e.inputTimeScale;v+=Math.max(0,k),y+=Math.max(0,-k)}if(E){if(t.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(t,e,i)),h=this.remuxAudio(t,v,this.isAudioContiguous,a,_||x||o===c.PlaylistLevelType.AUDIO?y:void 0),x){var A=h?h.endPTS-h.startPTS:0;e.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(t,e,i)),u=this.remuxVideo(e,y,S,A)}}else x&&(u=this.remuxVideo(e,y,S,0));u&&(u.firstKeyFrame=w,u.independent=-1!==w)}}return this.ISGenerated&&(r.samples.length&&(p=this.remuxID3(r,i)),n.samples.length&&(d=this.remuxText(n,i))),{audio:h,video:u,initSegment:f,independent:g,text:d,id3:p}},e.generateIS=function(t,e,r){var i,s,o,l=t.samples,c=e.samples,u=this.typeSupported,h={},f=!Object(n.isFiniteNumber)(this._initPTS),d="audio/mp4";if(f&&(i=s=1/0),t.config&&l.length&&(t.timescale=t.samplerate,t.isAAC||(u.mpeg?(d="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),h.audio={id:"audio",container:d,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array(0):a.default.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(o=t.inputTimeScale,i=s=l[0].pts-Math.round(o*r))),e.sps&&e.pps&&c.length&&(e.timescale=e.inputTimeScale,h.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:a.default.initSegment([e]),metadata:{width:e.width,height:e.height}},f)){o=e.inputTimeScale;var p=this.getVideoStartPts(c),g=Math.round(o*r);s=Math.min(s,m(c[0].dts,p)-g),i=Math.min(i,p-g)}if(Object.keys(h).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=s),{tracks:h,initPTS:i,timescale:o}},e.remuxVideo=function(t,e,r,n){var i,c,d,g=t.inputTimeScale,y=t.samples,b=[],_=y.length,T=this._initPTS,E=this.nextAvcDts,x=8,S=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,C=0,O=!1;r&&null!==E||(E=e*g-(y[0].pts-m(y[0].dts,y[0].pts)));for(var k=0;k<_;k++){var A=y[k];A.pts=m(A.pts-T,E),A.dts=m(A.dts-T,E),A.dts>A.pts&&(C=Math.max(Math.min(C,A.pts-A.dts),-18e3)),A.dts<y[k>0?k-1:k].dts&&(O=!0)}O&&y.sort((function(t,e){var r=t.dts-e.dts,n=t.pts-e.pts;return r||n})),c=y[0].dts,d=y[y.length-1].dts;var D=Math.round((d-c)/(_-1));if(C<0){if(C<-2*D){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(u.toMsFromMpegTsClock)(-D,!0)+" ms");for(var L=C,R=0;R<_;R++)y[R].dts=L=Math.max(L,y[R].pts-D),y[R].pts=Math.max(L,y[R].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(u.toMsFromMpegTsClock)(C,!0)+" ms to overcome this issue");for(var P=0;P<_;P++)y[P].dts=y[P].dts+C}c=y[0].dts}if(r){var M=c-E,I=M>D;if(I||M<-1){I?l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(M,!0)+" ms ("+M+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(-M,!0)+" ms ("+M+"dts) overlapping between fragments detected"),c=E;var F=y[0].pts-M;y[0].dts=c,y[0].pts=F,l.logger.log("Video: First PTS/DTS adjusted: "+Object(u.toMsFromMpegTsClock)(F,!0)+"/"+Object(u.toMsFromMpegTsClock)(c,!0)+", delta: "+Object(u.toMsFromMpegTsClock)(M,!0)+" ms")}}p&&(c=Math.max(0,c));for(var j=0,N=0,B=0;B<_;B++){for(var U=y[B],z=U.units,G=z.length,H=0,V=0;V<G;V++)H+=z[V].data.length;N+=H,j+=G,U.length=H,U.dts=Math.max(U.dts,c),U.pts=Math.max(U.pts,U.dts,0),S=Math.min(U.pts,S),w=Math.max(U.pts,w)}d=y[_-1].dts;var W,Y=N+4*j+8;try{W=new Uint8Array(Y)}catch(ut){return void this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Y,reason:"fail allocating video mdat "+Y})}var X=new DataView(W.buffer);X.setUint32(0,Y),W.set(a.default.types.mdat,4);for(var q=0;q<_;q++){for(var K=y[q],$=K.units,Q=0,Z=0,J=$.length;Z<J;Z++){var tt=$[Z],et=tt.data,rt=tt.data.byteLength;X.setUint32(x,rt),x+=4,W.set(et,x),x+=rt,Q+=4+rt}if(q<_-1)i=y[q+1].dts-K.dts;else{var nt=this.config,it=K.dts-y[q>0?q-1:q].dts;if(nt.stretchShortVideoTrack&&null!==this.nextAudioPts){var at=Math.floor(nt.maxBufferHole*g),st=(n?S+n*g:this.nextAudioPts)-K.pts;st>at?((i=st-it)<0&&(i=it),l.logger.log("[mp4-remuxer]: It is approximately "+st/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=it}else i=it}var ot=Math.round(K.pts-K.dts);b.push(new v(K.key,i,Q,ot))}if(b.length&&f&&f<70){var lt=b[0].flags;lt.dependsOn=2,lt.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=E=d+i,this.isVideoContiguous=!0;var ct={data1:a.default.moof(t.sequenceNumber++,c,h({},t,{samples:b})),data2:W,startPTS:S/g,endPTS:(w+i)/g,startDTS:c/g,endDTS:E/g,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:t.dropped};return t.samples=[],t.dropped=0,console.assert(W.length,"MDAT length must not be zero"),ct},e.remuxAudio=function(t,e,r,n,c){var u=t.inputTimeScale,f=u/(t.samplerate?t.samplerate:u),d=t.isAAC?1024:1152,p=d*f,g=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,b=[],_=t.samples,T=y?0:8,E=this.nextAudioPts||-1,x=e*u;if(this.isAudioContiguous=r=r||_.length&&E>0&&(n&&Math.abs(x-E)<9e3||Math.abs(m(_[0].pts-g,x)-E)<20*p),_.forEach((function(t){t.pts=m(t.pts-g,x)})),!r||E<0){if(_=_.filter((function(t){return t.pts>=0})),!_.length)return;E=0===c?0:n?Math.max(0,x):_[0].pts}if(t.isAAC)for(var S=void 0!==c,w=this.config.maxAudioFramesDrift,C=0,O=E;C<_.length;C++){var k=_[C],A=k.pts,D=A-O,L=Math.abs(1e3*D/u);if(D<=-w*p&&S)0===C&&(l.logger.warn("Audio frame @ "+(A/u).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*D/u)+" ms."),this.nextAudioPts=E=O=A);else if(D>=w*p&&L<1e4&&S){var R=Math.round(D/p);(O=A-R*p)<0&&(R--,O+=p),0===C&&(this.nextAudioPts=E=O),l.logger.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(O/u).toFixed(3)+"s due to "+Math.round(1e3*D/u)+" ms gap.");for(var P=0;P<R;P++){var M=Math.max(O,0),I=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);I||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),I=k.unit.subarray()),_.splice(C,0,{unit:I,pts:M}),O+=p,C++}}k.pts=O,O+=p}for(var F,j=null,N=null,B=0,U=_.length;U--;)B+=_[U].unit.byteLength;for(var z=0,G=_.length;z<G;z++){var H=_[z],V=H.unit,W=H.pts;if(null!==N)b[z-1].duration=Math.round((W-N)/f);else{if(r&&t.isAAC&&(W=E),j=W,!(B>0))return;B+=T;try{F=new Uint8Array(B)}catch(J){return void this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}y||(new DataView(F.buffer).setUint32(0,B),F.set(a.default.types.mdat,4))}F.set(V,T);var Y=V.byteLength;T+=Y,b.push(new v(!0,d,Y,0)),N=W}var X=b.length;if(X){var q=b[b.length-1];this.nextAudioPts=E=N+f*q.duration;var K=y?new Uint8Array(0):a.default.moof(t.sequenceNumber++,j/f,h({},t,{samples:b}));t.samples=[];var $=j/u,Q=E/u,Z={data1:K,data2:F,startPTS:$,endPTS:Q,startDTS:$,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:X};return this.isAudioContiguous=!0,console.assert(F.length,"MDAT length must not be zero"),Z}},e.remuxEmptyAudio=function(t,e,r,n){var a=t.inputTimeScale,s=a/(t.samplerate?t.samplerate:a),o=this.nextAudioPts,c=(null!==o?o:n.startDTS*a)+this._initDTS,u=n.endDTS*a+this._initDTS,h=1024*s,f=Math.ceil((u-c)/h),d=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),d){for(var p=[],g=0;g<f;g++){var m=c+g*h;p.push({unit:d,pts:m,dts:m})}return t.samples=p,this.remuxAudio(t,e,r,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e.remuxID3=function(t,e){var r=t.samples.length;if(r){for(var n=t.inputTimeScale,i=this._initPTS,a=this._initDTS,s=0;s<r;s++){var o=t.samples[s];o.pts=m(o.pts-i,e*n)/n,o.dts=m(o.dts-a,e*n)/n}var l=t.samples;return t.samples=[],{samples:l}}},e.remuxText=function(t,e){var r=t.samples.length;if(r){for(var n=t.inputTimeScale,i=this._initPTS,a=0;a<r;a++){var s=t.samples[a];s.pts=m(s.pts-i,e*n)/n}t.samples.sort((function(t,e){return t.pts-e.pts}));var o=t.samples;return t.samples=[],{samples:o}}},t}();function m(t,e){var r;if(null===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}var v=function(t,e,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=r,this.cts=n,this.flags=new y(t)},y=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1}},"./src/remux/passthrough-remuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),i=r("./src/utils/mp4-tools.ts"),a=r("./src/loader/fragment.ts"),s=r("./src/utils/logger.ts"),o=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndDTS=null},e.resetNextTimestamp=function(){this.lastEndDTS=null},e.resetInitSegment=function(t,e,r){this.audioCodec=e,this.videoCodec=r,this.generateInitSegment(t),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,r=this.videoCodec;if(!t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Object(i.parseInitSegment)(t);e||(e=c(n.audio,a.ElementaryStreamTypes.AUDIO)),r||(r=c(n.video,a.ElementaryStreamTypes.VIDEO));var o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:e+","+r,initSegment:t,id:"main"}:n.audio?o.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:n.video?o.video={container:"video/mp4",codec:r,initSegment:t,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o},e.remux=function(t,e,r,a,o){var c=this.initPTS,u=this.lastEndDTS,h={audio:void 0,video:void 0,text:a,id3:r,initSegment:void 0};Object(n.isFiniteNumber)(u)||(u=this.lastEndDTS=o||0);var f=e.samples;if(!f||!f.length)return h;var d={initPTS:void 0,timescale:1},p=this.initData;if(p&&p.length||(this.generateInitSegment(f),p=this.initData),!p||!p.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(d.tracks=this.initTracks,this.emitInitSegment=!1),Object(n.isFiniteNumber)(c)||(this.initPTS=d.initPTS=c=l(p,f,u));var g=Object(i.getDuration)(f,p),m=u,v=g+m;Object(i.offsetStartDTS)(p,f,c),g>0?this.lastEndDTS=v:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!p.audio,b=!!p.video,_="";y&&(_+="audio"),b&&(_+="video");var T={data1:f,startPTS:m,startDTS:m,endPTS:v,endDTS:v,type:_,hasAudio:y,hasVideo:b,nb:1,dropped:0};return h.audio="audio"===T.type?T:void 0,h.video="audio"!==T.type?T:void 0,h.text=a,h.id3=r,h.initSegment=d,h},t}(),l=function(t,e,r){return Object(i.getStartDTS)(t,e)-r};function c(t,e){var r=null===t||void 0===t?void 0:t.codec;return r&&r.length>4?r:"hvc1"===r?"hvc1.1.c.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||e===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}e.default=o},"./src/task-loop.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t}()},"./src/types/cmcd.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"CMCDVersion",(function(){return s})),r.d(e,"CMCDObjectType",(function(){return n})),r.d(e,"CMCDStreamingFormat",(function(){return i})),r.d(e,"CMCDStreamType",(function(){return a}));var n,i,a,s=1;!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}(n||(n={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(i||(i={})),function(t){t.VOD="v",t.LIVE="l"}(a||(a={}))},"./src/types/level.ts":function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i;function a(t,e){var r=t.canSkipUntil,n=t.canSkipDateRanges,a=t.endSN;return r&&(void 0!==e?e-a:0)<r?n?i.v2:i.Yes:i.No}r.r(e),r.d(e,"HlsSkip",(function(){return i})),r.d(e,"getSkipValue",(function(){return a})),r.d(e,"HlsUrlParameters",(function(){return s})),r.d(e,"Level",(function(){return o})),function(t){t.No="",t.Yes="YES",t.v2="v2"}(i||(i={}));var s=function(){function t(t,e,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=r}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.toString()},t}(),o=function(){function t(t){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this.attrs=t.attrs,this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}var e,r,i;return e=t,(r=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.details=void 0,this._urlId=e)}}])&&n(e.prototype,r),i&&n(e,i),t}()},"./src/types/loader.ts":function(t,e,r){"use strict";var n,i;r.r(e),r.d(e,"PlaylistContextType",(function(){return n})),r.d(e,"PlaylistLevelType",(function(){return i})),function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"ChunkMetadata",(function(){return n}));var n=function(t,e,r,n,i,a){void 0===n&&(n=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=r,this.size=n,this.part=i,this.partial=a}},"./src/utils/attr-list.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"AttrList",(function(){return a}));var n=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function t(e){for(var r in"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)r[n]=parseInt(e.slice(2*n,2*n+2),16);return r}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var r=this[t];return r?parseFloat(r):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(i.lastIndex=0;null!==(e=i.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[e[1]]=n}return r},t}()},"./src/utils/binary-search.ts":function(t,e,r){"use strict";r.r(e),e.default={search:function(t,e){for(var r=0,n=t.length-1,i=null,a=null;r<=n;){var s=e(a=t[i=(r+n)/2|0]);if(s>0)r=i+1;else{if(!(s<0))return a;n=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"BufferHelper",(function(){return a}));var n=r("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},a=function(){function t(){}return t.isBuffered=function(e,r){try{if(e)for(var n=t.getBuffered(e),i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}catch(a){}return!1},t.bufferInfo=function(e,r,n){try{if(e){var i,a=t.getBuffered(e),s=[];for(i=0;i<a.length;i++)s.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(s,r,n)}}catch(o){}return{len:0,start:r,end:r,nextStart:void 0}},t.bufferedInfo=function(t,e,r){e=Math.max(0,e),t.sort((function(t,e){var r=t.start-e.start;return r||e.end-t.end}));var n=[];if(r)for(var i=0;i<t.length;i++){var a=n.length;if(a){var s=n[a-1].end;t[i].start-s<r?t[i].end>s&&(n[a-1].end=t[i].end):n.push(t[i])}else n.push(t[i])}else n=t;for(var o,l=0,c=e,u=e,h=0;h<n.length;h++){var f=n[h].start,d=n[h].end;if(e+r>=f&&e<d)c=f,l=(u=d)-e;else if(e+r<f){o=f;break}}return{len:l,start:c||0,end:u||0,nextStart:o}},t.getBuffered=function(t){try{return t.buffered}catch(e){return n.logger.log("failed to get media.buffered",e),i}},t}()},"./src/utils/cea-608-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"Row",(function(){return y})),r.d(e,"CaptionScreen",(function(){return b}));var n,i=r("./src/utils/logger.ts"),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(t){var e=t;return a.hasOwnProperty(t)&&(e=a[t]),String.fromCharCode(e)},o=15,l=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(n||(n={}));var p=function(){function t(){this.time=null,this.verboseLevel=n.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&i.logger.log(this.time+" ["+t+"] "+e)},t}(),g=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},m=function(){function t(t,e,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var n=e[r];t.hasOwnProperty(n)&&(this[n]=t[n])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),v=function(){function t(t,e,r,n,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new m(e,r,n,i,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),y=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<l;e++)this.chars.push(new v);this.logger=t,this.pos=0,this.currPenState=new m}var e=t.prototype;return e.equals=function(t){for(var e=!0,r=0;r<l;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<l;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<l;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=l)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=s(t);this.pos>=l?this.logger.log(n.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<l;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,r=0;r<l;r++){var n=this.chars[r].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),b=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<o;e++)this.rows.push(new y(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<o;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,r=0;r<o;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<o;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<o;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(n.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(n.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<o;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var s=a.rows[i].cueStartTime,l=this.logger.time;if(s&&null!==l&&s<l)for(var c=0;c<this.nrRollUpRows;c++)this.rows[e-this.nrRollUpRows+c+1].copy(a.rows[i+c])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var h=t.indent,f=Math.max(h-1,0);u.setCursor(t.indent),t.color=u.chars[f].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],r="",n=-1,i=0;i<o;i++){var a=this.rows[i].getTextString();a&&(n=i+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},e.getTextAndFormat=function(){return this.rows},t}(),_=function(){function t(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new b(r),this.nonDisplayedMemory=new b(r),this.lastOutputScreen=new b(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(n.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(n.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(n.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),T=function(){function t(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new p;this.channels=[null,new _(t,e,n),new _(t+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var r,i,a,s=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(i=127&e[o],a=127&e[o+1],0!==i||0!==a){if(this.logger.log(n.DATA,"["+g([e[o],e[o+1]])+"] -> ("+g([i,a])+")"),(r=this.parseCmd(i,a))||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(s=this.parseChars(i,a))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(s):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}r||s||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+g([i,a])+" orig: "+g([e[o],e[o+1]]))}},e.parseCmd=function(t,e){var r=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(x(t,e,r))return E(null,null,r),this.logger.log(n.DEBUG,"Repeated command ("+g([t,e])+") is dropped"),!0;var i=20===t||21===t||23===t?1:2,a=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?a.ccRCL():33===e?a.ccBS():34===e?a.ccAOF():35===e?a.ccAON():36===e?a.ccDER():37===e?a.ccRU(2):38===e?a.ccRU(3):39===e?a.ccRU(4):40===e?a.ccFON():41===e?a.ccRDC():42===e?a.ccTR():43===e?a.ccRTD():44===e?a.ccEDM():45===e?a.ccCR():46===e?a.ccENM():47===e&&a.ccEOC():a.ccTO(e-32),E(t,e,r),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var r=0;if((17===t||25===t)&&e>=32&&e<=47){if((r=17===t?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[r];return!!i&&(i.ccMIDROW(e),this.logger.log(n.DEBUG,"MIDROW ("+g([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var r,n=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(x(t,e,n))return E(null,null,n),!0;var i=t<=23?1:2;r=e>=64&&e<=95?1===i?c[t]:h[t]:1===i?u[t]:f[t];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(r,e)),E(t,e,n),this.currentChannel=i,!0)},e.interpretPAC=function(t,e){var r,n={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},e.parseChars=function(t,e){var r,i,a=null,o=null;if(t>=25?(r=2,o=t-8):(r=1,o=t),o>=17&&o<=19?(i=17===o?e+80:18===o?e+112:e+144,this.logger.log(n.INFO,"Special char '"+s(i)+"' in channel "+r),a=[i]):t>=32&&t<=127&&(a=0===e?[t]:[t,e]),a){var l=g(a);this.logger.log(n.DEBUG,"Char codes =  "+l.join(",")),E(t,e,this.cmdHistory)}return a},e.parseBackgroundAttributes=function(t,e){var r;if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;var n={};16===t||24===t?(r=Math.floor((e-32)/2),n.background=d[r],e%2===1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0));var i=t<=23?1:2;return this.channels[i].setBkgData(n),E(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var r=this.channels[e];r&&r.cueSplitAtTime(t)}},t}();function E(t,e,r){r.a=t,r.b=e}function x(t,e,r){return r.a===t&&r.b===e}e.default=T},"./src/utils/codecs.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isCodecType",(function(){return i})),r.d(e,"isCodecSupportedInMp4",(function(){return a}));var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(t,e){var r=n[e];return!!r&&!0===r[t.slice(0,4)]}function a(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/vttparser.ts"),i=r("./src/utils/webvtt-parser.ts"),a=r("./src/utils/texttrack-utils.ts"),s=/\s/,o={newCue:function(t,e,r,o){for(var l,c,u,h,f,d=[],p=self.VTTCue||self.TextTrackCue,g=0;g<o.rows.length;g++)if(u=!0,h=0,f="",!(l=o.rows[g]).isEmpty()){for(var m=0;m<l.chars.length;m++)s.test(l.chars[m].uchar)&&u?h++:(f+=l.chars[m].uchar,u=!1);l.cueStartTime=e,e===r&&(r+=1e-4),h>=16?h--:h++;var v=Object(n.fixLineBreaks)(f.trim()),y=Object(i.generateCueId)(e,r,v);t&&t.cues&&t.cues.getCueById(y)||((c=new p(e,r,v)).id=y,c.line=g+1,c.align="left",c.position=10+Math.min(80,10*Math.floor(8*h/32)),d.push(c))}return t&&d.length&&(d.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),d.forEach((function(e){return Object(a.addCueToTrack)(t,e)}))),d}};e.default=o},"./src/utils/discontinuities.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"findFirstFragWithCC",(function(){return s})),r.d(e,"shouldAlignOnDiscontinuities",(function(){return o})),r.d(e,"findDiscontinuousReferenceFrag",(function(){return l})),r.d(e,"adjustSlidingStart",(function(){return u})),r.d(e,"alignStream",(function(){return h})),r.d(e,"alignPDT",(function(){return f})),r.d(e,"alignFragmentByPDTDelta",(function(){return d})),r.d(e,"alignMediaPlaylistByPDT",(function(){return p}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/logger.ts"),a=r("./src/controller/level-helper.ts");function s(t,e){for(var r=null,n=0,i=t.length;n<i;n++){var a=t[n];if(a&&a.cc===e){r=a;break}}return r}function o(t,e,r){return!(!e.details||!(r.endCC>r.startCC||t&&t.cc<r.startCC))}function l(t,e){var r=t.fragments,n=e.fragments;if(n.length&&r.length){var a=s(r,n[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function c(t,e){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function u(t,e){for(var r=e.fragments,n=0,i=r.length;n<i;n++)c(r[n],t);e.fragmentHint&&c(e.fragmentHint,t),e.alignedSliding=!0}function h(t,e,r){e&&(function(t,e,r){if(o(t,r,e)){var a=l(r.details,e);a&&Object(n.isFiniteNumber)(a.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+e.url),u(a.start,e))}}(t,r,e),!r.alignedSliding&&e.details&&f(r,e.details),r.alignedSliding||!e.details||r.skippedSegments||Object(a.adjustSliding)(e.details,r))}function f(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime,a=t.fragments[0].programDateTime,s=(a-r)/1e3+e.fragments[0].start;s&&Object(n.isFiniteNumber)(s)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(a-r)+"ms, sliding:"+s.toFixed(3)+" "+t.url+" "),u(s,t))}}function d(t,e){var r=t.programDateTime;if(r){var n=(r-e)/1e3;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function p(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime-1e3*e.fragments[0].start;t.fragments.forEach((function(t){d(t,r)})),t.fragmentHint&&d(t.fragmentHint,r),t.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/ewma.ts"),i=function(){function t(t,e,r){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(t),this.fast_=new n.default(e)}var e=t.prototype;return e.update=function(t,e){var r=this.slow_,i=this.fast_;this.slow_.halfLife!==t&&(this.slow_=new n.default(t,r.getEstimate(),r.getTotalWeight())),this.fast_.halfLife!==e&&(this.fast_=new n.default(e,i.getEstimate(),i.getTotalWeight()))},e.sample=function(t,e){var r=(t=Math.max(t,this.minDelayMs_))/1e3,n=8*e/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();e.default=i},"./src/utils/ewma.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=r}var e=t.prototype;return e.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}();e.default=n},"./src/utils/fetch-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"fetchSupported",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/loader/load-stats.ts"),a=r("./src/demux/chunk-cache.ts");function s(t){var e="function"===typeof Map?new Map:void 0;return s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return o(t,arguments,u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},s(t)}function o(t,e,r){return o=l()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&c(i,r.prototype),i},o.apply(null,arguments)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(){return h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h.apply(this,arguments)}function f(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}var d=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||p,this.controller=new self.AbortController,this.stats=new i.LoadStats}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,r){var i=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var s=function(t,e){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(h({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}(t,this.controller.signal),o=r.onProgress,l="arraybuffer"===t.responseType,c=l?"byteLength":"length";this.context=t,this.config=e,this.callbacks=r,this.request=this.fetchSetup(t,s),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),r.onTimeout(a,t,i.response)}),e.timeout),self.fetch(this.request).then((function(r){if(i.response=i.loader=r,!r.ok){var s=r.status,c=r.statusText;throw new g(c||"fetch, bad network response",s,r)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(r.headers.get("Content-Length")||"0"),o&&Object(n.isFiniteNumber)(e.highWaterMark)?i.loadProgressively(r,a,t,e.highWaterMark,o):l?r.arrayBuffer():r.text()})).then((function(s){var l=i.response;self.clearTimeout(i.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=s[c];var u={url:l.url,data:s};o&&!Object(n.isFiniteNumber)(e.highWaterMark)&&o(a,t,s,l),r.onSuccess(u,a,t,l)})).catch((function(e){if(self.clearTimeout(i.requestTimeout),!a.aborted){var n=e.code||0;r.onError({code:n,text:e.message},t,e.details)}}))},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t},e.loadProgressively=function(t,e,r,n,i){void 0===n&&(n=0);var s=new a.default,o=t.body.getReader();return function a(){return o.read().then((function(o){if(o.done)return s.dataLength&&i(e,r,s.flush(),t),Promise.resolve(new ArrayBuffer(0));var l=o.value,c=l.length;return e.loaded+=c,c<n||s.dataLength?(s.push(l),s.dataLength>=n&&i(e,r,s.flush(),t)):i(e,r,l,t),a()})).catch((function(){return Promise.reject()}))}()},t}();function p(t,e){return new self.Request(t.url,e)}var g=function(t){var e,r;function n(e,r,n){var i;return(i=t.call(this,e)||this).code=void 0,i.details=void 0,i.code=r,i.details=n,i}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,c(e,r),n}(s(Error));e.default=d},"./src/utils/imsc1-ttml-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"IMSC1_CODEC",(function(){return u})),r.d(e,"parseIMSC1",(function(){return p}));var n=r("./src/utils/mp4-tools.ts"),i=r("./src/utils/vttparser.ts"),a=r("./src/utils/vttcue.ts"),s=r("./src/demux/id3.ts"),o=r("./src/utils/timescale-conversion.ts"),l=r("./src/utils/webvtt-parser.ts");function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c.apply(this,arguments)}var u="stpp.ttml.im1t",h=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,d={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(t,e,r,i,u){var h=Object(n.findBox)(new Uint8Array(t),["mdat"]);if(0!==h.length){var f=h[0],p=Object(s.utf8ArrayToStr)(new Uint8Array(t,f.start,f.end-f.start)),T=Object(o.toTimescaleFromScale)(e,1,r);try{i(function(t,e){var r=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(n).reduce((function(t,e){return t[e]=r.getAttribute("ttp:"+e)||n[e],t}),{}),s="preserve"!==r.getAttribute("xml:space"),o=m(g(r,"styling","style")),u=m(g(r,"layout","region")),h=g(r,"body","[begin]");return[].map.call(h,(function(t){var r=v(t,s);if(!r||!t.hasAttribute("begin"))return null;var n=_(t.getAttribute("begin"),i),h=_(t.getAttribute("dur"),i),f=_(t.getAttribute("end"),i);if(null===n)throw b(t);if(null===f){if(null===h)throw b(t);f=n+h}var p=new a.default(n-e,f-e,r);p.id=Object(l.generateCueId)(p.startTime,p.endTime,p.text);var g=u[t.getAttribute("region")],m=o[t.getAttribute("style")];p.position=10,p.size=80;var T=function(t,e){var r="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(n,i){var a=y(e,r,i)||y(t,r,i);return a&&(n[i]=a),n}),{})}(g,m),E=T.textAlign;if(E){var x=d[E];x&&(p.lineAlign=x),p.align=E}return c(p,T),p})).filter((function(t){return null!==t}))}(p,T))}catch(E){u(E)}}else u(new Error("Could not parse IMSC1 mdat"))}function g(t,e,r){var n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function m(t){return t.reduce((function(t,e){var r=e.getAttribute("xml:id");return r&&(t[r]=e),t}),{})}function v(t,e){return[].slice.call(t.childNodes).reduce((function(t,r,n){var i;return"br"===r.nodeName&&n?t+"\n":null!==(i=r.childNodes)&&void 0!==i&&i.length?v(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}function y(t,e,r){return t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function b(t){return new Error("Could not parse ttml timestamp "+t)}function _(t,e){if(!t)return null;var r=Object(i.parseTimeStamp)(t);return null===r&&(h.test(t)?r=function(t,e){var r=h.exec(t),n=(0|r[4])+(0|r[5])/e.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/e.frameRate}(t,e):f.test(t)&&(r=function(t,e){var r=f.exec(t),n=Number(r[1]);switch(r[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}(t,e))),r}},"./src/utils/logger.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"enableLogs",(function(){return o})),r.d(e,"logger",(function(){return l}));var n=function(){},i={trace:n,debug:n,log:n,warn:n,info:n,error:n},a=i;function s(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):n}function o(t){if(self.console&&!0===t||"object"===typeof t){!function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(e){a[e]=t[e]?t[e].bind(t):s(e)}))}(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i}var l=i},"./src/utils/mediakeys-helper.ts":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"KeySystems",(function(){return n})),r.d(e,"requestMediaKeySystemAccess",(function(){return i})),function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(n||(n={}));var i="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(t,e,r){"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}r.r(e),r.d(e,"getMediaSource",(function(){return n}))},"./src/utils/mp4-tools.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"bin2str",(function(){return o})),r.d(e,"readUint16",(function(){return l})),r.d(e,"readUint32",(function(){return c})),r.d(e,"writeUint32",(function(){return u})),r.d(e,"findBox",(function(){return h})),r.d(e,"parseSegmentIndex",(function(){return f})),r.d(e,"parseInitSegment",(function(){return d})),r.d(e,"getStartDTS",(function(){return p})),r.d(e,"getDuration",(function(){return g})),r.d(e,"computeRawDurationFromSamples",(function(){return m})),r.d(e,"offsetStartDTS",(function(){return v})),r.d(e,"segmentValidRange",(function(){return y})),r.d(e,"appendUint8Array",(function(){return b}));var n=r("./src/utils/typed-array.ts"),i=r("./src/loader/fragment.ts"),a=Math.pow(2,32)-1,s=[].push;function o(t){return String.fromCharCode.apply(null,t)}function l(t,e){"data"in t&&(e+=t.start,t=t.data);var r=t[e]<<8|t[e+1];return r<0?65536+r:r}function c(t,e){"data"in t&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r}function u(t,e,r){"data"in t&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}function h(t,e){var r,n,i,a=[];if(!e.length)return a;"data"in t?(r=t.data,n=t.start,i=t.end):(n=0,i=(r=t).byteLength);for(var l=n;l<i;){var u=c(r,l),f=u>1?l+u:i;if(o(r.subarray(l+4,l+8))===e[0])if(1===e.length)a.push({data:r,start:l+8,end:f});else{var d=h({data:r,start:l+8,end:f},e.slice(1));d.length&&s.apply(a,d)}l=f}return a}function f(t){var e=h(t,["moov"])[0],r=e?e.end:null,n=h(t,["sidx"]);if(!n||!n[0])return null;var i=[],a=n[0],s=a.data[0],o=0===s?8:16,u=c(a,o);o+=4,o+=0===s?8:16,o+=2;var f=a.end+0,d=l(a,o);o+=2;for(var p=0;p<d;p++){var g=o,m=c(a,g);g+=4;var v=2147483647&m;if(1===(2147483648&m)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=c(a,g);g+=4,i.push({referenceSize:v,subsegmentDuration:y,info:{duration:y/u,start:f,end:f+v-1}}),f+=v,o=g+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:d,references:i,moovEndOffset:r}}function d(t){for(var e=[],r=h(t,["moov","trak"]),n=0;n<r.length;n++){var a=r[n],s=h(a,["tkhd"])[0];if(s){var l=s.data[s.start],u=0===l?12:20,f=c(s,u),d=h(a,["mdia","mdhd"])[0];if(d){var p=c(d,u=0===(l=d.data[d.start])?12:20),g=h(a,["mdia","hdlr"])[0];if(g){var m=o(g.data.subarray(g.start+8,g.start+12)),v={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[m];if(v){var y=h(a,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=o(y.data.subarray(y.start+12,y.start+16))),e[f]={timescale:p,type:v},e[v]={timescale:p,id:f,codec:b}}}}}}return h(t,["moov","mvex","trex"]).forEach((function(t){var r=c(t,4),n=e[r];n&&(n.default={duration:c(t,12),flags:c(t,20)})})),e}function p(t,e){return h(e,["moof","traf"]).reduce((function(e,r){var n=h(r,["tfdt"])[0],i=n.data[n.start],a=h(r,["tfhd"]).reduce((function(e,r){var a=c(r,4),s=t[a];if(s){var o=c(n,4);1===i&&(o*=Math.pow(2,32),o+=c(n,8));var l=o/(s.timescale||9e4);if(isFinite(l)&&(null===e||l<e))return l}return e}),null);return null!==a&&isFinite(a)&&(null===e||a<e)?a:e}),null)||0}function g(t,e){for(var r=0,n=0,a=0,s=h(t,["moof","traf"]),o=0;o<s.length;o++){var l=s[o],u=h(l,["tfhd"])[0],d=e[c(u,4)];if(d){var p=d.default,g=c(u,0)|(null===p||void 0===p?void 0:p.flags),v=null===p||void 0===p?void 0:p.duration;8&g&&(v=c(u,2&g?12:8));for(var y=d.timescale||9e4,b=h(l,["trun"]),_=0;_<b.length;_++)!(r=m(b[_]))&&v&&(r=v*c(b[_],4)),d.type===i.ElementaryStreamTypes.VIDEO?n+=r/y:d.type===i.ElementaryStreamTypes.AUDIO&&(a+=r/y)}}if(0===n&&0===a){var T=f(t);if(null!==T&&void 0!==T&&T.references)return T.references.reduce((function(t,e){return t+e.info.duration||0}),0)}return n||a}function m(t){var e=c(t,0),r=8;1&e&&(r+=4),4&e&&(r+=4);for(var n=0,i=c(t,4),a=0;a<i;a++)256&e&&(n+=c(t,r),r+=4),512&e&&(r+=4),1024&e&&(r+=4),2048&e&&(r+=4);return n}function v(t,e,r){h(e,["moof","traf"]).forEach((function(e){h(e,["tfhd"]).forEach((function(n){var i=c(n,4),s=t[i];if(s){var o=s.timescale||9e4;h(e,["tfdt"]).forEach((function(t){var e=t.data[t.start],n=c(t,4);if(0===e)u(t,4,n-r*o);else{n*=Math.pow(2,32),n+=c(t,8),n-=r*o,n=Math.max(n,0);var i=Math.floor(n/(a+1)),s=Math.floor(n%(a+1));u(t,4,i),u(t,8,s)}}))}}))}))}function y(t){var e={valid:null,remainder:null},r=h(t,["moof"]);if(!r)return e;if(r.length<2)return e.remainder=t,e;var i=r[r.length-1];return e.valid=Object(n.sliceUint8)(t,0,i.start-8),e.remainder=Object(n.sliceUint8)(t,i.start-8),e}function b(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}},"./src/utils/output-filter.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[],this.startTime=null},t}()},"./src/utils/texttrack-utils.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"sendAddTrackEvent",(function(){return i})),r.d(e,"addCueToTrack",(function(){return a})),r.d(e,"clearCurrentCues",(function(){return s})),r.d(e,"removeCuesInRange",(function(){return o})),r.d(e,"getCuesInRange",(function(){return l}));var n=r("./src/utils/logger.ts");function i(t,e){var r;try{r=new Event("addtrack")}catch(n){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function a(t,e){var r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(a){n.logger.debug("[texttrack-utils]: "+a);var i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}"disabled"===r&&(t.mode=r)}function s(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var r=t.cues.length;r--;)t.removeCue(t.cues[r]);"disabled"===e&&(t.mode=e)}function o(t,e,r){var n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var i=l(t.cues,e,r),a=0;a<i.length;a++)t.removeCue(i[a]);"disabled"===n&&(t.mode=n)}function l(t,e,r){var n=[],i=function(t,e){if(e<t[0].startTime)return 0;var r=t.length-1;if(e>t[r].endTime)return-1;for(var n=0,i=r;n<=i;){var a=Math.floor((i+n)/2);if(e<t[a].startTime)i=a-1;else{if(!(e>t[a].startTime&&n<r))return a;n=a+1}}return t[n].startTime-e<e-t[i].startTime?n:i}(t,e);if(i>-1)for(var a=i,s=t.length;a<s;a++){var o=t[a];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}},"./src/utils/time-ranges.ts":function(t,e,r){"use strict";r.r(e),e.default={toString:function(t){for(var e="",r=t.length,n=0;n<r;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}}},"./src/utils/timescale-conversion.ts":function(t,e,r){"use strict";function n(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=t*e*r;return n?Math.round(i):i}function i(t,e,r,i){return void 0===r&&(r=1),void 0===i&&(i=!1),n(t,e,1/r,i)}function a(t,e){return void 0===e&&(e=!1),n(t,1e3,1/9e4,e)}function s(t,e){return void 0===e&&(e=1),n(t,9e4,1/e)}r.r(e),r.d(e,"toTimescaleFromBase",(function(){return n})),r.d(e,"toTimescaleFromScale",(function(){return i})),r.d(e,"toMsFromMpegTsClock",(function(){return a})),r.d(e,"toMpegTsClockFromTimescale",(function(){return s}))},"./src/utils/typed-array.ts":function(t,e,r){"use strict";function n(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}r.r(e),r.d(e,"sliceUint8",(function(){return n}))},"./src/utils/vttcue.ts":function(t,e,r){"use strict";r.r(e),e.default=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function r(t,e){if("string"!==typeof e)return!1;if(!Array.isArray(t))return!1;var r=e.toLowerCase();return!!~t.indexOf(r)&&r}function n(t){return r(e,t)}function i(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)t[s]=a[s]}return t}function a(e,a,s){var o=this,l={enumerable:!0};o.hasBeenReset=!1;var c="",u=!1,h=e,f=a,d=s,p=null,g="",m=!0,v="auto",y="start",b=50,_="middle",T=50,E="middle";Object.defineProperty(o,"id",i({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(o,"pauseOnExit",i({},l,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(o,"startTime",i({},l,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},l,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},l,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},l,{get:function(){return g},set:function(e){var n=function(e){return r(t,e)}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},l,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},l,{get:function(){return v},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},l,{get:function(){return y},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},l,{get:function(){return _},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},l,{get:function(){return T},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},l,{get:function(){return E},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),o.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}()},"./src/utils/vttparser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"parseTimeStamp",(function(){return a})),r.d(e,"fixLineBreaks",(function(){return h})),r.d(e,"VTTParser",(function(){return f}));var n=r("./src/utils/vttcue.ts"),i=function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))},t}();function a(t){function e(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+parseFloat(n||0)}var r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}var s=function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||""===e||(this.values[t]=e)},e.get=function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var r=parseFloat(e);if(r>=0&&r<=100)return this.set(t,r),!0}return!1},t}();function o(t,e,r,n){var i=n?t.split(n):[t];for(var a in i)if("string"===typeof i[a]){var s=i[a].split(r);2===s.length&&e(s[0],s[1])}}var l=new n.default(0,0,""),c="middle"===l.align?"middle":"center";function u(t,e,r){var n=t;function i(){var e=a(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(){t=t.replace(/^\s+/,"")}if(u(),e.startTime=i(),u(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),u(),e.endTime=i(),u(),function(t,e){var n=new s;o(t,(function(t,e){var i;switch(t){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===e){n.set(t,r[a].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":i=e.split(","),n.integer(t,i[0]),n.percent(t,i[0])&&n.set("snapToLines",!1),n.alt(t,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",c,"end"]);break;case"position":i=e.split(","),n.percent(t,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",c,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",c,"end","left","right"])}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),e.line=i,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",c);var a=n.get("position","auto");"auto"===a&&50===l.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function h(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var f=function(){function t(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function r(){var t=e.buffer,r=0;for(t=h(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var n=t.substr(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.substr(r),n}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var a=(i=r()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var s=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(s?s=!1:i=r(),e.state){case"HEADER":/:/.test(i)?o(i,(function(t,e){}),/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new n.default(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{u(i,e.cue,e.regionList)}catch(c){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(s=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID")}}}catch(c){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},e.flush=function(){var t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this},t}()},"./src/utils/webvtt-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"generateCueId",(function(){return h})),r.d(e,"parseWebVTT",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/vttparser.ts"),a=r("./src/demux/id3.ts"),s=r("./src/utils/timescale-conversion.ts"),o=r("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,c=function(t,e,r){return void 0===r&&(r=0),t.substr(r,e.length)===e},u=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()};function h(t,e,r){return u(t.toString())+u(e.toString())+u(r)}function f(t,e,r,u,f,d,p,g){var m,v=new i.VTTParser,y=Object(a.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(l,"\n").split("\n"),b=[],_=Object(s.toMpegTsClockFromTimescale)(e,r),T="00:00.000",E=0,x=0,S=!0,w=!1;v.oncue=function(t){var e=u[f],r=u.ccOffset,n=(E-_)/9e4;if(null!==e&&void 0!==e&&e.new&&(void 0!==x?r=u.ccOffset=e.start:function(t,e,r){var n=t[e],i=t[n.prevCC];if(!i||!i.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;null!==(a=i)&&void 0!==a&&a.new;){var a;t.ccOffset+=n.start-i.start,n.new=!1,i=t[(n=i).prevCC]}t.presentationOffset=r}(u,f,n)),n&&(r=n-u.presentationOffset),w){var i=t.endTime-t.startTime,a=Object(o.normalizePts)(9e4*(t.startTime+r-x),9e4*d)/9e4;t.startTime=a,t.endTime=a+i}var s=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(s)),t.id||(t.id=h(t.startTime,t.endTime,s)),t.endTime>0&&b.push(t)},v.onparsingerror=function(t){m=t},v.onflush=function(){m?g(m):p(b)},y.forEach((function(t){if(S){if(c(t,"X-TIMESTAMP-MAP=")){S=!1,w=!0,t.substr(16).split(",").forEach((function(t){c(t,"LOCAL:")?T=t.substr(6):c(t,"MPEGTS:")&&(E=parseInt(t.substr(7)))}));try{x=function(t){var e=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),a=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!Object(n.isFiniteNumber)(e)||!Object(n.isFiniteNumber)(r)||!Object(n.isFiniteNumber)(i)||!Object(n.isFiniteNumber)(a))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*r,(e+=6e4*i)+36e5*a}(T)/1e3}catch(e){w=!1,m=e}return}""===t&&(S=!1)}v.parse(t+"\n")})),v.flush()}},"./src/utils/xhr-loader.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/logger.ts"),i=r("./src/loader/load-stats.ts"),a=/^age:\s*[\d.]+\s*$/m,s=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t?t.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t=this.config,e=this.context;if(t){var r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(r,e.url)}catch(o){r.open("GET",e.url,!0),i(r,e.url)}r.readyState||r.open("GET",e.url,!0);var a=this.context.headers;if(a)for(var s in a)r.setRequestHeader(s,a[s])}catch(o){return void this.callbacks.onError({code:r.status,text:o.message},e,r)}e.rangeEnd&&r.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=e.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),t.timeout),r.send()}},e.readystatechange=function(){var t=this.context,e=this.loader,r=this.stats;if(t&&e){var i=e.readyState,a=this.config;if(!r.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start)),4===i){e.onreadystatechange=null,e.onprogress=null;var s=e.status;if(s>=200&&s<300){var o,l;if(r.loading.end=Math.max(self.performance.now(),r.loading.first),l="arraybuffer"===t.responseType?(o=e.response).byteLength:(o=e.responseText).length,r.loaded=r.total=l,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(r,t,o,e),!this.callbacks)return;var u={url:e.responseURL,data:o};this.callbacks.onSuccess(u,r,t,e)}else r.retry>=a.maxRetry||s>=400&&s<499?(n.logger.error(s+" while loading "+t.url),this.callbacks.onError({code:s,text:e.statusText},t,e)):(n.logger.warn(s+" while loading "+t.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},e.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&a.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},t}();e.default=s}}).default},t.exports=n())},function(t,e,r){"use strict";function n(t,e){"function"===typeof t?t(e):t&&(t.current=e)}r.d(e,"a",(function(){return n}))},function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){(function(e){var r;r="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=r}).call(this,r(56))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHTML=e.decodeHTMLStrict=e.decodeXML=void 0;var i=n(r(52)),a=n(r(105)),s=n(r(53)),o=n(r(106));function l(t){var e=Object.keys(t).join("|"),r=u(t),n=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(n,r)}}e.decodeXML=l(s.default),e.decodeHTMLStrict=l(i.default);var c=function(t,e){return t<e?1:-1};function u(t){return function(e){if("#"===e.charAt(1)){var r=e.charAt(2);return"X"===r||"x"===r?o.default(parseInt(e.substr(3),16)):o.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]}}e.decodeHTML=function(){for(var t=Object.keys(a.default).sort(c),e=Object.keys(i.default).sort(c),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=u(i.default);function l(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(s,l)}}()},function(t){t.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.escape=e.encodeHTML=e.encodeXML=void 0;var i=l(n(r(53)).default),a=c(i);e.encodeXML=f(i,a);var s=l(n(r(52)).default),o=c(s);function l(t){return Object.keys(t).sort().reduce((function(e,r){return e[t[r]]="&"+r+";",e}),{})}function c(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];1===a.length?e.push("\\"+a):r.push(a)}e.sort();for(var s=0;s<e.length-1;s++){for(var o=s;o<e.length-1&&e[o].charCodeAt(1)+1===e[o+1].charCodeAt(1);)o+=1;var l=1+o-s;l<3||e.splice(s,l,e[s]+"-"+e[o])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}e.encodeHTML=f(s,o);var u=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function h(t){return"&#x"+t.codePointAt(0).toString(16).toUpperCase()+";"}function f(t,e){return function(r){return r.replace(e,(function(e){return t[e]})).replace(u,h)}}var d=c(i);e.escape=function(t){return t.replace(d,h).replace(u,h)}},function(t,e,r){"use strict";(function(t){var n=r(110),i=r(111),a=r(112);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e);return t}(t,e,r,n):"string"===typeof e?function(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=o(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|d(e.length);return 0===(t=o(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(n=e.length)!==n?o(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=o(t,e<0?0:0|d(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=o(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return w(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var a,s=1,o=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,o/=2,l/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(a=r;a<o;a++)if(c(t,a)===c(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(r+l>o&&(r=o-l),a=r;a>=0;a--){for(var h=!0,f=0;f<l;f++)if(c(t,a+f)!==c(e,f)){h=!1;break}if(h)return a}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function _(t,e,r,n){return H(z(e,t.length-r),t,r,n)}function T(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return T(t,e,r,n)}function x(t,e,r,n){return H(G(e),t,r,n)}function S(t,e,r,n){return H(function(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function w(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,s,o,l,c=t[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128===(192&(a=t[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=t[i+1],s=t[i+2],128===(192&a)&&128===(192&s)&&(l=(15&c)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=t[i+1],s=t[i+2],o=t[i+3],128===(192&a)&&128===(192&s)&&128===(192&o)&&(l=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return c(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,n){return u(e),e<=0?o(t,e):void 0!==r?"string"===typeof n?o(t,e).fill(r,n):o(t,e).fill(r):o(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),o=Math.min(a,s),c=this.slice(n,i),u=t.slice(e,r),h=0;h<o;++h)if(c[h]!==u[h]){a=c[h],s=u[h];break}return a<s?-1:s<a?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":return T(this,t,e,r);case"latin1":case"binary":return E(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function D(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=U(t[a]);return i}function L(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function I(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function F(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,a){return a||F(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,a){return a||F(t,0,r,8),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=0,s=1,o=0;for(this[e]=255&t;++a<r&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=r-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},l.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=l.isBuffer(t)?t:z(new l(t,n).toString()),o=s.length;for(a=0;a<r-e;++a)this[a+e]=s[a%o]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(56))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(e,"a",(function(){return n}))},function(t,e){var r="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var o,l,c,u;if(Array.isArray(t)){if((o=t.length)!=e.length)return!1;for(l=o;0!==l--;)if(!s(t[l],e[l]))return!1;return!0}if(n&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!e.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!s(l.value[1],e.get(l.value[0])))return!1;return!0}if(i&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!e.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((o=t.length)!=e.length)return!1;for(l=o;0!==l--;)if(t[l]!==e[l])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((o=(c=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(e,c[l]))return!1;if(r&&t instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!s(t[c[l]],e[c[l]]))return!1;return!0}return t!==t&&e!==e}t.exports=function(t,e){try{return s(t,e)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},function(t,e,r){"use strict";var n=function(){};t.exports=n},function(t,e,r){"use strict";var n=function(t){return t},i=function(){var t=n;return{configure:function(e){t=e},generate:function(e){return t(e)},reset:function(){t=n}}}();e.a=i},function(t,e,r){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(1),i="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;e.a=i},function(t,e,r){"use strict";var n=r(103);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(104)),a=r(3),s=(0,i.default)((0,a.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");e.default=s},function(t,e,r){"use strict";function n(t){return t&&t.ownerDocument||document}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n={};function i(t,e,r){var a,s,o,l,c,u="";for("string"!==typeof e&&(r=e,e=i.defaultChars),"undefined"===typeof r&&(r=!0),c=function(t){var e,r,i=n[t];if(i)return i;for(i=n[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}(e),a=0,s=t.length;a<s;a++)if(o=t.charCodeAt(a),r&&37===o&&a+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(a+1,a+3)))u+=t.slice(a,a+3),a+=2;else if(o<128)u+=c[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&a+1<s&&(l=t.charCodeAt(a+1))>=56320&&l<=57343){u+=encodeURIComponent(t[a]+t[a+1]),a++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(t[a]);return u}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",t.exports=i},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return a}));var n=r(50),i=r.n(n);function a(e){for(var r,n=(r=e,i.a.atob?i.a.atob(r):t.from(r,"base64").toString("binary")),a=new Uint8Array(n.length),s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return a}}).call(this,r(55).Buffer)},function(t,e,r){"use strict";var n=r(142),i=r(1);var a=i.createContext(null);function s(){return i.useContext(a)}function o(t){return 0===Object.keys(t).length}var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=s();return!e||o(e)?t:e},c=Object(n.a)();e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return l(t)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(40);function i(t){if("string"!==typeof t)throw new Error(Object(n.a)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(37);function i(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function a(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=r.clone?Object(n.a)({},t):t;return i(t)&&i(e)&&Object.keys(e).forEach((function(n){"__proto__"!==n&&(i(e[n])&&n in t&&i(t[n])?s[n]=a(t[n],e[n],r):s[n]=e[n])})),s}},,,,,,,,,,,,,,,,function(t,e,r){"use strict";var n=r(43),i=60103,a=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var s=60109,o=60110,l=60112;e.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),s=h("react.provider"),o=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function v(){}function y(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,n(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},T=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,r){var n,a={},s=null,o=null;if(null!=e)for(n in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(s=""+e.key),e)T.call(e,n)&&!E.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===a[n]&&(a[n]=l[n]);return{$$typeof:i,type:t,key:s,ref:o,props:a,_owner:_.current}}function S(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var w=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,r,n,s){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return s=s(l=t),t=""===n?"."+C(l,0):n,Array.isArray(s)?(r="",null!=t&&(r=t.replace(w,"$&/")+"/"),O(s,e,r,"",(function(t){return t}))):null!=s&&(S(s)&&(s=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(w,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+C(o=t[c],c);l+=O(o,e,r,u,s)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=O(o=o.value,e,r,u=n+C(o,c++),s);else if("object"===o)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function k(t,e,r){if(null==t)return t;var n=[],i=0;return O(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var D={current:null};function L(){var t=D.current;if(null===t)throw Error(d(321));return t}var R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:k,forEach:function(t,e,r){k(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return k(t,(function(){e++})),e},toArray:function(t){return k(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(d(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error(d(267,t));var a=n({},t.props),s=t.key,o=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,l=_.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)T.call(e,u)&&!E.hasOwnProperty(u)&&(a[u]=void 0===e[u]&&void 0!==c?c[u]:e[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:t.type,key:s,ref:o,props:a,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:o,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=x,e.createFactory=function(t){var e=x.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return L().useCallback(t,e)},e.useContext=function(t,e){return L().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return L().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return L().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return L().useLayoutEffect(t,e)},e.useMemo=function(t,e){return L().useMemo(t,e)},e.useReducer=function(t,e,r){return L().useReducer(t,e,r)},e.useRef=function(t){return L().useRef(t)},e.useState=function(t){return L().useState(t)},e.version="17.0.2"},function(t,e,r){"use strict";var n=r(1),i=r(43),a=r(89);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(s(227));var o=new Set,l={};function c(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(l[t]=e,t=0;t<e.length;t++)o.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},g={};function m(t,e,r,n,i,a,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function _(t,e,r,n){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!d.call(g,t)||!d.call(p,t)&&(f.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,b);v[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,S=60107,w=60108,C=60114,O=60109,k=60110,A=60112,D=60113,L=60120,R=60115,P=60116,M=60121,I=60128,F=60129,j=60130,N=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;E=B("react.element"),x=B("react.portal"),S=B("react.fragment"),w=B("react.strict_mode"),C=B("react.profiler"),O=B("react.provider"),k=B("react.context"),A=B("react.forward_ref"),D=B("react.suspense"),L=B("react.suspense_list"),R=B("react.memo"),P=B("react.lazy"),M=B("react.block"),B("react.scope"),I=B("react.opaque.id"),F=B("react.debug_trace_mode"),j=B("react.offscreen"),N=B("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function G(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=z&&t[z]||t["@@iterator"])?t:null}function H(t){if(void 0===U)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);U=e&&e[1]||""}return"\n"+U+t}var V=!1;function W(t,e){if(!t||V)return"";V=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=n.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?H(t):""}function Y(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case R:return X(t.type);case M:return X(t._render);case P:e=t._payload,t=t._init;try{return X(t(e))}catch(r){}}return null}function q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=K(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var r=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function tt(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=q(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function rt(t,e){et(t,e);var r=q(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,r):e.hasOwnProperty("defaultValue")&&it(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function nt(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function it(t,e,r){"number"===e&&Z(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function at(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function st(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+q(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(s(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(s(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:q(r)}}function ct(t,e){var r=q(e.value),n=q(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gt,mt,vt=(mt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((gt=gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function yt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function Tt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Tt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(bt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ot=null,kt=null,At=null;function Dt(t){if(t=ni(t)){if("function"!==typeof Ot)throw Error(s(280));var e=t.stateNode;e&&(e=ai(e),Ot(t.stateNode,t.type,e))}}function Lt(t){kt?At?At.push(t):At=[t]:kt=t}function Rt(){if(kt){var t=kt,e=At;if(At=kt=null,Dt(t),e)for(t=0;t<e.length;t++)Dt(e[t])}}function Pt(t,e){return t(e)}function Mt(t,e,r,n,i){return t(e,r,n,i)}function It(){}var Ft=Pt,jt=!1,Nt=!1;function Bt(){null===kt&&null===At||(It(),Rt())}function Ut(t,e){var r=t.stateNode;if(null===r)return null;var n=ai(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(s(231,e,typeof r));return r}var zt=!1;if(h)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(mt){zt=!1}function Ht(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Vt=!1,Wt=null,Yt=!1,Xt=null,qt={onError:function(t){Vt=!0,Wt=t}};function Kt(t,e,r,n,i,a,s,o,l){Vt=!1,Wt=null,Ht.apply(qt,arguments)}function $t(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Zt(t){if($t(t)!==t)throw Error(s(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(s(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Zt(i),t;if(a===n)return Zt(i),e;a=a.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var r=t.alternate;null!==e;){if(e===t||e===r)return!0;e=e.return}return!1}var ee,re,ne,ie,ae=!1,se=[],oe=null,le=null,ce=null,ue=new Map,he=new Map,fe=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function ge(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function me(t,e,r,n,i,a){return null===t||t.nativeEvent!==a?(t=pe(e,r,n,i,a),null!==e&&(null!==(e=ni(e))&&re(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=ri(t.target);if(null!==e){var r=$t(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Qt(r)))return t.blockedOn=e,void ie(t.lanePriority,(function(){a.unstable_runWithPriority(t.priority,(function(){ne(r)}))}))}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=ni(r))&&re(e),t.blockedOn=r,!1;e.shift()}return!0}function be(t,e,r){ye(t)&&r.delete(e)}function _e(){for(ae=!1;0<se.length;){var t=se[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var r=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r){t.blockedOn=r;break}e.shift()}null===t.blockedOn&&se.shift()}null!==oe&&ye(oe)&&(oe=null),null!==le&&ye(le)&&(le=null),null!==ce&&ye(ce)&&(ce=null),ue.forEach(be),he.forEach(be)}function Te(t,e){t.blockedOn===e&&(t.blockedOn=null,ae||(ae=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_e)))}function Ee(t){function e(e){return Te(e,t)}if(0<se.length){Te(se[0],t);for(var r=1;r<se.length;r++){var n=se[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==oe&&Te(oe,t),null!==le&&Te(le,t),null!==ce&&Te(ce,t),ue.forEach(e),he.forEach(e),r=0;r<fe.length;r++)(n=fe[r]).blockedOn===t&&(n.blockedOn=null);for(;0<fe.length&&null===(r=fe[0]).blockedOn;)ve(r),null===r.blockedOn&&fe.shift()}function xe(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Se={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},we={},Ce={};function Oe(t){if(we[t])return we[t];if(!Se[t])return t;var e,r=Se[t];for(e in r)if(r.hasOwnProperty(e)&&e in Ce)return we[t]=r[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);var ke=Oe("animationend"),Ae=Oe("animationiteration"),De=Oe("animationstart"),Le=Oe("transitionend"),Re=new Map,Pe=new Map,Me=["abort","abort",ke,"animationEnd",Ae,"animationIteration",De,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Le,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pe.set(n,e),Re.set(n,i),c(i,[n])}}(0,a.unstable_now)();var Fe=8;function je(t){if(0!==(1&t))return Fe=15,1;if(0!==(2&t))return Fe=14,2;if(0!==(4&t))return Fe=13,4;var e=24&t;return 0!==e?(Fe=12,e):0!==(32&t)?(Fe=11,32):0!==(e=192&t)?(Fe=10,e):0!==(256&t)?(Fe=9,256):0!==(e=3584&t)?(Fe=8,e):0!==(4096&t)?(Fe=7,4096):0!==(e=4186112&t)?(Fe=6,e):0!==(e=62914560&t)?(Fe=5,e):67108864&t?(Fe=4,67108864):0!==(134217728&t)?(Fe=3,134217728):0!==(e=805306368&t)?(Fe=2,e):0!==(1073741824&t)?(Fe=1,1073741824):(Fe=8,t)}function Ne(t,e){var r=t.pendingLanes;if(0===r)return Fe=0;var n=0,i=0,a=t.expiredLanes,s=t.suspendedLanes,o=t.pingedLanes;if(0!==a)n=a,i=Fe=15;else if(0!==(a=134217727&r)){var l=a&~s;0!==l?(n=je(l),i=Fe):0!==(o&=a)&&(n=je(o),i=Fe)}else 0!==(a=r&~s)?(n=je(a),i=Fe):0!==o&&(n=je(o),i=Fe);if(0===n)return 0;if(n=r&((0>(n=31-Ve(n))?0:1<<n)<<1)-1,0!==e&&e!==n&&0===(e&s)){if(je(e),i<=Fe)return e;Fe=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-Ve(e)),n|=t[r],e&=~i;return n}function Be(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ue(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=ze(24&~e))?Ue(10,e):t;case 10:return 0===(t=ze(192&~e))?Ue(8,e):t;case 8:return 0===(t=ze(3584&~e))&&(0===(t=ze(4186112&~e))&&(t=512)),t;case 2:return 0===(e=ze(805306368&~e))&&(e=268435456),e}throw Error(s(358,t))}function ze(t){return t&-t}function Ge(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function He(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,(t=t.eventTimes)[e=31-Ve(e)]=r}var Ve=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/Ye|0)|0},We=Math.log,Ye=Math.LN2;var Xe=a.unstable_UserBlockingPriority,qe=a.unstable_runWithPriority,Ke=!0;function $e(t,e,r,n){jt||It();var i=Ze,a=jt;jt=!0;try{Mt(i,t,e,r,n)}finally{(jt=a)||Bt()}}function Qe(t,e,r,n){qe(Xe,Ze.bind(null,t,e,r,n))}function Ze(t,e,r,n){var i;if(Ke)if((i=0===(4&e))&&0<se.length&&-1<de.indexOf(t))t=pe(null,t,e,r,n),se.push(t);else{var a=Je(t,e,r,n);if(null===a)i&&ge(t,n);else{if(i){if(-1<de.indexOf(t))return t=pe(a,t,e,r,n),void se.push(t);if(function(t,e,r,n,i){switch(e){case"focusin":return oe=me(oe,t,e,r,n,i),!0;case"dragenter":return le=me(le,t,e,r,n,i),!0;case"mouseover":return ce=me(ce,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ue.set(a,me(ue.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,he.set(a,me(he.get(a)||null,t,e,r,n,i)),!0}return!1}(a,t,e,r,n))return;ge(t,n)}In(t,e,n,null,r)}}}function Je(t,e,r,n){var i=Ct(n);if(null!==(i=ri(i))){var a=$t(i);if(null===a)i=null;else{var s=a.tag;if(13===s){if(null!==(i=Qt(a)))return i;i=null}else if(3===s){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return In(t,e,n,i,r),null}var tr=null,er=null,rr=null;function nr(){if(rr)return rr;var t,e,r=er,n=r.length,i="value"in tr?tr.value:tr.textContent,a=i.length;for(t=0;t<n&&r[t]===i[t];t++);var s=n-t;for(e=1;e<=s&&r[n-e]===i[a-e];e++);return rr=i.slice(t,1<e?1-e:void 0)}function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ar(){return!0}function sr(){return!1}function or(t){function e(e,r,n,i,a){for(var s in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ar:sr,this.isPropagationStopped=sr,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),e}var lr,cr,ur,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=or(hr),dr=i({},hr,{view:0,detail:0}),pr=or(dr),gr=i({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&"mousemove"===t.type?(lr=t.screenX-ur.screenX,cr=t.screenY-ur.screenY):cr=lr=0,ur=t),lr)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),mr=or(gr),vr=or(i({},gr,{dataTransfer:0})),yr=or(i({},dr,{relatedTarget:0})),br=or(i({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=i({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tr=or(_r),Er=or(i({},hr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=wr[t])&&!!e[t]}function Or(){return Cr}var kr=i({},dr,{key:function(t){if(t.key){var e=xr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ar=or(kr),Dr=or(i({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Lr=or(i({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),Rr=or(i({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=i({},gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=or(Pr),Ir=[9,13,27,32],Fr=h&&"CompositionEvent"in window,jr=null;h&&"documentMode"in document&&(jr=document.documentMode);var Nr=h&&"TextEvent"in window&&!jr,Br=h&&(!Fr||jr&&8<jr&&11>=jr),Ur=String.fromCharCode(32),zr=!1;function Gr(t,e){switch(t){case"keyup":return-1!==Ir.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vr=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wr[t.type]:"textarea"===e}function Xr(t,e,r,n){Lt(n),0<(e=jn(e,"onChange")).length&&(r=new fr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qr=null,Kr=null;function $r(t){An(t,0)}function Qr(t){if(Q(ii(t)))return t}function Zr(t,e){if("change"===t)return e}var Jr=!1;if(h){var tn;if(h){var en="oninput"in document;if(!en){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),en="function"===typeof rn.oninput}tn=en}else tn=!1;Jr=tn&&(!document.documentMode||9<document.documentMode)}function nn(){qr&&(qr.detachEvent("onpropertychange",an),Kr=qr=null)}function an(t){if("value"===t.propertyName&&Qr(Kr)){var e=[];if(Xr(e,Kr,t,Ct(t)),t=$r,jt)t(e);else{jt=!0;try{Pt(t,e)}finally{jt=!1,Bt()}}}}function sn(t,e,r){"focusin"===t?(nn(),Kr=r,(qr=e).attachEvent("onpropertychange",an)):"focusout"===t&&nn()}function on(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qr(Kr)}function ln(t,e){if("click"===t)return Qr(e)}function cn(t,e){if("input"===t||"change"===t)return Qr(e)}var un="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},hn=Object.prototype.hasOwnProperty;function fn(t,e){if(un(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!hn.call(e,r[n])||!un(t[r[n]],e[r[n]]))return!1;return!0}function dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var r,n=dn(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=dn(n)}}function gn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?gn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mn(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=Z((t=e.contentWindow).document)}return e}function vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yn=h&&"documentMode"in document&&11>=document.documentMode,bn=null,_n=null,Tn=null,En=!1;function xn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;En||null==bn||bn!==Z(n)||("selectionStart"in(n=bn)&&vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Tn&&fn(Tn,n)||(Tn=n,0<(n=jn(_n,"onSelect")).length&&(e=new fr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bn)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(Me,2);for(var Sn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wn=0;wn<Sn.length;wn++)Pe.set(Sn[wn],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function kn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,a,o,l,c){if(Kt.apply(this,arguments),Vt){if(!Vt)throw Error(s(198));var u=Wt;Vt=!1,Wt=null,Yt||(Yt=!0,Xt=u)}}(n,e,void 0,t),t.currentTarget=null}function An(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break t;kn(i,o,c),a=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break t;kn(i,o,c),a=l}}}if(Yt)throw t=Xt,Yt=!1,Xt=null,t}function Dn(t,e){var r=si(e),n=t+"__bubble";r.has(n)||(Mn(e,t,2,!1),r.add(n))}var Ln="_reactListening"+Math.random().toString(36).slice(2);function Rn(t){t[Ln]||(t[Ln]=!0,o.forEach((function(e){On.has(e)||Pn(e,!1,t,null),Pn(e,!0,t,null)})))}function Pn(t,e,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=r;if("selectionchange"===t&&9!==r.nodeType&&(a=r.ownerDocument),null!==n&&!e&&On.has(t)){if("scroll"!==t)return;i|=2,a=n}var s=si(a),o=t+"__"+(e?"capture":"bubble");s.has(o)||(e&&(i|=4),Mn(a,t,i,e),s.add(o))}function Mn(t,e,r,n){var i=Pe.get(e);switch(void 0===i?2:i){case 0:i=$e;break;case 1:i=Qe;break;default:i=Ze}r=i.bind(null,e,r,t),i=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function In(t,e,r,n,i){var a=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=ri(o)))return;if(5===(l=s.tag)||6===l){n=a=s;continue t}o=o.parentNode}}n=n.return}!function(t,e,r){if(Nt)return t(e,r);Nt=!0;try{Ft(t,e,r)}finally{Nt=!1,Bt()}}((function(){var n=a,i=Ct(r),s=[];t:{var o=Re.get(t);if(void 0!==o){var l=fr,c=t;switch(t){case"keypress":if(0===ir(r))break t;case"keydown":case"keyup":l=Ar;break;case"focusin":c="focus",l=yr;break;case"focusout":c="blur",l=yr;break;case"beforeblur":case"afterblur":l=yr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Lr;break;case ke:case Ae:case De:l=br;break;case Le:l=Rr;break;case"scroll":l=pr;break;case"wheel":l=Mr;break;case"copy":case"cut":case"paste":l=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dr}var u=0!==(4&e),h=!u&&"scroll"===t,f=u?null!==o?o+"Capture":null:o;u=[];for(var d,p=n;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Ut(p,f))&&u.push(Fn(p,g,d)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,r,i),s.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=r.relatedTarget||r.fromElement)||!ri(c)&&!c[ti])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ri(c):null)&&(c!==(h=$t(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=mr,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Dr,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:ii(l),d=null==c?o:ii(c),(o=new u(g,p+"leave",l,r,i)).target=h,o.relatedTarget=d,g=null,ri(i)===n&&((u=new u(f,p+"enter",c,r,i)).target=d,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(f=c,p=0,d=u=l;d;d=Nn(d))p++;for(d=0,g=f;g;g=Nn(g))d++;for(;0<p-d;)u=Nn(u),p--;for(;0<d-p;)f=Nn(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break t;u=Nn(u),f=Nn(f)}u=null}else u=null;null!==l&&Bn(s,o,l,u,!1),null!==c&&null!==h&&Bn(s,h,c,u,!0)}if("select"===(l=(o=n?ii(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Zr;else if(Yr(o))if(Jr)m=cn;else{m=on;var v=sn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ln);switch(m&&(m=m(t,n))?Xr(s,m,r,i):(v&&v(t,o,n),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&it(o,"number",o.value)),v=n?ii(n):window,t){case"focusin":(Yr(v)||"true"===v.contentEditable)&&(bn=v,_n=n,Tn=null);break;case"focusout":Tn=_n=bn=null;break;case"mousedown":En=!0;break;case"contextmenu":case"mouseup":case"dragend":En=!1,xn(s,r,i);break;case"selectionchange":if(yn)break;case"keydown":case"keyup":xn(s,r,i)}var y;if(Fr)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vr?Gr(t,r)&&(b="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(b="onCompositionStart");b&&(Br&&"ko"!==r.locale&&(Vr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vr&&(y=nr()):(er="value"in(tr=i)?tr.value:tr.textContent,Vr=!0)),0<(v=jn(n,b)).length&&(b=new Er(b,t,null,r,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hr(r))&&(b.data=y))),(y=Nr?function(t,e){switch(t){case"compositionend":return Hr(e);case"keypress":return 32!==e.which?null:(zr=!0,Ur);case"textInput":return(t=e.data)===Ur&&zr?null:t;default:return null}}(t,r):function(t,e){if(Vr)return"compositionend"===t||!Fr&&Gr(t,e)?(t=nr(),rr=er=tr=null,Vr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Br&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=jn(n,"onBeforeInput")).length&&(i=new Er("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y))}An(s,e)}))}function Fn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ut(t,r))&&n.unshift(Fn(t,a,i)),null!=(a=Ut(t,e))&&n.push(Fn(t,a,i))),t=t.return}return n}function Nn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Bn(t,e,r,n,i){for(var a=e._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ut(r,a))&&s.unshift(Fn(r,l,o)):i||null!=(l=Ut(r,a))&&s.push(Fn(r,l,o))),r=r.return}0!==s.length&&t.push({event:e,listeners:s})}function Un(){}var zn=null,Gn=null;function Hn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Vn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Wn="function"===typeof setTimeout?setTimeout:void 0,Yn="function"===typeof clearTimeout?clearTimeout:void 0;function Xn(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function qn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var $n=0;var Qn=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Qn,Jn="__reactProps$"+Qn,ti="__reactContainer$"+Qn,ei="__reactEvents$"+Qn;function ri(t){var e=t[Zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ti]||r[Zn]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=Kn(t);null!==t;){if(r=t[Zn])return r;t=Kn(t)}return e}r=(t=r).parentNode}return null}function ni(t){return!(t=t[Zn]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function ai(t){return t[Jn]||null}function si(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var oi=[],li=-1;function ci(t){return{current:t}}function ui(t){0>li||(t.current=oi[li],oi[li]=null,li--)}function hi(t,e){li++,oi[li]=t.current,t.current=e}var fi={},di=ci(fi),pi=ci(!1),gi=fi;function mi(t,e){var r=t.type.contextTypes;if(!r)return fi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function vi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ui(pi),ui(di)}function bi(t,e,r){if(di.current!==fi)throw Error(s(168));hi(di,e),hi(pi,r)}function _i(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,X(e)||"Unknown",a));return i({},r,n)}function Ti(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,gi=di.current,hi(di,t),hi(pi,pi.current),!0}function Ei(t,e,r){var n=t.stateNode;if(!n)throw Error(s(169));r?(t=_i(t,e,gi),n.__reactInternalMemoizedMergedChildContext=t,ui(pi),ui(di),hi(di,t)):ui(pi),hi(pi,r)}var xi=null,Si=null,wi=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Oi=a.unstable_cancelCallback,ki=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Di=a.unstable_now,Li=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Mi=a.unstable_NormalPriority,Ii=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,ji={},Ni=void 0!==Ai?Ai:function(){},Bi=null,Ui=null,zi=!1,Gi=Di(),Hi=1e4>Gi?Di:function(){return Di()-Gi};function Vi(){switch(Li()){case Ri:return 99;case Pi:return 98;case Mi:return 97;case Ii:return 96;case Fi:return 95;default:throw Error(s(332))}}function Wi(t){switch(t){case 99:return Ri;case 98:return Pi;case 97:return Mi;case 96:return Ii;case 95:return Fi;default:throw Error(s(332))}}function Yi(t,e){return t=Wi(t),wi(t,e)}function Xi(t,e,r){return t=Wi(t),Ci(t,e,r)}function qi(){if(null!==Ui){var t=Ui;Ui=null,Oi(t)}Ki()}function Ki(){if(!zi&&null!==Bi){zi=!0;var t=0;try{var e=Bi;Yi(99,(function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}})),Bi=null}catch(r){throw null!==Bi&&(Bi=Bi.slice(t+1)),Ci(Ri,qi),r}finally{zi=!1}}}var $i=T.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var r in e=i({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var Zi=ci(null),Ji=null,ta=null,ea=null;function ra(){ea=ta=Ji=null}function na(t){var e=Zi.current;ui(Zi),t.type._context._currentValue=e}function ia(t,e){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)===e){if(null===r||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,null!==r&&(r.childLanes|=e);t=t.return}}function aa(t,e){Ji=t,ea=ta=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Fs=!0),t.firstContext=null)}function sa(t,e){if(ea!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ea=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ta){if(null===Ji)throw Error(s(308));ta=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else ta=ta.next=e;return t._currentValue}var oa=!1;function la(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ua(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ha(t,e){if(null!==(t=t.updateQueue)){var r=(t=t.shared).pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function fa(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?i=a=e:a=a.next=e}else i=a=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function da(t,e,r,n){var a=t.updateQueue;oa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===o?s=u:o.next=u,o=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==o&&(null===f?h.firstBaseUpdate=u:f.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(f=a.baseState,o=0,h=u=c=null;;){l=s.lane;var d=s.eventTime;if((n&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(l=e,d=r,g.tag){case 1:if("function"===typeof(p=g.payload)){f=p.call(d,f,l);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(d,f,l):p)||void 0===l)break t;f=i({},f,l);break t;case 2:oa=!0}}null!==s.callback&&(t.flags|=32,null===(l=a.effects)?a.effects=[s]:l.push(s))}else d={eventTime:d,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=d,c=f):h=h.next=d,o|=l;if(null===(s=s.next)){if(null===(l=a.shared.pending))break;s=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,zo|=o,t.lanes=o,t.memoizedState=f}}function pa(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var ga=(new n.Component).refs;function ma(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:i({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var va={isMounted:function(t){return!!(t=t._reactInternals)&&$t(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fl(),i=dl(t),a=ua(n,i);a.payload=e,void 0!==r&&null!==r&&(a.callback=r),ha(t,a),pl(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fl(),i=dl(t),a=ua(n,i);a.tag=1,a.payload=e,void 0!==r&&null!==r&&(a.callback=r),ha(t,a),pl(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fl(),n=dl(t),i=ua(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),ha(t,i),pl(t,n,r)}};function ya(t,e,r,n,i,a,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,a,s):!e.prototype||!e.prototype.isPureReactComponent||(!fn(r,n)||!fn(i,a))}function ba(t,e,r){var n=!1,i=fi,a=e.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=vi(e)?gi:di.current,a=(n=null!==(n=e.contextTypes)&&void 0!==n)?mi(t,i):fi),e=new e(r,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=va,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function _a(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&va.enqueueReplaceState(e,e.state,null)}function Ta(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=ga,la(t);var a=e.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=vi(e)?gi:di.current,i.context=mi(t,a)),da(t,r,i,n),i.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(ma(t,e,a,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&va.enqueueReplaceState(i,i.state,null),da(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var Ea=Array.isArray;function xa(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=n.refs;e===ga&&(e=n.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function Sa(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wa(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Yl(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags=2,r):n:(e.flags=2,r):r}function o(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,r,n){return null===e||6!==e.tag?((e=$l(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function c(t,e,r,n){return null!==e&&e.elementType===r.type?((n=i(e,r.props)).ref=xa(t,e,r),n.return=t,n):((n=Xl(r.type,r.key,r.props,null,t.mode,n)).ref=xa(t,e,r),n.return=t,n)}function u(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Ql(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function h(t,e,r,n,a){return null===e||7!==e.tag?((e=ql(r,t.mode,n,a)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e||"number"===typeof e)return(e=$l(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case E:return(r=Xl(e.type,e.key,e.props,null,t.mode,r)).ref=xa(t,null,e),r.return=t,r;case x:return(e=Ql(e,t.mode,r)).return=t,e}if(Ea(e)||G(e))return(e=ql(e,t.mode,r,null)).return=t,e;Sa(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return r.key===i?r.type===S?h(t,e,r.props.children,n,i):c(t,e,r,n):null;case x:return r.key===i?u(t,e,r,n):null}if(Ea(r)||G(r))return null!==i?null:h(t,e,r,n,null);Sa(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n||"number"===typeof n)return l(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return t=t.get(null===n.key?r:n.key)||null,n.type===S?h(e,t,n.props.children,i,n.key):c(e,t,n,i);case x:return u(e,t=t.get(null===n.key?r:n.key)||null,n,i)}if(Ea(n)||G(n))return h(e,t=t.get(r)||null,n,i,null);Sa(e,n)}return null}function g(i,s,o,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,o[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(i,h),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return r(i,h),c;if(null===h){for(;g<o.length;g++)null!==(h=f(i,o[g],l))&&(s=a(h,s,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=n(i,h);g<o.length;g++)null!==(m=p(h,i,g,o[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),c}function m(i,o,l,c){var u=G(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=o,m=o=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),o=a(b,o,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return r(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,c))&&(o=a(y,o,m),null===h?u=y:h.sibling=y,h=y);return u}for(g=n(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),o=a(y,o,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),u}return function(t,n,a,l){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case E:t:{for(u=a.key,c=n;null!==c;){if(c.key===u){if(7===c.tag){if(a.type===S){r(t,c.sibling),(n=i(c,a.props.children)).return=t,t=n;break t}}else if(c.elementType===a.type){r(t,c.sibling),(n=i(c,a.props)).ref=xa(t,c,a),n.return=t,t=n;break t}r(t,c);break}e(t,c),c=c.sibling}a.type===S?((n=ql(a.props.children,t.mode,l,a.key)).return=t,t=n):((l=Xl(a.type,a.key,a.props,null,t.mode,l)).ref=xa(t,n,a),l.return=t,t=l)}return o(t);case x:t:{for(c=a.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(t,n.sibling),(n=i(n,a.children||[])).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=Ql(a,t.mode,l)).return=t,t=n}return o(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(t,n.sibling),(n=i(n,a)).return=t,t=n):(r(t,n),(n=$l(a,t.mode,l)).return=t,t=n),o(t);if(Ea(a))return g(t,n,a,l);if(G(a))return m(t,n,a,l);if(u&&Sa(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,X(t.type)||"Component"))}return r(t,n)}}var Ca=wa(!0),Oa=wa(!1),ka={},Aa=ci(ka),Da=ci(ka),La=ci(ka);function Ra(t){if(t===ka)throw Error(s(174));return t}function Pa(t,e){switch(hi(La,e),hi(Da,t),hi(Aa,ka),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Aa),hi(Aa,e)}function Ma(){ui(Aa),ui(Da),ui(La)}function Ia(t){Ra(La.current);var e=Ra(Aa.current),r=pt(e,t.type);e!==r&&(hi(Da,t),hi(Aa,r))}function Fa(t){Da.current===t&&(ui(Aa),ui(Da))}var ja=ci(0);function Na(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ba=null,Ua=null,za=!1;function Ga(t,e){var r=Vl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Ha(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Va(t){if(za){var e=Ua;if(e){var r=e;if(!Ha(t,e)){if(!(e=qn(r.nextSibling))||!Ha(t,e))return t.flags=-1025&t.flags|2,za=!1,void(Ba=t);Ga(Ba,r)}Ba=t,Ua=qn(e.firstChild)}else t.flags=-1025&t.flags|2,za=!1,Ba=t}}function Wa(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ba=t}function Ya(t){if(t!==Ba)return!1;if(!za)return Wa(t),za=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Vn(e,t.memoizedProps))for(e=Ua;e;)Ga(t,e),e=qn(e.nextSibling);if(Wa(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){Ua=qn(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}Ua=null}}else Ua=Ba?qn(t.stateNode.nextSibling):null;return!0}function Xa(){Ua=Ba=null,za=!1}var qa=[];function Ka(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var $a=T.ReactCurrentDispatcher,Qa=T.ReactCurrentBatchConfig,Za=0,Ja=null,ts=null,es=null,rs=!1,ns=!1;function is(){throw Error(s(321))}function as(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!un(t[r],e[r]))return!1;return!0}function ss(t,e,r,n,i,a){if(Za=a,Ja=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$a.current=null===t||null===t.memoizedState?Rs:Ps,t=r(n,i),ns){a=0;do{if(ns=!1,!(25>a))throw Error(s(301));a+=1,es=ts=null,e.updateQueue=null,$a.current=Ms,t=r(n,i)}while(ns)}if($a.current=Ls,e=null!==ts&&null!==ts.next,Za=0,es=ts=Ja=null,rs=!1,e)throw Error(s(300));return t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===es?Ja.memoizedState=es=t:es=es.next=t,es}function ls(){if(null===ts){var t=Ja.alternate;t=null!==t?t.memoizedState:null}else t=ts.next;var e=null===es?Ja.memoizedState:es.next;if(null!==e)es=e,ts=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ts=t).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===es?Ja.memoizedState=es=t:es=es.next=t}return es}function cs(t,e){return"function"===typeof e?e(t):e}function us(t){var e=ls(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=ts,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=o=a=null,c=i;do{var u=c.lane;if((Za&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(o=l=h,a=n):l=l.next=h,Ja.lanes|=u,zo|=u}c=c.next}while(null!==c&&c!==i);null===l?a=n:l.next=o,un(n,e.memoizedState)||(Fs=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function hs(t){var e=ls(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{a=t(a,o.action),o=o.next}while(o!==i);un(a,e.memoizedState)||(Fs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function fs(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===n:(t=t.mutableReadLanes,(t=(Za&t)===t)&&(e._workInProgressVersionPrimary=n,qa.push(e))),t)return r(e._source);throw qa.push(e),Error(s(350))}function ds(t,e,r,n){var i=Po;if(null===i)throw Error(s(349));var a=e._getVersion,o=a(e._source),l=$a.current,c=l.useState((function(){return fs(i,e,r)})),u=c[1],h=c[0];c=es;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,g=f.source;f=f.subscribe;var m=Ja;return t.memoizedState={refs:d,source:e,subscribe:n},l.useEffect((function(){d.getSnapshot=r,d.setSnapshot=u;var t=a(e._source);if(!un(o,t)){t=r(e._source),un(h,t)||(u(t),t=dl(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var n=i.entanglements,s=t;0<s;){var l=31-Ve(s),c=1<<l;n[l]|=t,s&=~c}}}),[r,e,n]),l.useEffect((function(){return n(e._source,(function(){var t=d.getSnapshot,r=d.setSnapshot;try{r(t(e._source));var n=dl(m);i.mutableReadLanes|=n&i.pendingLanes}catch(a){r((function(){throw a}))}}))}),[e,n]),un(p,r)&&un(g,e)&&un(f,n)||((t={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:h}).dispatch=u=Ds.bind(null,Ja,t),c.queue=t,c.baseQueue=null,h=fs(i,e,r),c.memoizedState=c.baseState=h),h}function ps(t,e,r){return ds(ls(),t,e,r)}function gs(t){var e=os();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t}).dispatch=Ds.bind(null,Ja,t),[e.memoizedState,t]}function ms(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=Ja.updateQueue)?(e={lastEffect:null},Ja.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function vs(t){return t={current:t},os().memoizedState=t}function ys(){return ls().memoizedState}function bs(t,e,r,n){var i=os();Ja.flags|=t,i.memoizedState=ms(1|e,r,void 0,void 0===n?null:n)}function _s(t,e,r,n){var i=ls();n=void 0===n?null:n;var a=void 0;if(null!==ts){var s=ts.memoizedState;if(a=s.destroy,null!==n&&as(n,s.deps))return void ms(e,r,a,n)}Ja.flags|=t,i.memoizedState=ms(1|e,r,a,n)}function Ts(t,e){return bs(516,4,t,e)}function Es(t,e){return _s(516,4,t,e)}function xs(t,e){return _s(4,2,t,e)}function Ss(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ws(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,_s(4,2,Ss.bind(null,e,t),r)}function Cs(){}function Os(t,e){var r=ls();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&as(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ks(t,e){var r=ls();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&as(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function As(t,e){var r=Vi();Yi(98>r?98:r,(function(){t(!0)})),Yi(97<r?97:r,(function(){var r=Qa.transition;Qa.transition=1;try{t(!1),e()}finally{Qa.transition=r}}))}function Ds(t,e,r){var n=fl(),i=dl(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(null===s?a.next=a:(a.next=s.next,s.next=a),e.pending=a,s=t.alternate,t===Ja||null!==s&&s===Ja)ns=rs=!0;else{if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,l=s(o,r);if(a.eagerReducer=s,a.eagerState=l,un(l,o))return}catch(c){}pl(t,i,n)}}var Ls={readContext:sa,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Rs={readContext:sa,useCallback:function(t,e){return os().memoizedState=[t,void 0===e?null:e],t},useContext:sa,useEffect:Ts,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,bs(4,2,Ss.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bs(4,2,t,e)},useMemo:function(t,e){var r=os();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=os();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ds.bind(null,Ja,t),[n.memoizedState,t]},useRef:vs,useState:gs,useDebugValue:Cs,useDeferredValue:function(t){var e=gs(t),r=e[0],n=e[1];return Ts((function(){var e=Qa.transition;Qa.transition=1;try{n(t)}finally{Qa.transition=e}}),[t]),r},useTransition:function(){var t=gs(!1),e=t[0];return vs(t=As.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,r){var n=os();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},ds(n,t,e,r)},useOpaqueIdentifier:function(){if(za){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,r("r:"+($n++).toString(36))),Error(s(355))})),r=gs(e)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,ms(5,(function(){r("r:"+($n++).toString(36))}),void 0,null)),e}return gs(e="r:"+($n++).toString(36)),e},unstable_isNewReconciler:!1},Ps={readContext:sa,useCallback:Os,useContext:sa,useEffect:Es,useImperativeHandle:ws,useLayoutEffect:xs,useMemo:ks,useReducer:us,useRef:ys,useState:function(){return us(cs)},useDebugValue:Cs,useDeferredValue:function(t){var e=us(cs),r=e[0],n=e[1];return Es((function(){var e=Qa.transition;Qa.transition=1;try{n(t)}finally{Qa.transition=e}}),[t]),r},useTransition:function(){var t=us(cs)[0];return[ys().current,t]},useMutableSource:ps,useOpaqueIdentifier:function(){return us(cs)[0]},unstable_isNewReconciler:!1},Ms={readContext:sa,useCallback:Os,useContext:sa,useEffect:Es,useImperativeHandle:ws,useLayoutEffect:xs,useMemo:ks,useReducer:hs,useRef:ys,useState:function(){return hs(cs)},useDebugValue:Cs,useDeferredValue:function(t){var e=hs(cs),r=e[0],n=e[1];return Es((function(){var e=Qa.transition;Qa.transition=1;try{n(t)}finally{Qa.transition=e}}),[t]),r},useTransition:function(){var t=hs(cs)[0];return[ys().current,t]},useMutableSource:ps,useOpaqueIdentifier:function(){return hs(cs)[0]},unstable_isNewReconciler:!1},Is=T.ReactCurrentOwner,Fs=!1;function js(t,e,r,n){e.child=null===t?Oa(e,null,r,n):Ca(e,t.child,r,n)}function Ns(t,e,r,n,i){r=r.render;var a=e.ref;return aa(e,i),n=ss(t,e,r,n,a,i),null===t||Fs?(e.flags|=1,js(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,io(t,e,i))}function Bs(t,e,r,n,i,a){if(null===t){var s=r.type;return"function"!==typeof s||Wl(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Xl(r.type,null,n,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Us(t,e,s,n,i,a))}return s=t.child,0===(i&a)&&(i=s.memoizedProps,(r=null!==(r=r.compare)?r:fn)(i,n)&&t.ref===e.ref)?io(t,e,a):(e.flags|=1,(t=Yl(s,n)).ref=e.ref,t.return=e,e.child=t)}function Us(t,e,r,n,i,a){if(null!==t&&fn(t.memoizedProps,n)&&t.ref===e.ref){if(Fs=!1,0===(a&i))return e.lanes=t.lanes,io(t,e,a);0!==(16384&t.flags)&&(Fs=!0)}return Hs(t,e,r,n,a)}function zs(t,e,r){var n=e.pendingProps,i=n.children,a=null!==t?t.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},El(e,r);else{if(0===(1073741824&r))return t=null!==a?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},El(e,t),null;e.memoizedState={baseLanes:0},El(e,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,e.memoizedState=null):n=r,El(e,n);return js(t,e,i,r),e.child}function Gs(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=128)}function Hs(t,e,r,n,i){var a=vi(r)?gi:di.current;return a=mi(e,a),aa(e,i),r=ss(t,e,r,n,a,i),null===t||Fs?(e.flags|=1,js(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,io(t,e,i))}function Vs(t,e,r,n,i){if(vi(r)){var a=!0;Ti(e)}else a=!1;if(aa(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),ba(e,r,n),Ta(e,r,n,i),n=!0;else if(null===t){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=sa(c):c=mi(e,c=vi(r)?gi:di.current);var u=r.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==c)&&_a(e,s,n,c),oa=!1;var f=e.memoizedState;s.state=f,da(e,n,s,i),l=e.memoizedState,o!==n||f!==l||pi.current||oa?("function"===typeof u&&(ma(e,r,u,n),l=e.memoizedState),(o=oa||ya(e,r,o,n,f,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4)):("function"===typeof s.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"===typeof s.componentDidMount&&(e.flags|=4),n=!1)}else{s=e.stateNode,ca(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Qi(e.type,o),s.props=c,h=e.pendingProps,f=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=sa(l):l=mi(e,l=vi(r)?gi:di.current);var d=r.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||f!==l)&&_a(e,s,n,l),oa=!1,f=e.memoizedState,s.state=f,da(e,n,s,i);var p=e.memoizedState;o!==h||f!==p||pi.current||oa?("function"===typeof d&&(ma(e,r,d,n),p=e.memoizedState),(c=oa||ya(e,r,c,n,f,p,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof s.componentDidUpdate||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),n=!1)}return Ws(t,e,r,n,a,i)}function Ws(t,e,r,n,i,a){Gs(t,e);var s=0!==(64&e.flags);if(!n&&!s)return i&&Ei(e,r,!1),io(t,e,a);n=e.stateNode,Is.current=e;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&s?(e.child=Ca(e,t.child,null,a),e.child=Ca(e,null,o,a)):js(t,e,o,a),e.memoizedState=n.state,i&&Ei(e,r,!0),e.child}function Ys(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Pa(t,e.containerInfo)}var Xs,qs,Ks,$s={dehydrated:null,retryLane:0};function Qs(t,e,r){var n,i=e.pendingProps,a=ja.current,s=!1;return(n=0!==(64&e.flags))||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(s=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(ja,1&a),null===t?(void 0!==i.fallback&&Va(e),t=i.children,a=i.fallback,s?(t=Zs(e,t,a,r),e.child.memoizedState={baseLanes:r},e.memoizedState=$s,t):"number"===typeof i.unstable_expectedLoadTime?(t=Zs(e,t,a,r),e.child.memoizedState={baseLanes:r},e.memoizedState=$s,e.lanes=33554432,t):((r=Kl({mode:"visible",children:t},e.mode,r,null)).return=e,e.child=r)):(t.memoizedState,s?(i=to(t,e,i.children,i.fallback,r),s=e.child,a=t.child.memoizedState,s.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=$s,i):(r=Js(t,e,i.children,r),e.memoizedState=null,r))}function Zs(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=e):a=Kl(e,i,0,null),r=ql(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function Js(t,e,r,n){var i=t.child;return t=i.sibling,r=Yl(i,{mode:"visible",children:r}),0===(2&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function to(t,e,r,n,i){var a=e.mode,s=t.child;t=s.sibling;var o={mode:"hidden",children:r};return 0===(2&a)&&e.child!==s?((r=e.child).childLanes=0,r.pendingProps=o,null!==(s=r.lastEffect)?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Yl(s,o),null!==t?n=Yl(t,n):(n=ql(n,a,i,null)).flags|=2,n.return=e,r.return=e,r.sibling=n,e.child=r,n}function eo(t,e){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),ia(t.return,e)}function ro(t,e,r,n,i,a){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=a)}function no(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(js(t,e,n.children,r),0!==(2&(n=ja.current)))n=1&n|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&eo(t,r);else if(19===t.tag)eo(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(hi(ja,n),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===Na(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ro(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Na(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ro(e,!0,r,null,a,e.lastEffect);break;case"together":ro(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function io(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),zo|=e.lanes,0!==(r&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(r=Yl(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Yl(t,t.pendingProps)).return=e;r.sibling=null}return e.child}return null}function ao(t,e){if(!za)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function so(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(e.type)&&yi(),null;case 3:return Ma(),ui(pi),ui(di),Ka(),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(Ya(e)?e.flags|=4:n.hydrate||(e.flags|=256)),null;case 5:Fa(e);var a=Ra(La.current);if(r=e.type,null!==t&&null!=e.stateNode)qs(t,e,r,n),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(null===e.stateNode)throw Error(s(166));return null}if(t=Ra(Aa.current),Ya(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Zn]=e,n[Jn]=o,r){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(t=0;t<Cn.length;t++)Dn(Cn[t],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":tt(n,o),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dn("invalid",n);break;case"textarea":lt(n,o),Dn("invalid",n)}for(var c in St(r,o),t=null,o)o.hasOwnProperty(c)&&(a=o[c],"children"===c?"string"===typeof a?n.textContent!==a&&(t=["children",a]):"number"===typeof a&&n.textContent!==""+a&&(t=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Dn("scroll",n));switch(r){case"input":$(n),nt(n,o,!0);break;case"textarea":$(n),ut(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Un)}n=t,e.updateQueue=n,null!==n&&(e.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,t===ht&&(t=dt(r)),t===ht?"script"===r?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=c.createElement(r,{is:n.is}):(t=c.createElement(r),"select"===r&&(c=t,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):t=c.createElementNS(t,r),t[Zn]=e,t[Jn]=n,Xs(t,e),e.stateNode=t,c=wt(r,n),r){case"dialog":Dn("cancel",t),Dn("close",t),a=n;break;case"iframe":case"object":case"embed":Dn("load",t),a=n;break;case"video":case"audio":for(a=0;a<Cn.length;a++)Dn(Cn[a],t);a=n;break;case"source":Dn("error",t),a=n;break;case"img":case"image":case"link":Dn("error",t),Dn("load",t),a=n;break;case"details":Dn("toggle",t),a=n;break;case"input":tt(t,n),a=J(t,n),Dn("invalid",t);break;case"option":a=at(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=i({},n,{value:void 0}),Dn("invalid",t);break;case"textarea":lt(t,n),a=ot(t,n),Dn("invalid",t);break;default:a=n}St(r,a);var u=a;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];"style"===o?Et(t,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&vt(t,h):"children"===o?"string"===typeof h?("textarea"!==r||""!==h)&&yt(t,h):"number"===typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=h&&"onScroll"===o&&Dn("scroll",t):null!=h&&_(t,o,h,c))}switch(r){case"input":$(t),nt(t,n,!1);break;case"textarea":$(t),ut(t);break;case"option":null!=n.value&&t.setAttribute("value",""+q(n.value));break;case"select":t.multiple=!!n.multiple,null!=(o=n.value)?st(t,!!n.multiple,o,!1):null!=n.defaultValue&&st(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=Un)}Hn(r,n)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ks(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));r=Ra(La.current),Ra(Aa.current),Ya(e)?(n=e.stateNode,r=e.memoizedProps,n[Zn]=e,n.nodeValue!==r&&(e.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Zn]=e,e.stateNode=n)}return null;case 13:return ui(ja),n=e.memoizedState,0!==(64&e.flags)?(e.lanes=r,e):(n=null!==n,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ya(e):r=null!==t.memoizedState,n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===No&&(No=3):(0!==No&&3!==No||(No=4),null===Po||0===(134217727&zo)&&0===(134217727&Go)||yl(Po,Io))),(n||r)&&(e.flags|=4),null);case 4:return Ma(),null===t&&Rn(e.stateNode.containerInfo),null;case 10:return na(e),null;case 19:if(ui(ja),null===(n=e.memoizedState))return null;if(o=0!==(64&e.flags),null===(c=n.rendering))if(o)ao(n,!1);else{if(0!==No||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Na(t))){for(e.flags|=64,ao(n,!1),null!==(o=c.updateQueue)&&(e.updateQueue=o,e.flags|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;null!==r;)t=n,(o=r).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return hi(ja,1&ja.current|2),e.child}t=t.sibling}null!==n.tail&&Hi()>Yo&&(e.flags|=64,o=!0,ao(n,!1),e.lanes=33554432)}else{if(!o)if(null!==(t=Na(c))){if(e.flags|=64,o=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),ao(n,!0),null===n.tail&&"hidden"===n.tailMode&&!c.alternate&&!za)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Hi()-n.renderingStartTime>Yo&&1073741824!==r&&(e.flags|=64,o=!0,ao(n,!1),e.lanes=33554432);n.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=n.last)?r.sibling=c:e.child=c,n.last=c)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Hi(),r.sibling=null,e=ja.current,hi(ja,o?1&e|2:1&e),r):null;case 23:case 24:return xl(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(e.flags|=4),null}throw Error(s(156,e.tag))}function oo(t){switch(t.tag){case 1:vi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Ma(),ui(pi),ui(di),Ka(),0!==(64&(e=t.flags)))throw Error(s(285));return t.flags=-4097&e|64,t;case 5:return Fa(t),null;case 13:return ui(ja),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(ja),null;case 4:return Ma(),null;case 10:return na(t),null;case 23:case 24:return xl(),null;default:return null}}function lo(t,e){try{var r="",n=e;do{r+=Y(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:i}}function co(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}Xs=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},qs=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ra(Aa.current);var s,o=null;switch(r){case"input":a=J(t,a),n=J(t,n),o=[];break;case"option":a=at(t,a),n=at(t,n),o=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),o=[];break;case"textarea":a=ot(t,a),n=ot(t,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(t.onclick=Un)}for(h in St(r,n),r=null,a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var u=n[h];if(c=null!=a?a[h]:void 0,n.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(o||(o=[]),o.push(h,r)),r=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Dn("scroll",t),o||c===u||(o=[])):"object"===typeof u&&null!==u&&u.$$typeof===I?u.toString():(o=o||[]).push(h,u))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}},Ks=function(t,e,r,n){r!==n&&(e.flags|=4)};var uo="function"===typeof WeakMap?WeakMap:Map;function ho(t,e,r){(r=ua(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$o||($o=!0,Qo=n),co(0,e)},r}function fo(t,e,r){(r=ua(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return co(0,e),n(i)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Zo?Zo=new Set([this]):Zo.add(this),co(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}var po="function"===typeof WeakSet?WeakSet:Set;function go(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(r){Ul(t,r)}else e.current=null}function mo(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var r=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:Qi(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Xn(e.stateNode.containerInfo))}throw Error(s(163))}function vo(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=r.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=r.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(r,t),Fl(r,t)),t=n}while(t!==e)}return;case 1:return t=r.stateNode,4&r.flags&&(null===e?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Qi(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=r.updateQueue)&&pa(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:case 1:t=r.child.stateNode}pa(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.flags&&Hn(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ee(r)))))}throw Error(s(163))}function yo(t,e){for(var r=t;;){if(5===r.tag){var n=r.stateNode;if(e)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=Tt("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===t)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function bo(t,e){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,e)}catch(a){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))jl(e,r);else{n=e;try{i()}catch(a){Ul(n,a)}}r=r.next}while(r!==t)}break;case 1:if(go(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){Ul(e,a)}break;case 5:go(e);break;case 4:wo(t,e)}}function _o(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function To(t){return 5===t.tag||3===t.tag||4===t.tag}function Eo(t){t:{for(var e=t.return;null!==e;){if(To(e))break t;e=e.return}throw Error(s(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(s(161))}16&r.flags&&(yt(e,""),r.flags&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||To(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break t}}n?xo(t,r,e):So(t,r,e)}function xo(t,e,r){var n=t.tag,i=5===n||6===n;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Un));else if(4!==n&&null!==(t=t.child))for(xo(t,e,r),t=t.sibling;null!==t;)xo(t,e,r),t=t.sibling}function So(t,e,r){var n=t.tag,i=5===n||6===n;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(So(t,e,r),t=t.sibling;null!==t;)So(t,e,r),t=t.sibling}function wo(t,e){for(var r,n,i=e,a=!1;;){if(!a){a=i.return;t:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break t;case 3:case 4:r=r.containerInfo,n=!0;break t}a=a.return}a=!0}if(5===i.tag||6===i.tag){t:for(var o=t,l=i,c=l;;)if(bo(o,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(o=r,l=i.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(bo(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Co(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(t=n.destroy,n.destroy=void 0,void 0!==t&&t()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=e.stateNode)){n=e.memoizedProps;var i=null!==t?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(r[Jn]=n,"input"===t&&"radio"===n.type&&null!=n.name&&et(r,n),wt(t,i),e=wt(t,n),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?Et(r,l):"dangerouslySetInnerHTML"===o?vt(r,l):"children"===o?yt(r,l):_(r,o,l,e)}switch(t){case"input":rt(r,n);break;case"textarea":ct(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?st(r,!!n.multiple,a,!1):t!==!!n.multiple&&(null!=n.defaultValue?st(r,!!n.multiple,n.defaultValue,!0):st(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((r=e.stateNode).hydrate&&(r.hydrate=!1,Ee(r.containerInfo)));case 13:return null!==e.memoizedState&&(Wo=Hi(),yo(e.child,!0)),void Oo(e);case 19:return void Oo(e);case 23:case 24:return void yo(e,null!==e.memoizedState)}throw Error(s(163))}function Oo(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new po),e.forEach((function(e){var n=Gl.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function ko(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ao=Math.ceil,Do=T.ReactCurrentDispatcher,Lo=T.ReactCurrentOwner,Ro=0,Po=null,Mo=null,Io=0,Fo=0,jo=ci(0),No=0,Bo=null,Uo=0,zo=0,Go=0,Ho=0,Vo=null,Wo=0,Yo=1/0;function Xo(){Yo=Hi()+500}var qo,Ko=null,$o=!1,Qo=null,Zo=null,Jo=!1,tl=null,el=90,rl=[],nl=[],il=null,al=0,sl=null,ol=-1,ll=0,cl=0,ul=null,hl=!1;function fl(){return 0!==(48&Ro)?Hi():-1!==ol?ol:ol=Hi()}function dl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Vi()?1:2;if(0===ll&&(ll=Uo),0!==$i.transition){0!==cl&&(cl=null!==Vo?Vo.pendingLanes:0),t=ll;var e=4186112&~cl;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Vi(),0!==(4&Ro)&&98===t?t=Ue(12,ll):t=Ue(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ll),t}function pl(t,e,r){if(50<al)throw al=0,sl=null,Error(s(185));if(null===(t=gl(t,e)))return null;He(t,e,r),t===Po&&(Go|=e,4===No&&yl(t,Io));var n=Vi();1===e?0!==(8&Ro)&&0===(48&Ro)?bl(t):(ml(t,r),0===Ro&&(Xo(),qi())):(0===(4&Ro)||98!==n&&99!==n||(null===il?il=new Set([t]):il.add(t)),ml(t,r)),Vo=t}function gl(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}function ml(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ve(o),c=1<<l,u=a[l];if(-1===u){if(0===(c&n)||0!==(c&i)){u=e,je(c);var h=Fe;a[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);o&=~c}if(n=Ne(t,t===Po?Io:0),e=Fe,0===n)null!==r&&(r!==ji&&Oi(r),t.callbackNode=null,t.callbackPriority=0);else{if(null!==r){if(t.callbackPriority===e)return;r!==ji&&Oi(r)}15===e?(r=bl.bind(null,t),null===Bi?(Bi=[r],Ui=Ci(Ri,Ki)):Bi.push(r),r=ji):14===e?r=Xi(99,bl.bind(null,t)):(r=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,t))}}(e),r=Xi(r,vl.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function vl(t){if(ol=-1,cl=ll=0,0!==(48&Ro))throw Error(s(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var r=Ne(t,t===Po?Io:0);if(0===r)return null;var n=r,i=Ro;Ro|=16;var a=Cl();for(Po===t&&Io===n||(Xo(),Sl(t,n));;)try{Al();break}catch(l){wl(t,l)}if(ra(),Do.current=a,Ro=i,null!==Mo?n=0:(Po=null,Io=0,n=No),0!==(Uo&Go))Sl(t,0);else if(0!==n){if(2===n&&(Ro|=64,t.hydrate&&(t.hydrate=!1,Xn(t.containerInfo)),0!==(r=Be(t))&&(n=Ol(t,r))),1===n)throw e=Bo,Sl(t,0),yl(t,r),ml(t,Hi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(s(345));case 2:case 5:Rl(t);break;case 3:if(yl(t,r),(62914560&r)===r&&10<(n=Wo+500-Hi())){if(0!==Ne(t,0))break;if(((i=t.suspendedLanes)&r)!==r){fl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wn(Rl.bind(null,t),n);break}Rl(t);break;case 4:if(yl(t,r),(4186112&r)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Ve(r);a=1<<o,(o=n[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Hi()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ao(r/1960))-r)){t.timeoutHandle=Wn(Rl.bind(null,t),r);break}Rl(t);break;default:throw Error(s(329))}}return ml(t,Hi()),t.callbackNode===e?vl.bind(null,t):null}function yl(t,e){for(e&=~Ho,e&=~Go,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ve(e),n=1<<r;t[r]=-1,e&=~n}}function bl(t){if(0!==(48&Ro))throw Error(s(327));if(Il(),t===Po&&0!==(t.expiredLanes&Io)){var e=Io,r=Ol(t,e);0!==(Uo&Go)&&(r=Ol(t,e=Ne(t,e)))}else r=Ol(t,e=Ne(t,0));if(0!==t.tag&&2===r&&(Ro|=64,t.hydrate&&(t.hydrate=!1,Xn(t.containerInfo)),0!==(e=Be(t))&&(r=Ol(t,e))),1===r)throw r=Bo,Sl(t,0),yl(t,e),ml(t,Hi()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t),ml(t,Hi()),null}function _l(t,e){var r=Ro;Ro|=1;try{return t(e)}finally{0===(Ro=r)&&(Xo(),qi())}}function Tl(t,e){var r=Ro;Ro&=-2,Ro|=8;try{return t(e)}finally{0===(Ro=r)&&(Xo(),qi())}}function El(t,e){hi(jo,Fo),Fo|=e,Uo|=e}function xl(){Fo=jo.current,ui(jo)}function Sl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,Yn(r)),null!==Mo)for(r=Mo.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&yi();break;case 3:Ma(),ui(pi),ui(di),Ka();break;case 5:Fa(n);break;case 4:Ma();break;case 13:case 19:ui(ja);break;case 10:na(n);break;case 23:case 24:xl()}r=r.return}Po=t,Mo=Yl(t.current,null),Io=Fo=Uo=e,No=0,Bo=null,Ho=Go=zo=0}function wl(t,e){for(;;){var r=Mo;try{if(ra(),$a.current=Ls,rs){for(var n=Ja.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}rs=!1}if(Za=0,es=ts=Ja=null,ns=!1,Lo.current=null,null===r||null===r.return){No=1,Bo=e,Mo=null;break}t:{var a=t,s=r.return,o=r,l=e;if(e=Io,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.lanes=u.lanes):(o.updateQueue=null,o.memoizedState=null)}var h=0!==(1&ja.current),f=s;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=f.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(c),f.updateQueue=v}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=ua(-1,1);y.tag=2,ha(o,y)}o.lanes|=1;break t}l=void 0,o=e;var b=a.pingCache;if(null===b?(b=a.pingCache=new uo,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(o)){l.add(o);var _=zl.bind(null,a,c,o);c.then(_,_)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);l=Error((X(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==No&&(No=2),l=lo(l,o),f=s;do{switch(f.tag){case 3:a=l,f.flags|=4096,e&=-e,f.lanes|=e,fa(f,ho(0,a,e));break t;case 1:a=l;var T=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof T.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Zo||!Zo.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,fa(f,fo(f,a,e));break t}}f=f.return}while(null!==f)}Ll(r)}catch(x){e=x,Mo===r&&null!==r&&(Mo=r=r.return);continue}break}}function Cl(){var t=Do.current;return Do.current=Ls,null===t?Ls:t}function Ol(t,e){var r=Ro;Ro|=16;var n=Cl();for(Po===t&&Io===e||Sl(t,e);;)try{kl();break}catch(i){wl(t,i)}if(ra(),Ro=r,Do.current=n,null!==Mo)throw Error(s(261));return Po=null,Io=0,No}function kl(){for(;null!==Mo;)Dl(Mo)}function Al(){for(;null!==Mo&&!ki();)Dl(Mo)}function Dl(t){var e=qo(t.alternate,t,Fo);t.memoizedProps=t.pendingProps,null===e?Ll(t):Mo=e,Lo.current=null}function Ll(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(r=so(r,e,Fo)))return void(Mo=r);if(24!==(r=e).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Fo)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(r=oo(e)))return r.flags&=2047,void(Mo=r);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Mo=e);Mo=e=t}while(null!==e);0===No&&(No=5)}function Rl(t){var e=Vi();return Yi(99,Pl.bind(null,t,e)),null}function Pl(t,e){do{Il()}while(null!==tl);if(0!==(48&Ro))throw Error(s(327));var r=t.finishedWork;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<a;){var c=31-Ve(a),u=1<<c;i[c]=0,o[c]=-1,l[c]=-1,a&=~u}if(null!==il&&0===(24&n)&&il.has(t)&&il.delete(t),t===Po&&(Mo=Po=null,Io=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Ro,Ro|=32,Lo.current=null,zn=Ke,vn(o=mn())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else t:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,a=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(C){l=null;break t}var h=0,f=-1,d=-1,p=0,g=0,m=o,v=null;e:for(;;){for(var y;m!==l||0!==a&&3!==m.nodeType||(f=h+a),m!==c||0!==u&&3!==m.nodeType||(d=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===o)break e;if(v===l&&++p===a&&(f=h),v===c&&++g===u&&(d=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Gn={focusedElem:o,selectionRange:l},Ke=!1,ul=null,hl=!1,Ko=n;do{try{Ml()}catch(C){if(null===Ko)throw Error(s(330));Ul(Ko,C),Ko=Ko.nextEffect}}while(null!==Ko);ul=null,Ko=n;do{try{for(o=t;null!==Ko;){var b=Ko.flags;if(16&b&&yt(Ko.stateNode,""),128&b){var _=Ko.alternate;if(null!==_){var T=_.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&b){case 2:Eo(Ko),Ko.flags&=-3;break;case 6:Eo(Ko),Ko.flags&=-3,Co(Ko.alternate,Ko);break;case 1024:Ko.flags&=-1025;break;case 1028:Ko.flags&=-1025,Co(Ko.alternate,Ko);break;case 4:Co(Ko.alternate,Ko);break;case 8:wo(o,l=Ko);var E=l.alternate;_o(l),null!==E&&_o(E)}Ko=Ko.nextEffect}}catch(C){if(null===Ko)throw Error(s(330));Ul(Ko,C),Ko=Ko.nextEffect}}while(null!==Ko);if(T=Gn,_=mn(),b=T.focusedElem,o=T.selectionRange,_!==b&&b&&b.ownerDocument&&gn(b.ownerDocument.documentElement,b)){null!==o&&vn(b)&&(_=o.start,void 0===(T=o.end)&&(T=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(T,b.value.length)):(T=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(T=T.getSelection(),l=b.textContent.length,E=Math.min(o.start,l),o=void 0===o.end?E:Math.min(o.end,l),!T.extend&&E>o&&(l=o,o=E,E=l),l=pn(b,E),a=pn(b,o),l&&a&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==a.node||T.focusOffset!==a.offset)&&((_=_.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),E>o?(T.addRange(_),T.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),T.addRange(_))))),_=[];for(T=b;T=T.parentNode;)1===T.nodeType&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(T=_[b]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Ke=!!zn,Gn=zn=null,t.current=r,Ko=n;do{try{for(b=t;null!==Ko;){var x=Ko.flags;if(36&x&&vo(b,Ko.alternate,Ko),128&x){_=void 0;var S=Ko.ref;if(null!==S){var w=Ko.stateNode;Ko.tag,_=w,"function"===typeof S?S(_):S.current=_}}Ko=Ko.nextEffect}}catch(C){if(null===Ko)throw Error(s(330));Ul(Ko,C),Ko=Ko.nextEffect}}while(null!==Ko);Ko=null,Ni(),Ro=i}else t.current=r;if(Jo)Jo=!1,tl=t,el=e;else for(Ko=n;null!==Ko;)e=Ko.nextEffect,Ko.nextEffect=null,8&Ko.flags&&((x=Ko).sibling=null,x.stateNode=null),Ko=e;if(0===(n=t.pendingLanes)&&(Zo=null),1===n?t===sl?al++:(al=0,sl=t):al=0,r=r.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,r,void 0,64===(64&r.current.flags))}catch(C){}if(ml(t,Hi()),$o)throw $o=!1,t=Qo,Qo=null,t;return 0!==(8&Ro)||qi(),null}function Ml(){for(;null!==Ko;){var t=Ko.alternate;hl||null===ul||(0!==(8&Ko.flags)?te(Ko,ul)&&(hl=!0):13===Ko.tag&&ko(t,Ko)&&te(Ko,ul)&&(hl=!0));var e=Ko.flags;0!==(256&e)&&mo(t,Ko),0===(512&e)||Jo||(Jo=!0,Xi(97,(function(){return Il(),null}))),Ko=Ko.nextEffect}}function Il(){if(90!==el){var t=97<el?97:el;return el=90,Yi(t,Nl)}return!1}function Fl(t,e){rl.push(e,t),Jo||(Jo=!0,Xi(97,(function(){return Il(),null})))}function jl(t,e){nl.push(e,t),Jo||(Jo=!0,Xi(97,(function(){return Il(),null})))}function Nl(){if(null===tl)return!1;var t=tl;if(tl=null,0!==(48&Ro))throw Error(s(331));var e=Ro;Ro|=32;var r=nl;nl=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===a)throw Error(s(330));Ul(a,c)}}for(r=rl,rl=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===a)throw Error(s(330));Ul(a,c)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Ro=e,qi(),!0}function Bl(t,e,r){ha(t,e=ho(0,e=lo(r,e),1)),e=fl(),null!==(t=gl(t,1))&&(He(t,1,e),ml(t,e))}function Ul(t,e){if(3===t.tag)Bl(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){Bl(r,t,e);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zo||!Zo.has(n))){var i=fo(r,t=lo(e,t),1);if(ha(r,i),i=fl(),null!==(r=gl(r,1)))He(r,1,i),ml(r,i);else if("function"===typeof n.componentDidCatch&&(null===Zo||!Zo.has(n)))try{n.componentDidCatch(e,t)}catch(a){}break}}r=r.return}}function zl(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=fl(),t.pingedLanes|=t.suspendedLanes&r,Po===t&&(Io&r)===r&&(4===No||3===No&&(62914560&Io)===Io&&500>Hi()-Wo?Sl(t,0):Ho|=r),ml(t,e)}function Gl(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Vi()?1:2:(0===ll&&(ll=Uo),0===(e=ze(62914560&~ll))&&(e=4194304))),r=fl(),null!==(t=gl(t,e))&&(He(t,e,r),ml(t,r))}function Hl(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(t,e,r,n){return new Hl(t,e,r,n)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Yl(t,e){var r=t.alternate;return null===r?((r=Vl(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xl(t,e,r,n,i,a){var o=2;if(n=t,"function"===typeof t)Wl(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case S:return ql(r.children,i,a,e);case F:o=8,i|=16;break;case w:o=8,i|=1;break;case C:return(t=Vl(12,r,e,8|i)).elementType=C,t.type=C,t.lanes=a,t;case D:return(t=Vl(13,r,e,i)).type=D,t.elementType=D,t.lanes=a,t;case L:return(t=Vl(19,r,e,i)).elementType=L,t.lanes=a,t;case j:return Kl(r,i,a,e);case N:return(t=Vl(24,r,e,i)).elementType=N,t.lanes=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:o=10;break t;case k:o=9;break t;case A:o=11;break t;case R:o=14;break t;case P:o=16,n=null;break t;case M:o=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Vl(o,r,e,i)).elementType=t,e.type=n,e.lanes=a,e}function ql(t,e,r,n){return(t=Vl(7,t,n,e)).lanes=r,t}function Kl(t,e,r,n){return(t=Vl(23,t,n,e)).elementType=j,t.lanes=r,t}function $l(t,e,r){return(t=Vl(6,t,null,e)).lanes=r,t}function Ql(t,e,r){return(e=Vl(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zl(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ge(0),this.expirationTimes=Ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.mutableSourceEagerHydrationData=null}function Jl(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function tc(t,e,r,n){var i=e.current,a=fl(),o=dl(i);t:if(r){e:{if($t(r=r._reactInternals)!==r||1!==r.tag)throw Error(s(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===r.tag){var c=r.type;if(vi(c)){r=_i(r,c,l);break t}}r=l}else r=fi;return null===e.context?e.context=r:e.pendingContext=r,(e=ua(a,o)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),ha(i,e),pl(i,o,a),o}function ec(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function rc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function nc(t,e){rc(t,e),(t=t.alternate)&&rc(t,e)}function ic(t,e,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Zl(t,e,null!=r&&!0===r.hydrate),e=Vl(3,null,null,2===e?7:1===e?3:0),r.current=e,e.stateNode=r,la(e),t[ti]=r.current,Rn(8===t.nodeType?t.parentNode:t),n)for(t=0;t<n.length;t++){var i=(e=n[t])._getVersion;i=i(e._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}function ac(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function sc(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a._internalRoot;if("function"===typeof i){var o=i;i=function(){var t=ec(s);o.call(t)}}tc(e,s,t,i)}else{if(a=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new ic(t,0,e?{hydrate:!0}:void 0)}(r,n),s=a._internalRoot,"function"===typeof i){var l=i;i=function(){var t=ec(s);l.call(t)}}Tl((function(){tc(e,s,t,i)}))}return ec(s)}function oc(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(e))throw Error(s(200));return Jl(t,e,null,r)}qo=function(t,e,r){var n=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Fs=!0;else{if(0===(r&n)){switch(Fs=!1,e.tag){case 3:Ys(e),Xa();break;case 5:Ia(e);break;case 1:vi(e.type)&&Ti(e);break;case 4:Pa(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;hi(Zi,i._currentValue),i._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(r&e.child.childLanes)?Qs(t,e,r):(hi(ja,1&ja.current),null!==(e=io(t,e,r))?e.sibling:null);hi(ja,1&ja.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(64&t.flags)){if(n)return no(t,e,r);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(ja,ja.current),n)break;return null;case 23:case 24:return e.lanes=0,zs(t,e,r)}return io(t,e,r)}Fs=0!==(16384&t.flags)}else Fs=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,di.current),aa(e,r),i=ss(null,e,n,t,i,r),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(n)){var a=!0;Ti(e)}else a=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,la(e);var o=n.getDerivedStateFromProps;"function"===typeof o&&ma(e,n,o,t),i.updater=va,e.stateNode=i,i._reactInternals=e,Ta(e,n,t,r),e=Ws(null,e,n,!0,a,r)}else e.tag=0,js(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(a=i._init)(i._payload),e.type=i,a=e.tag=function(t){if("function"===typeof t)return Wl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===A)return 11;if(t===R)return 14}return 2}(i),t=Qi(i,t),a){case 0:e=Hs(null,e,i,t,r);break t;case 1:e=Vs(null,e,i,t,r);break t;case 11:e=Ns(null,e,i,t,r);break t;case 14:e=Bs(null,e,i,Qi(i.type,t),n,r);break t}throw Error(s(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,Hs(t,e,n,i=e.elementType===n?i:Qi(n,i),r);case 1:return n=e.type,i=e.pendingProps,Vs(t,e,n,i=e.elementType===n?i:Qi(n,i),r);case 3:if(Ys(e),n=e.updateQueue,null===t||null===n)throw Error(s(282));if(n=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ca(t,e),da(e,n,null,r),(n=e.memoizedState.element)===i)Xa(),e=io(t,e,r);else{if((a=(i=e.stateNode).hydrate)&&(Ua=qn(e.stateNode.containerInfo.firstChild),Ba=e,a=za=!0),a){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(a=t[i])._workInProgressVersionPrimary=t[i+1],qa.push(a);for(r=Oa(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else js(t,e,n,r),Xa();e=e.child}return e;case 5:return Ia(e),null===t&&Va(e),n=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,o=i.children,Vn(n,i)?o=null:null!==a&&Vn(n,a)&&(e.flags|=16),Gs(t,e),js(t,e,o,r),e.child;case 6:return null===t&&Va(e),null;case 13:return Qs(t,e,r);case 4:return Pa(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ca(e,null,n,r):js(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Ns(t,e,n,i=e.elementType===n?i:Qi(n,i),r);case 7:return js(t,e,e.pendingProps,r),e.child;case 8:case 12:return js(t,e,e.pendingProps.children,r),e.child;case 10:t:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var l=e.type._context;if(hi(Zi,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0===(a=un(l,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!pi.current){e=io(t,e,r);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){o=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!==(u.observedBits&a)){1===l.tag&&((u=ua(-1,r&-r)).tag=2,ha(l,u)),l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),ia(l.return,r),c.lanes|=r;break}u=u.next}}else o=10===l.tag&&l.type===e.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===e){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}js(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=(a=e.pendingProps).children,aa(e,r),n=n(i=sa(i,a.unstable_observedBits)),e.flags|=1,js(t,e,n,r),e.child;case 14:return a=Qi(i=e.type,e.pendingProps),Bs(t,e,i,a=Qi(i.type,a),n,r);case 15:return Us(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qi(n,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vi(n)?(t=!0,Ti(e)):t=!1,aa(e,r),ba(e,n,i),Ta(e,n,i,r),Ws(null,e,n,!0,t,r);case 19:return no(t,e,r);case 23:case 24:return zs(t,e,r)}throw Error(s(156,e.tag))},ic.prototype.render=function(t){tc(t,this._internalRoot,null,null)},ic.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tc(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(pl(t,4,fl()),nc(t,4))},re=function(t){13===t.tag&&(pl(t,67108864,fl()),nc(t,67108864))},ne=function(t){if(13===t.tag){var e=fl(),r=dl(t);pl(t,r,e),nc(t,r)}},ie=function(t,e){return e()},Ot=function(t,e,r){switch(e){case"input":if(rt(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ai(n);if(!i)throw Error(s(90));Q(n),rt(n,i)}}}break;case"textarea":ct(t,r);break;case"select":null!=(e=r.value)&&st(t,!!r.multiple,e,!1)}},Pt=_l,Mt=function(t,e,r,n,i){var a=Ro;Ro|=4;try{return Yi(98,t.bind(null,e,r,n,i))}finally{0===(Ro=a)&&(Xo(),qi())}},It=function(){0===(49&Ro)&&(function(){if(null!==il){var t=il;il=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,ml(t,Hi())}))}qi()}(),Il())},Ft=function(t,e){var r=Ro;Ro|=2;try{return t(e)}finally{0===(Ro=r)&&(Xo(),qi())}};var lc={Events:[ni,ii,ai,Lt,Rt,Il,{current:!1}]},cc={findFiberByHostInstance:ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{xi=hc.inject(uc),Si=hc}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,e.createPortal=oc,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var r=Ro;if(0!==(48&r))return t(e);Ro|=1;try{if(t)return Yi(99,t.bind(null,e))}finally{Ro=r,qi()}},e.hydrate=function(t,e,r){if(!ac(e))throw Error(s(200));return sc(null,t,e,!0,r)},e.render=function(t,e,r){if(!ac(e))throw Error(s(200));return sc(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!ac(t))throw Error(s(40));return!!t._reactRootContainer&&(Tl((function(){sc(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=_l,e.unstable_createPortal=function(t,e){return oc(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ac(r))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return sc(t,e,r,!1,n)},e.version="17.0.2"},function(t,e,r){"use strict";t.exports=r(90)},function(t,e,r){"use strict";var n,i,a,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,h=null,f=function t(){if(null!==u)try{var r=e.unstable_now();u(!0,r),u=null}catch(n){throw setTimeout(t,0),n}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},a=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,y=-1,b=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();_=t+b;try{v(!0,t)?E.postMessage(null):(m=!1,v=null)}catch(r){throw E.postMessage(null),r}}else m=!1},n=function(t){v=t,m||(m=!0,E.postMessage(null))},i=function(t,r){y=d((function(){t(e.unstable_now())}),r)},a=function(){p(y),y=-1}}function x(t,e){var r=t.length;t.push(e);t:for(;;){var n=r-1>>>1,i=t[n];if(!(void 0!==i&&0<C(i,e)))break t;t[n]=e,t[r]=i,r=n}}function S(t){return void 0===(t=t[0])?null:t}function w(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length;n<i;){var a=2*(n+1)-1,s=t[a],o=a+1,l=t[o];if(void 0!==s&&0>C(s,r))void 0!==l&&0>C(l,s)?(t[n]=l,t[o]=r,n=o):(t[n]=s,t[a]=r,n=a);else{if(!(void 0!==l&&0>C(l,r)))break t;t[n]=l,t[o]=r,n=o}}}return e}return null}function C(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var O=[],k=[],A=1,D=null,L=3,R=!1,P=!1,M=!1;function I(t){for(var e=S(k);null!==e;){if(null===e.callback)w(k);else{if(!(e.startTime<=t))break;w(k),e.sortIndex=e.expirationTime,x(O,e)}e=S(k)}}function F(t){if(M=!1,I(t),!P)if(null!==S(O))P=!0,n(j);else{var e=S(k);null!==e&&i(F,e.startTime-t)}}function j(t,r){P=!1,M&&(M=!1,a()),R=!0;var n=L;try{for(I(r),D=S(O);null!==D&&(!(D.expirationTime>r)||t&&!e.unstable_shouldYield());){var s=D.callback;if("function"===typeof s){D.callback=null,L=D.priorityLevel;var o=s(D.expirationTime<=r);r=e.unstable_now(),"function"===typeof o?D.callback=o:D===S(O)&&w(O),I(r)}else w(O);D=S(O)}if(null!==D)var l=!0;else{var c=S(k);null!==c&&i(F,c.startTime-r),l=!1}return l}finally{D=null,L=n,R=!1}}var N=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||R||(P=!0,n(j))},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return S(O)},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var r=L;L=e;try{return t()}finally{L=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=N,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=L;L=t;try{return e()}finally{L=r}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:A++,callback:r,priorityLevel:t,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(t.sortIndex=s,x(k,t),null===S(O)&&t===S(k)&&(M?a():M=!0,i(F,s-o))):(t.sortIndex=l,x(O,t),P||R||(P=!0,n(j))),t},e.unstable_wrapCallback=function(t){var e=L;return function(){var r=L;L=e;try{return t.apply(this,arguments)}finally{L=r}}}},function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(L){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new k(n||[]);return a._invoke=function(t,e,r){var n=h;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return D()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var o=w(s,r);if(o){if(o===g)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var l=u(t,e,r);if("normal"===l.type){if(n=r.done?p:f,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=p,r.method="throw",r.arg=l.arg)}}}(t,r,s),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function m(){}function v(){}function y(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,T=_&&_(_(A([])));T&&T!==r&&n.call(T,a)&&(b=T);var E=y.prototype=m.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,a,s,o){var l=u(t[i],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,o)}),(function(t){r("throw",t,s,o)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,o)}))}o(l.arg)}var i;this._invoke=function(t,n){function a(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(a,a):a()}}function w(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=u(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var r=t[a];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:D}}function D(){return{value:e,done:!0}}return v.prototype=y,l(E,"constructor",y),l(y,"constructor",v),v.displayName=l(y,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,o,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var s=new S(c(e,r,n,i),a);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(E),l(E,o,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return o.type="throw",o.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r(43);var n=r(1),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),e.Fragment=a("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,a={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,n)&&!l.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===a[n]&&(a[n]=e[n]);return{$$typeof:i,type:t,key:c,ref:u,props:a,_owner:s.current}}e.jsx=c,e.jsxs=c},function(t,e,r){},function(t,e,r){"use strict";var n=r(98);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function t(t,e,r,i,a,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,r.apply(this,arguments)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";t.exports=r(101)},function(t,e,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case s:case l:case o:case p:return t;default:switch(t=t&&t.$$typeof){case u:case d:case v:case m:case c:return t;default:return e}}case a:return e}}}function x(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=u,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=s,e.Lazy=v,e.Memo=m,e.Portal=a,e.Profiler=l,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||E(t)===h},e.isConcurrentMode=x,e.isContextConsumer=function(t){return E(t)===u},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===d},e.isFragment=function(t){return E(t)===s},e.isLazy=function(t){return E(t)===v},e.isMemo=function(t){return E(t)===m},e.isPortal=function(t){return E(t)===a},e.isProfiler=function(t){return E(t)===l},e.isStrictMode=function(t){return E(t)===o},e.isSuspense=function(t){return E(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===f||t===l||t===o||t===p||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===m||t.$$typeof===c||t.$$typeof===u||t.$$typeof===d||t.$$typeof===b||t.$$typeof===_||t.$$typeof===T||t.$$typeof===y)},e.typeOf=E},function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,r.apply(this,arguments)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(118)},function(t){t.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(107));e.default=function(t){if(t>=55296&&t<=57343||t>1114111)return"\ufffd";t in i.default&&(t=i.default[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t,e){String.prototype.repeat||function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,r=e(t,t,t)&&e}catch(n){}return r}(),e=function(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(r!=r&&(r=0),r<0||r==1/0)throw RangeError();for(var n="";r;)r%2==1&&(n+=e),r>1&&(e+=e),r>>=1;return n};t?t(String.prototype,"repeat",{value:e,configurable:!0,writable:!0}):String.prototype.repeat=e}()},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),s=n[0],o=n[1],l=new a(function(t,e,r){return 3*(e+r)/4-r}(0,s,o)),u=0,h=o>0?s-4:s;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===o&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,l[u++]=255&e);1===o&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],s=16383,o=0,l=r-i;o<l;o+=s)a.push(u(t,o,o+s>l?l:o+s));1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var i,a,s=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,s,o=8*i-n-1,l=(1<<o)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=256*a+t[e+h],h+=f,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=c}return(d?-1:1)*s*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var s,o,l,c=8*a-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(o=0,s=u):s+h>=1?(o=(e*l-1)*Math.pow(2,i),s+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+d]=255&s,d+=p,s/=256,c-=8);t[r+d-p]|=128*g}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){},function(t,e){},function(t,e){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(1),i=r.n(n),a=r(24),s=r.n(a),o=r(19),l=r.n(o),c=r(7);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(c.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r,n,i,a,s){try{var o=t[a](s),l=o.value}catch(c){return void r(c)}o.done?e(l):Promise.resolve(l).then(n,i)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){f(a,n,i,s,o,"next",t)}function o(t){f(a,n,i,s,o,"throw",t)}s(void 0)}))}}var p=r(6),g=(r(92),r(93),r(47)),m=r.n(g),v={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=i.a.createContext&&i.a.createContext(v),b=function(){return b=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},b.apply(this,arguments)},_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function T(t){return t&&t.map((function(t,e){return i.a.createElement(t.tag,b({key:e},t.attr),T(t.child))}))}function E(t){return function(e){return i.a.createElement(x,b({attr:b({},t.attr)},e),T(t.child))}}function x(t){var e=function(e){var r,n=t.attr,a=t.size,s=t.title,o=_(t,["attr","size","title"]),l=a||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),i.a.createElement("svg",b({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,o,{className:r,style:b(b({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.a.createElement("title",null,s),t.children)};return void 0!==y?i.a.createElement(y.Consumer,null,(function(t){return e(t)})):e(v)}function S(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(t)}function w(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}}]})(t)}function C(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M8 5v14l11-7z"}}]})(t)}function O(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}}]})(t)}function k(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}}]})(t)}function A(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}}]})(t)}function D(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}}]})(t)}function L(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}}]})(t)}var R=r(0),P=r.n(R),M=r(2),I=r.n(M),F=n.createContext(),j=n.createContext();function N(t){var e=t.children,r=n.useState(null),i=r[0],a=r[1],s=n.useRef(!1);n.useEffect((function(){return function(){s.current=!0}}),[]);var o=n.useCallback((function(t){s.current||a(t)}),[]);return n.createElement(F.Provider,{value:i},n.createElement(j.Provider,{value:o},e))}var B=function(t){return Array.isArray(t)?t[0]:t},U=function(t){if("function"===typeof t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,r)}},z=function(t,e){if("function"===typeof t)return U(t,e);null!=t&&(t.current=e)},G=function(t){return t.reduce((function(t,e){var r=e[0],n=e[1];return t[r]=n,t}),{})},H="undefined"!==typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect;function V(t,e){void 0===e&&(e=!1);var r=t.getBoundingClientRect();return{width:r.width/1,height:r.height/1,top:r.top/1,right:r.right/1,bottom:r.bottom/1,left:r.left/1,x:r.left/1,y:r.top/1}}function W(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Y(t){var e=W(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function X(t){return t instanceof W(t).Element||t instanceof Element}function q(t){return t instanceof W(t).HTMLElement||t instanceof HTMLElement}function K(t){return"undefined"!==typeof ShadowRoot&&(t instanceof W(t).ShadowRoot||t instanceof ShadowRoot)}function $(t){return t?(t.nodeName||"").toLowerCase():null}function Q(t){return((X(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z(t){return V(Q(t)).left+Y(t).scrollLeft}function J(t){return W(t).getComputedStyle(t)}function tt(t){var e=J(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function et(t,e,r){void 0===r&&(r=!1);var n=q(e),i=q(e)&&function(t){var e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return 1!==r||1!==n}(e),a=Q(e),s=V(t,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==$(e)||tt(a))&&(o=function(t){return t!==W(t)&&q(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:Y(t);var e}(e)),q(e)?((l=V(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Z(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function rt(t){var e=V(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function nt(t){return"html"===$(t)?t:t.assignedSlot||t.parentNode||(K(t)?t.host:null)||Q(t)}function it(t){return["html","body","#document"].indexOf($(t))>=0?t.ownerDocument.body:q(t)&&tt(t)?t:it(nt(t))}function at(t,e){var r;void 0===e&&(e=[]);var n=it(t),i=n===(null==(r=t.ownerDocument)?void 0:r.body),a=W(n),s=i?[a].concat(a.visualViewport||[],tt(n)?n:[]):n,o=e.concat(s);return i?o:o.concat(at(nt(s)))}function st(t){return["table","td","th"].indexOf($(t))>=0}function ot(t){return q(t)&&"fixed"!==J(t).position?t.offsetParent:null}function lt(t){for(var e=W(t),r=ot(t);r&&st(r)&&"static"===J(r).position;)r=ot(r);return r&&("html"===$(r)||"body"===$(r)&&"static"===J(r).position)?e:r||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&q(t)&&"fixed"===J(t).position)return null;for(var r=nt(t);q(r)&&["html","body"].indexOf($(r))<0;){var n=J(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}var ct="top",ut="bottom",ht="right",ft="left",dt="auto",pt=[ct,ut,ht,ft],gt="start",mt="end",vt="viewport",yt="popper",bt=pt.reduce((function(t,e){return t.concat([e+"-"+gt,e+"-"+mt])}),[]),_t=[].concat(pt,[dt]).reduce((function(t,e){return t.concat([e,e+"-"+gt,e+"-"+mt])}),[]),Tt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Et(t){var e=new Map,r=new Set,n=[];function i(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!r.has(t)){var n=e.get(t);n&&i(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){r.has(t.name)||i(t)})),n}function xt(t){var e;return function(){return e||(e=new Promise((function(r){Promise.resolve().then((function(){e=void 0,r(t())}))}))),e}}var St={placement:"bottom",modifiers:[],strategy:"absolute"};function wt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function Ct(t){void 0===t&&(t={});var e=t,r=e.defaultModifiers,n=void 0===r?[]:r,i=e.defaultOptions,a=void 0===i?St:i;return function(t,e,r){void 0===r&&(r=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},St,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],o=!1,l={state:i,setOptions:function(r){var o="function"===typeof r?r(i.options):r;c(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:X(t)?at(t):t.contextElement?at(t.contextElement):[],popper:at(e)};var u=function(t){var e=Et(t);return Tt.reduce((function(t,r){return t.concat(e.filter((function(t){return t.phase===r})))}),[])}(function(t){var e=t.reduce((function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(n,i.options.modifiers)));return i.orderedModifiers=u.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,r=t.options,n=void 0===r?{}:r,a=t.effect;if("function"===typeof a){var o=a({state:i,name:e,instance:l,options:n}),c=function(){};s.push(o||c)}})),l.update()},forceUpdate:function(){if(!o){var t=i.elements,e=t.reference,r=t.popper;if(wt(e,r)){i.rects={reference:et(e,lt(r),"fixed"===i.options.strategy),popper:rt(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var a=i.orderedModifiers[n],s=a.fn,c=a.options,u=void 0===c?{}:c,h=a.name;"function"===typeof s&&(i=s({state:i,options:u,name:h,instance:l})||i)}else i.reset=!1,n=-1}}},update:xt((function(){return new Promise((function(t){l.forceUpdate(),t(i)}))})),destroy:function(){c(),o=!0}};if(!wt(t,e))return l;function c(){s.forEach((function(t){return t()})),s=[]}return l.setOptions(r).then((function(t){!o&&r.onFirstUpdate&&r.onFirstUpdate(t)})),l}}var Ot={passive:!0};var kt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=void 0===i||i,s=n.resize,o=void 0===s||s,l=W(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",r.update,Ot)})),o&&l.addEventListener("resize",r.update,Ot),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",r.update,Ot)})),o&&l.removeEventListener("resize",r.update,Ot)}},data:{}};function At(t){return t.split("-")[0]}function Dt(t){return t.split("-")[1]}function Lt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Rt(t){var e,r=t.reference,n=t.element,i=t.placement,a=i?At(i):null,s=i?Dt(i):null,o=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case ct:e={x:o,y:r.y-n.height};break;case ut:e={x:o,y:r.y+r.height};break;case ht:e={x:r.x+r.width,y:l};break;case ft:e={x:r.x-n.width,y:l};break;default:e={x:r.x,y:r.y}}var c=a?Lt(a):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case gt:e[c]=e[c]-(r[u]/2-n[u]/2);break;case mt:e[c]=e[c]+(r[u]/2-n[u]/2)}}return e}var Pt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=Rt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},Mt=Math.max,It=Math.min,Ft=Math.round,jt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nt(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=!0===u?function(t){var e=t.x,r=t.y,n=window.devicePixelRatio||1;return{x:Ft(Ft(e*n)/n)||0,y:Ft(Ft(r*n)/n)||0}}(s):"function"===typeof u?u(s):s,f=h.x,d=void 0===f?0:f,p=h.y,g=void 0===p?0:p,m=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),y=ft,b=ct,_=window;if(c){var T=lt(r),E="clientHeight",x="clientWidth";T===W(r)&&"static"!==J(T=Q(r)).position&&"absolute"===o&&(E="scrollHeight",x="scrollWidth"),T=T,i!==ct&&(i!==ft&&i!==ht||a!==mt)||(b=ut,g-=T[E]-n.height,g*=l?1:-1),i!==ft&&(i!==ct&&i!==ut||a!==mt)||(y=ht,d-=T[x]-n.width,d*=l?1:-1)}var S,w=Object.assign({position:o},c&&jt);return l?Object.assign({},w,((S={})[b]=v?"0":"",S[y]=m?"0":"",S.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",S)):Object.assign({},w,((e={})[b]=v?g+"px":"",e[y]=m?d+"px":"",e.transform="",e))}var Bt={left:"right",right:"left",bottom:"top",top:"bottom"};function Ut(t){return t.replace(/left|right|bottom|top/g,(function(t){return Bt[t]}))}var zt={start:"end",end:"start"};function Gt(t){return t.replace(/start|end/g,(function(t){return zt[t]}))}function Ht(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&K(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Vt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Wt(t,e){return e===vt?Vt(function(t){var e=W(t),r=Q(t),n=e.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,o=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,o=n.offsetTop)),{width:i,height:a,x:s+Z(t),y:o}}(t)):q(e)?function(t){var e=V(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Vt(function(t){var e,r=Q(t),n=Y(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=Mt(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Mt(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+Z(t),l=-n.scrollTop;return"rtl"===J(i||r).direction&&(o+=Mt(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}(Q(t)))}function Yt(t,e,r){var n="clippingParents"===e?function(t){var e=at(nt(t)),r=["absolute","fixed"].indexOf(J(t).position)>=0&&q(t)?lt(t):t;return X(r)?e.filter((function(t){return X(t)&&Ht(t,r)&&"body"!==$(t)})):[]}(t):[].concat(e),i=[].concat(n,[r]),a=i[0],s=i.reduce((function(e,r){var n=Wt(t,r);return e.top=Mt(n.top,e.top),e.right=It(n.right,e.right),e.bottom=It(n.bottom,e.bottom),e.left=Mt(n.left,e.left),e}),Wt(t,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Xt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function qt(t,e){return e.reduce((function(e,r){return e[r]=t,e}),{})}function Kt(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=void 0===n?t.placement:n,a=r.boundary,s=void 0===a?"clippingParents":a,o=r.rootBoundary,l=void 0===o?vt:o,c=r.elementContext,u=void 0===c?yt:c,h=r.altBoundary,f=void 0!==h&&h,d=r.padding,p=void 0===d?0:d,g=Xt("number"!==typeof p?p:qt(p,pt)),m=u===yt?"reference":yt,v=t.rects.popper,y=t.elements[f?m:u],b=Yt(X(y)?y:y.contextElement||Q(t.elements.popper),s,l),_=V(t.elements.reference),T=Rt({reference:_,element:v,strategy:"absolute",placement:i}),E=Vt(Object.assign({},v,T)),x=u===yt?E:_,S={top:b.top-x.top+g.top,bottom:x.bottom-b.bottom+g.bottom,left:b.left-x.left+g.left,right:x.right-b.right+g.right},w=t.modifiersData.offset;if(u===yt&&w){var C=w[i];Object.keys(S).forEach((function(t){var e=[ht,ut].indexOf(t)>=0?1:-1,r=[ct,ut].indexOf(t)>=0?"y":"x";S[t]+=C[r]*e}))}return S}function $t(t,e,r){return Mt(t,It(e,r))}function Qt(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Zt(t){return[ct,ht,ut,ft].some((function(e){return t[e]>=0}))}var Jt=Ct({defaultModifiers:[kt,Pt,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=void 0===n||n,a=r.adaptive,s=void 0===a||a,o=r.roundOffsets,l=void 0===o||o,c={placement:At(e.placement),variation:Dt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Nt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Nt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},i=e.elements[t];q(i)&&$(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],i=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce((function(t,e){return t[e]="",t}),{});q(n)&&$(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=void 0===i?[0,0]:i,s=_t.reduce((function(t,r){return t[r]=function(t,e,r){var n=At(t),i=[ft,ct].indexOf(n)>=0?-1:1,a="function"===typeof r?r(Object.assign({},e,{placement:t})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[ft,ht].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}(r,e.rects,a),t}),{}),o=s[e.placement],l=o.x,c=o.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,s=r.altAxis,o=void 0===s||s,l=r.fallbackPlacements,c=r.padding,u=r.boundary,h=r.rootBoundary,f=r.altBoundary,d=r.flipVariations,p=void 0===d||d,g=r.allowedAutoPlacements,m=e.options.placement,v=At(m),y=l||(v===m||!p?[Ut(m)]:function(t){if(At(t)===dt)return[];var e=Ut(t);return[Gt(t),e,Gt(e)]}(m)),b=[m].concat(y).reduce((function(t,r){return t.concat(At(r)===dt?function(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?_t:l,u=Dt(n),h=u?o?bt:bt.filter((function(t){return Dt(t)===u})):pt,f=h.filter((function(t){return c.indexOf(t)>=0}));0===f.length&&(f=h);var d=f.reduce((function(e,r){return e[r]=Kt(t,{placement:r,boundary:i,rootBoundary:a,padding:s})[At(r)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:r,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:g}):r)}),[]),_=e.rects.reference,T=e.rects.popper,E=new Map,x=!0,S=b[0],w=0;w<b.length;w++){var C=b[w],O=At(C),k=Dt(C)===gt,A=[ct,ut].indexOf(O)>=0,D=A?"width":"height",L=Kt(e,{placement:C,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),R=A?k?ht:ft:k?ut:ct;_[D]>T[D]&&(R=Ut(R));var P=Ut(R),M=[];if(a&&M.push(L[O]<=0),o&&M.push(L[R]<=0,L[P]<=0),M.every((function(t){return t}))){S=C,x=!1;break}E.set(C,M)}if(x)for(var I=function(t){var e=b.find((function(e){var r=E.get(e);if(r)return r.slice(0,t).every((function(t){return t}))}));if(e)return S=e,"break"},F=p?3:1;F>0;F--){if("break"===I(F))break}e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=void 0===i||i,s=r.altAxis,o=void 0!==s&&s,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,h=r.padding,f=r.tether,d=void 0===f||f,p=r.tetherOffset,g=void 0===p?0:p,m=Kt(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=At(e.placement),y=Dt(e.placement),b=!y,_=Lt(v),T="x"===_?"y":"x",E=e.modifiersData.popperOffsets,x=e.rects.reference,S=e.rects.popper,w="function"===typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,C={x:0,y:0};if(E){if(a||o){var O="y"===_?ct:ft,k="y"===_?ut:ht,A="y"===_?"height":"width",D=E[_],L=E[_]+m[O],R=E[_]-m[k],P=d?-S[A]/2:0,M=y===gt?x[A]:S[A],I=y===gt?-S[A]:-x[A],F=e.elements.arrow,j=d&&F?rt(F):{width:0,height:0},N=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=N[O],U=N[k],z=$t(0,x[A],j[A]),G=b?x[A]/2-P-z-B-w:M-z-B-w,H=b?-x[A]/2+P+z+U+w:I+z+U+w,V=e.elements.arrow&&lt(e.elements.arrow),W=V?"y"===_?V.clientTop||0:V.clientLeft||0:0,Y=e.modifiersData.offset?e.modifiersData.offset[e.placement][_]:0,X=E[_]+G-Y-W,q=E[_]+H-Y;if(a){var K=$t(d?It(L,X):L,D,d?Mt(R,q):R);E[_]=K,C[_]=K-D}if(o){var $="x"===_?ct:ft,Q="x"===_?ut:ht,Z=E[T],J=Z+m[$],tt=Z-m[Q],et=$t(d?It(J,X):J,Z,d?Mt(tt,q):tt);E[T]=et,C[T]=et-Z}}e.modifiersData[n]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=At(r.placement),l=Lt(o),c=[ft,ht].indexOf(o)>=0?"height":"width";if(a&&s){var u=function(t,e){return Xt("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:qt(t,pt))}(i.padding,r),h=rt(a),f="y"===l?ct:ft,d="y"===l?ut:ht,p=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],g=s[l]-r.rects.reference[l],m=lt(a),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=p/2-g/2,b=u[f],_=v-h[c]-u[d],T=v/2-h[c]/2+y,E=$t(b,T,_),x=l;r.modifiersData[n]=((e={})[x]=E,e.centerOffset=E-T,e)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!==typeof n||(n=e.elements.popper.querySelector(n)))&&Ht(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=Kt(e,{elementContext:"reference"}),o=Kt(e,{altBoundary:!0}),l=Qt(s,n),c=Qt(o,i,a),u=Zt(l),h=Zt(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),te=r(59),ee=r.n(te),re=[],ne=function(){},ie=function(){return Promise.resolve(null)},ae=[];function se(t){var e=t.placement,r=void 0===e?"bottom":e,i=t.strategy,a=void 0===i?"absolute":i,s=t.modifiers,o=void 0===s?ae:s,l=t.referenceElement,c=t.onFirstUpdate,u=t.innerRef,h=t.children,f=n.useContext(F),d=n.useState(null),p=d[0],g=d[1],m=n.useState(null),v=m[0],y=m[1];n.useEffect((function(){z(u,p)}),[u,p]);var b=n.useMemo((function(){return{placement:r,strategy:a,onFirstUpdate:c,modifiers:[].concat(o,[{name:"arrow",enabled:null!=v,options:{element:v}}])}}),[r,a,c,o,v]),_=function(t,e,r){void 0===r&&(r={});var i=n.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||re},s=n.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=s[0],l=s[1],c=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var e=t.state,r=Object.keys(e.elements);l({styles:G(r.map((function(t){return[t,e.styles[t]||{}]}))),attributes:G(r.map((function(t){return[t,e.attributes[t]]})))})},requires:["computeStyles"]}}),[]),u=n.useMemo((function(){var t={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[c,{name:"applyStyles",enabled:!1}])};return ee()(i.current,t)?i.current||t:(i.current=t,t)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,c]),h=n.useRef();return H((function(){h.current&&h.current.setOptions(u)}),[u]),H((function(){if(null!=t&&null!=e){var n=(r.createPopper||Jt)(t,e,u);return h.current=n,function(){n.destroy(),h.current=null}}}),[t,e,r.createPopper]),{state:h.current?h.current.state:null,styles:o.styles,attributes:o.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}(l||f,p,b),T=_.state,E=_.styles,x=_.forceUpdate,S=_.update,w=n.useMemo((function(){return{ref:g,style:E.popper,placement:T?T.placement:r,hasPopperEscaped:T&&T.modifiersData.hide?T.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:T&&T.modifiersData.hide?T.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:E.arrow,ref:y},forceUpdate:x||ne,update:S||ie}}),[g,y,r,T,E,S,x]);return B(h)(w)}var oe=r(60),le=r.n(oe);function ce(t){var e=t.children,r=t.innerRef,i=n.useContext(j),a=n.useCallback((function(t){z(r,t),U(i,t)}),[r,i]);return n.useEffect((function(){return function(){return z(r,null)}})),n.useEffect((function(){le()(Boolean(i),"`Reference` should not be used outside of a `Manager` component.")}),[i]),B(e)({ref:a})}function ue(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}function he(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var fe=!1,de=i.a.createContext(null),pe="unmounted",ge="exited",me="entering",ve="entered",ye="exiting",be=function(t){function e(e,r){var n;n=t.call(this,e,r)||this;var i,a=r&&!r.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?a?(i=ge,n.appearStatus=me):i=ve:i=e.unmountOnExit||e.mountOnEnter?pe:ge,n.state={status:i},n.nextCallback=null,n}he(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===pe?{status:ge}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==me&&r!==ve&&(e=me):r!==me&&r!==ve||(e=ye)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,r,n=this.props.timeout;return t=e=r=n,null!=n&&"number"!==typeof n&&(t=n.exit,e=n.enter,r=void 0!==n.appear?n.appear:e),{exit:t,enter:e,appear:r}},r.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===me?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===ge&&this.setState({status:pe})},r.performEnter=function(t){var e=this,r=this.props.enter,n=this.context?this.context.isMounting:t,i=this.props.nodeRef?[n]:[s.a.findDOMNode(this),n],a=i[0],o=i[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!t&&!r||fe?this.safeSetState({status:ve},(function(){e.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:me},(function(){e.props.onEntering(a,o),e.onTransitionEnd(c,(function(){e.safeSetState({status:ve},(function(){e.props.onEntered(a,o)}))}))})))},r.performExit=function(){var t=this,e=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:s.a.findDOMNode(this);e&&!fe?(this.props.onExit(n),this.safeSetState({status:ye},(function(){t.props.onExiting(n),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:ge},(function(){t.props.onExited(n)}))}))}))):this.safeSetState({status:ge},(function(){t.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var r=this.props.nodeRef?this.props.nodeRef.current:s.a.findDOMNode(this),n=null==t&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===pe)return null;var e=this.props,r=e.children,n=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,ue(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.a.createElement(de.Provider,{value:null},"function"===typeof r?r(t,n):i.a.cloneElement(i.a.Children.only(r),n))},e}(i.a.Component);function _e(){}be.contextType=de,be.propTypes={},be.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_e,onEntering:_e,onEntered:_e,onExit:_e,onExiting:_e,onExited:_e},be.UNMOUNTED=pe,be.EXITED=ge,be.ENTERING=me,be.ENTERED=ve,be.EXITING=ye;var Te,Ee=be;function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function we(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(){return Ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ce.apply(this,arguments)}function Oe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ke(t,e)}function ke(t,e){return ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ke(t,e)}function Ae(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function Re(t){document.body.style.paddingRight=t>0?t+"px":null}function Pe(){return document.body.clientWidth<window.innerWidth}function Me(){var t=window.getComputedStyle(document.body,null);return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}function Ie(){var t=Le(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],r=e?parseInt(e.style.paddingRight||0,10):0;Pe()&&Re(r+t)}function Fe(t,e){return void 0===t&&(t=""),void 0===e&&(e=Te),e?t.split(" ").map((function(t){return e[t]||t})).join(" "):t}function je(t,e){var r={};return Object.keys(t).forEach((function(n){-1===e.indexOf(n)&&(r[n]=t[n])})),r}function Ne(t,e){for(var r,n=Array.isArray(e)?e:[e],i=n.length,a={};i>0;)a[r=n[i-=1]]=t[r];return a}var Be={};function Ue(t){Be[t]||("undefined"!==typeof console&&console.error(t),Be[t]=!0)}function ze(t,e){return function(r,n,i){return null!==r[n]&&"undefined"!==typeof r[n]&&Ue('"'+n+'" property of "'+i+'" has been deprecated.\n'+e),t.apply(void 0,[r,n,i].concat([].slice.call(arguments,3)))}}var Ge="object"===typeof window&&window.Element||function(){};function He(t,e,r){if(!(t[e]instanceof Ge))return new Error("Invalid prop `"+e+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")}var Ve=P.a.oneOfType([P.a.string,P.a.func,He,P.a.shape({current:P.a.any})]),We=P.a.oneOfType([P.a.func,P.a.string,P.a.shape({$$typeof:P.a.symbol,render:P.a.func}),P.a.arrayOf(P.a.oneOfType([P.a.func,P.a.string,P.a.shape({$$typeof:P.a.symbol,render:P.a.func})]))]),Ye={Fade:150,Collapse:350,Modal:300,Carousel:600,Offcanvas:300},Xe=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],qe={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},Ke={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},$e=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Qe=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ze(t){return!(!t||"object"!==typeof t)&&"current"in t}function Je(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function tr(t){var e=typeof t;if("number"===e)return t;if("symbol"===e||"object"===e&&"[object Symbol]"===Je(t))return NaN;if(er(t)){var r="function"===typeof t.valueOf?t.valueOf():t;t=er(r)?""+r:r}if("string"!==e)return 0===t?t:+t;t=t.replace(/^\s+|\s+$/g,"");var n=/^0b[01]+$/i.test(t);return n||/^0o[0-7]+$/i.test(t)?parseInt(t.slice(2),n?2:8):/^[-+]0x[0-9a-f]+$/i.test(t)?NaN:+t}function er(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)}function rr(t){if(!er(t))return!1;var e=Je(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}function nr(t){if(Ze(t))return t.current;if(rr(t))return t();if("string"===typeof t&&Qe){var e=document.querySelectorAll(t);if(e.length||(e=document.querySelectorAll("#"+t)),!e.length)throw new Error("The target '"+t+"' could not be identified in the dom, tip: check spelling");return e}return t}function ir(t){return null!==t&&(Array.isArray(t)||Qe&&"number"===typeof t.length)}function ar(t,e){var r=nr(t);return e?ir(r)?r:null===r?[]:[r]:ir(r)?r[0]:r}var sr=["touchstart","click"];function or(t,e,r,n){var i=t;ir(i)||(i=[i]);var a=r;if("string"===typeof a&&(a=a.split(/\s+/)),!ir(i)||"function"!==typeof e||!Array.isArray(a))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(a,(function(t){Array.prototype.forEach.call(i,(function(r){r.addEventListener(t,e,n)}))})),function(){Array.prototype.forEach.call(a,(function(t){Array.prototype.forEach.call(i,(function(r){r.removeEventListener(t,e,n)}))}))}}var lr=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],cr=["className","cssModule","fluid","tag"],ur={tag:We,fluid:P.a.oneOfType([P.a.bool,P.a.string]),className:P.a.string,cssModule:P.a.object},hr=function(t){var e=t.className,r=t.cssModule,n=t.fluid,a=t.tag,s=Ae(t,cr),o="container";!0===n?o="container-fluid":n&&(o="container-"+n);var l=Fe(I()(e,o),r);return i.a.createElement(a,Ce({},s,{className:l}))};hr.propTypes=ur,hr.defaultProps={tag:"div"};var fr=["className","cssModule","noGutters","tag","form","widths"],dr=P.a.oneOfType([P.a.number,P.a.string]),pr={tag:We,noGutters:ze(P.a.bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:P.a.string,cssModule:P.a.object,form:P.a.bool,xs:dr,sm:dr,md:dr,lg:dr,xl:dr,xxl:dr},gr={tag:"div",widths:["xs","sm","md","lg","xl","xxl"]},mr=function(t){var e=t.className,r=t.cssModule,n=t.noGutters,a=t.tag,s=t.form,o=t.widths,l=Ae(t,fr),c=[];o.forEach((function(e,r){var n=t[e];if(delete l[e],n){var i=!r;c.push(i?"row-cols-"+n:"row-cols-"+e+"-"+n)}}));var u=Fe(I()(e,n?"gx-0":null,s?"form-row":"row",c),r);return i.a.createElement(a,Ce({},l,{className:u}))};mr.propTypes=pr,mr.defaultProps=gr;var vr=["className","cssModule","widths","tag"],yr=["xs","sm","md","lg","xl","xxl"],br=P.a.oneOfType([P.a.number,P.a.string]),_r=P.a.oneOfType([P.a.bool,P.a.number,P.a.string,P.a.shape({size:P.a.oneOfType([P.a.bool,P.a.number,P.a.string]),order:br,offset:br})]),Tr={tag:We,xs:_r,sm:_r,md:_r,lg:_r,xl:_r,xxl:_r,className:P.a.string,cssModule:P.a.object,widths:P.a.array},Er={tag:"div",widths:yr},xr=function(t,e,r){return!0===r||""===r?t?"col":"col-"+e:"auto"===r?t?"col-auto":"col-"+e+"-auto":t?"col-"+r:"col-"+e+"-"+r},Sr=function(t,e,r){void 0===r&&(r=yr);var n=[];return r.forEach((function(r,i){var a=t[r];if(delete t[r],a||""===a){var s=!i;if(er(a)){var o,l=s?"-":"-"+r+"-",c=xr(s,r,a.size);n.push(Fe(I()(((o={})[c]=a.size||""===a.size,o["order"+l+a.order]=a.order||0===a.order,o["offset"+l+a.offset]=a.offset||0===a.offset,o)),e))}else{var u=xr(s,r,a);n.push(u)}}})),{colClasses:n,attributes:t}},wr=function(t){var e=t.className,r=t.cssModule,n=t.widths,a=t.tag,s=Ae(t,vr),o=Sr(s,r,n),l=o.attributes,c=o.colClasses;c.length||c.push("col");var u=Fe(I()(e,c),r);return i.a.createElement(a,Ce({},l,{className:u}))};wr.propTypes=Tr,wr.defaultProps=Er;var Cr=wr,Or=["expand","className","cssModule","light","dark","fixed","sticky","color","container","tag","children"],kr={light:P.a.bool,dark:P.a.bool,full:P.a.bool,fixed:P.a.string,sticky:P.a.string,color:P.a.string,role:P.a.string,tag:We,container:P.a.oneOfType([P.a.bool,P.a.string]),className:P.a.string,cssModule:P.a.object,expand:P.a.oneOfType([P.a.bool,P.a.string]),children:P.a.node},Ar=function(t){var e,r=t.expand,n=t.className,a=t.cssModule,s=t.light,o=t.dark,l=t.fixed,c=t.sticky,u=t.color,h=t.container,f=t.tag,d=t.children,p=Ae(t,Or),g=Fe(I()(n,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":"navbar-expand-"+t)}(r),((e={"navbar-light":s,"navbar-dark":o})["bg-"+u]=u,e["fixed-"+l]=l,e["sticky-"+c]=c,e)),a),m=h&&!0===h?"container":"container-"+h;return i.a.createElement(f,Ce({},p,{className:g}),h?i.a.createElement("div",{className:m},d):d)};Ar.propTypes=kr,Ar.defaultProps={tag:"nav",expand:!1,container:"fluid"};var Dr=["className","cssModule","tag"],Lr={tag:We,className:P.a.string,cssModule:P.a.object},Rr=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Dr),s=Fe(I()(e,"navbar-brand"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Rr.propTypes=Lr,Rr.defaultProps={tag:"a"};var Pr=["className","cssModule","active","tag"],Mr={tag:We,className:P.a.string,cssModule:P.a.object},Ir=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Pr),s=Fe(I()(e,"navbar-text"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Ir.propTypes=Mr,Ir.defaultProps={tag:"span"};var Fr=["className","cssModule","children","tag"],jr={tag:We,type:P.a.string,className:P.a.string,cssModule:P.a.object,children:P.a.node},Nr=function(t){var e=t.className,r=t.cssModule,n=t.children,a=t.tag,s=Ae(t,Fr),o=Fe(I()(e,"navbar-toggler"),r);return i.a.createElement(a,Ce({"aria-label":"Toggle navigation"},s,{className:o}),n||i.a.createElement("span",{className:Fe("navbar-toggler-icon",r)}))};Nr.propTypes=jr,Nr.defaultProps={tag:"button",type:"button"};var Br=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"],Ur={tabs:P.a.bool,pills:P.a.bool,vertical:P.a.oneOfType([P.a.bool,P.a.string]),horizontal:P.a.string,justified:P.a.bool,fill:P.a.bool,navbar:P.a.bool,card:P.a.bool,tag:We,className:P.a.string,cssModule:P.a.object},zr=function(t){var e=t.className,r=t.cssModule,n=t.tabs,a=t.pills,s=t.vertical,o=t.horizontal,l=t.justified,c=t.fill,u=t.navbar,h=t.card,f=t.tag,d=Ae(t,Br),p=Fe(I()(e,u?"navbar-nav":"nav",!!o&&"justify-content-"+o,function(t){return!1!==t&&(!0===t||"xs"===t?"flex-column":"flex-"+t+"-column")}(s),{"nav-tabs":n,"card-header-tabs":h&&n,"nav-pills":a,"card-header-pills":h&&a,"nav-justified":l,"nav-fill":c}),r);return i.a.createElement(f,Ce({},d,{className:p}))};zr.propTypes=Ur,zr.defaultProps={tag:"ul",vertical:!1};var Gr=["className","cssModule","active","tag"],Hr={tag:We,active:P.a.bool,className:P.a.string,cssModule:P.a.object},Vr=function(t){var e=t.className,r=t.cssModule,n=t.active,a=t.tag,s=Ae(t,Gr),o=Fe(I()(e,"nav-item",!!n&&"active"),r);return i.a.createElement(a,Ce({},s,{className:o}))};Vr.propTypes=Hr,Vr.defaultProps={tag:"li"};var Wr=["className","cssModule","active","tag","innerRef"],Yr={tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),disabled:P.a.bool,active:P.a.bool,className:P.a.string,cssModule:P.a.object,onClick:P.a.func,href:P.a.any},Xr=function(t){function e(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onClick=function(t){this.props.disabled?t.preventDefault():("#"===this.props.href&&t.preventDefault(),this.props.onClick&&this.props.onClick(t))},r.render=function(){var t=this.props,e=t.className,r=t.cssModule,n=t.active,a=t.tag,s=t.innerRef,o=Ae(t,Wr),l=Fe(I()(e,"nav-link",{disabled:o.disabled,active:n}),r);return i.a.createElement(a,Ce({},o,{ref:s,onClick:this.onClick,className:l}))},e}(i.a.Component);Xr.propTypes=Yr,Xr.defaultProps={tag:"a"};var qr=["className","listClassName","cssModule","children","tag","listTag","aria-label"],Kr={tag:We,listTag:We,className:P.a.string,listClassName:P.a.string,cssModule:P.a.object,children:P.a.node,"aria-label":P.a.string},$r=function(t){var e=t.className,r=t.listClassName,n=t.cssModule,a=t.children,s=t.tag,o=t.listTag,l=t["aria-label"],c=Ae(t,qr),u=Fe(I()(e),n),h=Fe(I()("breadcrumb",r),n);return i.a.createElement(s,Ce({},c,{className:u,"aria-label":l}),i.a.createElement(o,{className:h},a))};$r.propTypes=Kr,$r.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};var Qr=["className","cssModule","active","tag"],Zr={tag:We,active:P.a.bool,className:P.a.string,cssModule:P.a.object},Jr=function(t){var e=t.className,r=t.cssModule,n=t.active,a=t.tag,s=Ae(t,Qr),o=Fe(I()(e,!!n&&"active","breadcrumb-item"),r);return i.a.createElement(a,Ce({},s,{className:o,"aria-current":n?"page":void 0}))};Jr.propTypes=Zr,Jr.defaultProps={tag:"li"};var tn=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],en={active:P.a.bool,"aria-label":P.a.string,block:P.a.bool,color:P.a.string,disabled:P.a.bool,outline:P.a.bool,tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),onClick:P.a.func,size:P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object,close:P.a.bool},rn=function(t){function e(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onClick=function(t){if(!this.props.disabled)return this.props.onClick?this.props.onClick(t):void 0;t.preventDefault()},r.render=function(){var t=this.props,e=t.active,r=t["aria-label"],n=t.block,a=t.className,s=t.close,o=t.cssModule,l=t.color,c=t.outline,u=t.size,h=t.tag,f=t.innerRef,d=Ae(t,tn),p="btn"+(c?"-outline":"")+"-"+l,g=Fe(I()(a,s&&"btn-close",s||"btn",s||p,!!u&&"btn-"+u,!!n&&"d-block w-100",{active:e,disabled:this.props.disabled}),o);d.href&&"button"===h&&(h="a");var m=s?"Close":null;return i.a.createElement(h,Ce({type:"button"===h&&d.onClick?"button":void 0},d,{className:g,ref:f,onClick:this.onClick,"aria-label":r||m}))},e}(i.a.Component);rn.propTypes=en,rn.defaultProps={color:"secondary",tag:"button"};var nn=rn,an=["className"],sn={onClick:P.a.func,onBlur:P.a.func,onFocus:P.a.func,defaultValue:P.a.bool},on=function(t){function e(e){var r;return(r=t.call(this,e)||this).state={toggled:e.defaultValue,focus:!1},r.onBlur=r.onBlur.bind(De(r)),r.onFocus=r.onFocus.bind(De(r)),r.onClick=r.onClick.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onBlur=function(t){this.props.onBlur&&this.props.onBlur(t),this.setState({focus:!1})},r.onFocus=function(t){this.props.onFocus&&this.props.onFocus(t),this.setState({focus:!0})},r.onClick=function(t){this.props.onClick&&this.props.onClick(t),this.setState((function(t){return{toggled:!t.toggled}}))},r.render=function(){var t=this.props,e=t.className,r=Ae(t,an),n=Fe(I()(e,{focus:this.state.focus}),this.props.cssModule);return i.a.createElement(nn,Ce({active:this.state.toggled,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,className:n},r))},e}(i.a.Component);on.propTypes=sn,on.defaultProps={defaultValue:!1};var ln=i.a.createContext({}),cn=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"],un={a11y:P.a.bool,disabled:P.a.bool,direction:P.a.oneOf(["up","down","start","end","left","right"]),group:P.a.bool,isOpen:P.a.bool,nav:P.a.bool,active:P.a.bool,size:P.a.string,tag:We,toggle:P.a.func,children:P.a.node,className:P.a.string,cssModule:P.a.object,inNavbar:P.a.bool,setActiveFromChild:P.a.bool,menuRole:P.a.oneOf(["listbox","menu"])},hn=[Ke.space,Ke.enter,Ke.up,Ke.down,Ke.end,Ke.home],fn=function(t){function e(e){var r;return(r=t.call(this,e)||this).addEvents=r.addEvents.bind(De(r)),r.handleDocumentClick=r.handleDocumentClick.bind(De(r)),r.handleKeyDown=r.handleKeyDown.bind(De(r)),r.removeEvents=r.removeEvents.bind(De(r)),r.toggle=r.toggle.bind(De(r)),r.handleMenuRef=r.handleMenuRef.bind(De(r)),r.containerRef=i.a.createRef(),r.menuRef=i.a.createRef(),r}Oe(e,t);var r=e.prototype;return r.handleMenuRef=function(t){this.menuRef.current=t},r.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,menuRole:this.props.menuRole}},r.componentDidMount=function(){this.handleProps()},r.componentDidUpdate=function(t){this.props.isOpen!==t.isOpen&&this.handleProps()},r.componentWillUnmount=function(){this.removeEvents()},r.getContainer=function(){return this.containerRef.current},r.getMenu=function(){return this.menuRef.current},r.getMenuCtrl=function(){return this._$menuCtrl||(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]")),this._$menuCtrl},r.getItemType=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.getMenuItems=function(){var t=this.getMenu()||this.getContainer();return[].slice.call(t.querySelectorAll('[role="'+this.getItemType()+'"]'))},r.addEvents=function(){var t=this;["click","touchstart","keyup"].forEach((function(e){return document.addEventListener(e,t.handleDocumentClick,!0)}))},r.removeEvents=function(){var t=this;["click","touchstart","keyup"].forEach((function(e){return document.removeEventListener(e,t.handleDocumentClick,!0)}))},r.handleDocumentClick=function(t){if(!t||3!==t.which&&("keyup"!==t.type||t.which===Ke.tab)){var e=this.getContainer(),r=this.getMenu(),n=e.contains(t.target)&&e!==t.target,i=e.classList.contains("input-group")&&e.classList.contains("dropdown")&&"INPUT"===t.target.tagName,a=r&&r.contains(t.target)&&r!==t.target;(!(n&&!i||a)||"keyup"===t.type&&t.which!==Ke.tab)&&this.toggle(t)}},r.handleKeyDown=function(t){var e=this,r="menuitem"===t.target.getAttribute("role")||"option"===t.target.getAttribute("role"),n=this.getMenuCtrl()===t.target,i=Ke.tab===t.which;if(!(/input|textarea/i.test(t.target.tagName)||i&&!this.props.a11y||i&&!r&&!n)&&((-1!==hn.indexOf(t.which)||t.which>=48&&t.which<=90)&&t.preventDefault(),!this.props.disabled&&(n&&([Ke.space,Ke.enter,Ke.up,Ke.down].indexOf(t.which)>-1?(this.props.isOpen||this.toggle(t),setTimeout((function(){return e.getMenuItems()[0].focus()}))):this.props.isOpen&&i?(t.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&t.which===Ke.esc&&this.toggle(t)),this.props.isOpen&&r)))if([Ke.tab,Ke.esc].indexOf(t.which)>-1)this.toggle(t),this.getMenuCtrl().focus();else if([Ke.space,Ke.enter].indexOf(t.which)>-1)t.target.click(),this.getMenuCtrl().focus();else if([Ke.down,Ke.up].indexOf(t.which)>-1||[Ke.n,Ke.p].indexOf(t.which)>-1&&t.ctrlKey){var a=this.getMenuItems(),s=a.indexOf(t.target);Ke.up===t.which||Ke.p===t.which&&t.ctrlKey?s=0!==s?s-1:a.length-1:(Ke.down===t.which||Ke.n===t.which&&t.ctrlKey)&&(s=s===a.length-1?0:s+1),a[s].focus()}else if(Ke.end===t.which){var o=this.getMenuItems();o[o.length-1].focus()}else if(Ke.home===t.which){this.getMenuItems()[0].focus()}else if(t.which>=48&&t.which<=90)for(var l=this.getMenuItems(),c=String.fromCharCode(t.which).toLowerCase(),u=0;u<l.length;u+=1){if((l[u].textContent&&l[u].textContent[0].toLowerCase())===c){l[u].focus();break}}},r.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},r.toggle=function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle(t)},r.render=function(){var t,e,r=je(this.props,["toggle","disabled","inNavbar","a11y"]),n=r.className,a=r.cssModule,s=r.direction,o=r.isOpen,l=r.group,c=r.size,u=r.nav,h=r.setActiveFromChild,f=r.active,d=r.tag,p=Ae(r,cn),g=d||(u?"li":"div"),m=!1;h&&i.a.Children.map(this.props.children[1].props.children,(function(t){t&&t.props.active&&(m=!0)}));var v=Fe(I()(n,!(!u||!f)&&"active",!(!h||!m)&&"active",((t={"btn-group":l})["btn-group-"+c]=!!c,t.dropdown=!l,t.dropup="up"===s,t.dropstart="start"===s||"left"===s,t.dropend="end"===s||"right"===s,t.show=o,t["nav-item"]=u,t)),a);return i.a.createElement(ln.Provider,{value:this.getContextValue()},i.a.createElement(N,null,i.a.createElement(g,Ce({},p,((e={})["string"===typeof g?"ref":"innerRef"]=this.containerRef,e),{onKeyDown:this.handleKeyDown,className:v}))))},e}(i.a.Component);fn.propTypes=un,fn.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1};var dn=fn,pn={children:P.a.node},gn=function(t){return i.a.createElement(dn,Ce({group:!0},t))};gn.propTypes=pn;var mn=gn,vn=["className","cssModule","size","vertical","tag"],yn={tag:We,"aria-label":P.a.string,className:P.a.string,cssModule:P.a.object,role:P.a.string,size:P.a.string,vertical:P.a.bool},bn=function(t){var e=t.className,r=t.cssModule,n=t.size,a=t.vertical,s=t.tag,o=Ae(t,vn),l=Fe(I()(e,!!n&&"btn-group-"+n,a?"btn-group-vertical":"btn-group"),r);return i.a.createElement(s,Ce({},o,{className:l}))};bn.propTypes=yn,bn.defaultProps={tag:"div",role:"group"};var _n=bn,Tn=["className","cssModule","tag"],En={tag:We,"aria-label":P.a.string,className:P.a.string,cssModule:P.a.object,role:P.a.string},xn=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Tn),s=Fe(I()(e,"btn-toolbar"),r);return i.a.createElement(n,Ce({},a,{className:s}))};xn.propTypes=En,xn.defaultProps={tag:"div",role:"toolbar"};var Sn=["className","cssModule","divider","tag","header","active","text"],wn={children:P.a.node,active:P.a.bool,disabled:P.a.bool,divider:P.a.bool,tag:We,header:P.a.bool,onClick:P.a.func,className:P.a.string,cssModule:P.a.object,toggle:P.a.bool,text:P.a.bool},Cn=function(t){function e(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(De(r)),r.getTabIndex=r.getTabIndex.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.getRole=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.onClick=function(t){var e=this.props,r=e.disabled,n=e.header,i=e.divider,a=e.text;r||n||i||a?t.preventDefault():(this.props.onClick&&this.props.onClick(t),this.props.toggle&&this.context.toggle(t))},r.getTabIndex=function(){var t=this.props,e=t.disabled,r=t.header,n=t.divider,i=t.text;return e||r||n||i?"-1":"0"},r.render=function(){var t=this.getTabIndex(),e=t>-1?this.getRole():void 0,r=je(this.props,["toggle"]),n=r.className,a=r.cssModule,s=r.divider,o=r.tag,l=r.header,c=r.active,u=r.text,h=Ae(r,Sn),f=Fe(I()(n,{disabled:h.disabled,"dropdown-item":!s&&!l&&!u,active:c,"dropdown-header":l,"dropdown-divider":s,"dropdown-item-text":u}),a);return"button"===o&&(l?o="h6":s?o="div":h.href?o="a":u&&(o="span")),i.a.createElement(o,Ce({type:"button"===o&&(h.onClick||this.props.toggle)?"button":void 0},h,{tabIndex:t,role:e,className:f,onClick:this.onClick}))},e}(i.a.Component);Cn.propTypes=wn,Cn.defaultProps={tag:"button",toggle:!0},Cn.contextType=ln;var On=Cn,kn=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container"],An={tag:We,children:P.a.node.isRequired,dark:P.a.bool,end:P.a.bool,flip:P.a.bool,modifiers:P.a.array,className:P.a.string,cssModule:P.a.object,persist:P.a.bool,strategy:P.a.string,container:Ve,right:ze(P.a.bool,'Please use "end" instead.')},Dn={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},Ln=function(t){function e(){return t.apply(this,arguments)||this}Oe(e,t);var r=e.prototype;return r.getRole=function(){return"listbox"===this.context.menuRole?"listbox":"menu"},r.render=function(){var t=this,e=this.props,r=e.className,n=e.cssModule,a=e.dark,o=e.end,l=e.right,c=e.tag,u=e.flip,h=e.modifiers,f=e.persist,d=e.strategy,p=e.container,g=Ae(e,kn),m=Fe(I()(r,"dropdown-menu",{"dropdown-menu-dark":a,"dropdown-menu-end":o||l,show:this.context.isOpen}),n),v=c;if(f||this.context.isOpen&&!this.context.inNavbar){var y=(Dn[this.context.direction]||"bottom")+"-"+(o||l?"end":"start"),b=[].concat(h,[{name:"flip",enabled:!!u}]),_=i.a.createElement(se,{placement:y,modifiers:b,strategy:d},(function(e){var r=e.ref,n=e.style,a=e.placement,s=Se(Se({},t.props.style),n);return i.a.createElement(v,Ce({tabIndex:"-1",role:t.getRole(),ref:function(e){r(e);var n=t.context.onMenuRef;n&&n(e)}},g,{style:s,"aria-hidden":!t.context.isOpen,className:m,"data-popper-placement":a}))}));return p?s.a.createPortal(_,ar(p)):_}return i.a.createElement(v,Ce({tabIndex:"-1",role:this.getRole()},g,{"aria-hidden":!this.context.isOpen,className:m,"data-popper-placement":g.placement}))},e}(i.a.Component);Ln.propTypes=An,Ln.defaultProps={tag:"div",flip:!0,modifiers:[]},Ln.contextType=ln;var Rn=Ln,Pn=["className","color","cssModule","caret","split","nav","tag","innerRef"],Mn={caret:P.a.bool,color:P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object,disabled:P.a.bool,onClick:P.a.func,"aria-haspopup":P.a.bool,split:P.a.bool,tag:We,nav:P.a.bool},In=function(t){function e(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onClick=function(t){this.props.disabled||this.context.disabled?t.preventDefault():(this.props.nav&&!this.props.tag&&t.preventDefault(),this.props.onClick&&this.props.onClick(t),this.context.toggle(t))},r.getRole=function(){return this.context.menuRole||this.props["aria-haspopup"]},r.render=function(){var t,e=this,r=this.props,n=r.className,a=r.color,s=r.cssModule,o=r.caret,l=r.split,c=r.nav,u=r.tag,h=r.innerRef,f=Ae(r,Pn),d=f["aria-label"]||"Toggle Dropdown",p=Fe(I()(n,{"dropdown-toggle":o||l,"dropdown-toggle-split":l,"nav-link":c}),s),g="undefined"!==typeof f.children?f.children:i.a.createElement("span",{className:"visually-hidden"},d);return c&&!u?(t="a",f.href="#"):u?t=u:(t=nn,f.color=a,f.cssModule=s),this.context.inNavbar?i.a.createElement(t,Ce({},f,{className:p,onClick:this.onClick,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:g})):i.a.createElement(ce,{innerRef:h},(function(r){var n,a=r.ref;return i.a.createElement(t,Ce({},f,((n={})["string"===typeof t?"ref":"innerRef"]=a,n),{className:p,onClick:e.onClick,"aria-expanded":e.context.isOpen,"aria-haspopup":e.getRole(),children:g}))}))},e}(i.a.Component);In.propTypes=Mn,In.defaultProps={color:"secondary","aria-haspopup":!0},In.contextType=ln;var Fn=In,jn=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"],Nn=Se(Se({},Ee.propTypes),{},{children:P.a.oneOfType([P.a.arrayOf(P.a.node),P.a.node]),tag:We,baseClass:P.a.string,baseClassActive:P.a.string,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])}),Bn=Se(Se({},Ee.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:Ye.Fade,appear:!0,enter:!0,exit:!0,in:!0});function Un(t){var e=t.tag,r=t.baseClass,n=t.baseClassActive,a=t.className,s=t.cssModule,o=t.children,l=t.innerRef,c=Ae(t,jn),u=Ne(c,Xe),h=je(c,Xe);return i.a.createElement(Ee,u,(function(t){var c="entered"===t,u=Fe(I()(a,r,c&&n),s);return i.a.createElement(e,Ce({className:u},h,{ref:l}),o)}))}Un.propTypes=Nn,Un.defaultProps=Bn;var zn=i.a.createContext({}),Gn=["flush","open","toggle","className","cssModule","tag","innerRef"],Hn={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),children:P.a.node,flush:P.a.bool,open:P.a.oneOfType([P.a.array,P.a.string]).isRequired,toggle:P.a.func.isRequired},Vn=function(t){var e=t.flush,r=t.open,a=t.toggle,s=t.className,o=t.cssModule,l=t.tag,c=t.innerRef,u=Ae(t,Gn),h=Fe(I()(s,"accordion",{"accordion-flush":e}),o),f=Object(n.useMemo)((function(){return{open:r,toggle:a}}));return i.a.createElement(zn.Provider,{value:f},i.a.createElement(l,Ce({},u,{className:h,ref:c})))};Vn.propTypes=Hn,Vn.defaultProps={tag:"div"};var Wn=Vn,Yn={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),children:P.a.node,defaultOpen:P.a.oneOfType([P.a.array,P.a.string]),stayOpen:P.a.bool};Wn.propTypes=Yn,Wn.defaultProps={tag:"div"};var Xn=["className","cssModule","tag","innerRef","children","targetId"],qn={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),children:P.a.node,targetId:P.a.string.isRequired},Kn=function(t){var e=t.className,r=t.cssModule,a=t.tag,s=t.innerRef,o=t.children,l=t.targetId,c=Ae(t,Xn),u=Object(n.useContext)(zn),h=u.open,f=u.toggle,d=Fe(I()(e,"accordion-header"),r),p=Fe(I()("accordion-button",{collapsed:!(Array.isArray(h)?h.includes(l):h===l)}),r);return i.a.createElement(a,Ce({},c,{className:d,ref:s}),i.a.createElement("button",{type:"button",className:p,onClick:function(){return f(l)}},o))};Kn.propTypes=qn,Kn.defaultProps={tag:"h2"};var $n=["className","cssModule","tag","innerRef"],Qn={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),children:P.a.node},Zn=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.innerRef,s=Ae(t,$n),o=Fe(I()(e,"accordion-item"),r);return i.a.createElement(n,Ce({},s,{className:o,ref:a}))};Zn.propTypes=Qn,Zn.defaultProps={tag:"div"};var Jn,ti=["tag","horizontal","isOpen","className","navbar","cssModule","children","innerRef"],ei=Se(Se({},Ee.propTypes),{},{horizontal:P.a.bool,isOpen:P.a.bool,children:P.a.oneOfType([P.a.arrayOf(P.a.node),P.a.node]),tag:We,className:P.a.node,navbar:P.a.bool,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.func,P.a.string,P.a.object])}),ri=Se(Se({},Ee.defaultProps),{},{horizontal:!1,isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:Ye.Collapse}),ni=((Jn={})[qe.ENTERING]="collapsing",Jn[qe.ENTERED]="collapse show",Jn[qe.EXITING]="collapsing",Jn[qe.EXITED]="collapse",Jn);var ii=function(t){function e(e){var r;return(r=t.call(this,e)||this).state={dimension:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(t){r[t]=r[t].bind(De(r))})),r}Oe(e,t);var r=e.prototype;return r.getDimension=function(t){return this.props.horizontal?t.scrollWidth:t.scrollHeight},r.onEntering=function(t,e){this.setState({dimension:this.getDimension(t)}),this.props.onEntering(t,e)},r.onEntered=function(t,e){this.setState({dimension:null}),this.props.onEntered(t,e)},r.onExit=function(t){this.setState({dimension:this.getDimension(t)}),this.props.onExit(t)},r.onExiting=function(t){this.getDimension(t),this.setState({dimension:0}),this.props.onExiting(t)},r.onExited=function(t){this.setState({dimension:null}),this.props.onExited(t)},r.render=function(){var t=this,e=this.props,r=e.tag,n=e.horizontal,a=e.isOpen,s=e.className,o=e.navbar,l=e.cssModule,c=e.children,u=Ae(e,ti),h=this.state.dimension,f=Ne(u,Xe),d=je(u,Xe);return i.a.createElement(Ee,Ce({},f,{in:a,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(e){var a,u=function(t){return ni[t]||"collapse"}(e),f=Fe(I()(s,n&&"collapse-horizontal",u,o&&"navbar-collapse"),l),p=null===h?null:((a={})[n?"width":"height"]=h,a);return i.a.createElement(r,Ce({},d,{style:Se(Se({},d.style),p),className:f,ref:t.props.innerRef}),c)}))},e}(n.Component);ii.propTypes=ei,ii.defaultProps=ri;var ai=ii,si=["className","cssModule","tag","innerRef","children","accordionId"],oi={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),children:P.a.node,accordionId:P.a.string.isRequired},li=function(t){var e=t.className,r=t.cssModule,a=t.tag,s=t.innerRef,o=t.children,l=t.accordionId,c=Ae(t,si),u=Object(n.useContext)(zn).open,h=Fe(I()(e,"accordion-collapse"),r);return i.a.createElement(ai,Ce({},c,{className:h,ref:s,isOpen:Array.isArray(u)?u.includes(l):u===l}),i.a.createElement(a,{className:"accordion-body"},o))};li.propTypes=oi,li.defaultProps={tag:"div"};var ci=["className","cssModule","color","innerRef","pill","tag"],ui={color:P.a.string,pill:P.a.bool,tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),children:P.a.node,className:P.a.string,cssModule:P.a.object},hi=function(t){var e=t.className,r=t.cssModule,n=t.color,a=t.innerRef,s=t.pill,o=t.tag,l=Ae(t,ci),c=Fe(I()(e,"badge","bg-"+n,!!s&&"rounded-pill"),r);return l.href&&"span"===o&&(o="a"),i.a.createElement(o,Ce({},l,{className:c,ref:a}))};hi.propTypes=ui,hi.defaultProps={color:"secondary",pill:!1,tag:"span"};var fi=["className","cssModule","color","body","inverse","outline","tag","innerRef"],di={tag:We,inverse:P.a.bool,color:P.a.string,body:P.a.bool,outline:P.a.bool,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])},pi=function(t){var e=t.className,r=t.cssModule,n=t.color,a=t.body,s=t.inverse,o=t.outline,l=t.tag,c=t.innerRef,u=Ae(t,fi),h=Fe(I()(e,"card",!!s&&"text-white",!!a&&"card-body",!!n&&(o?"border":"bg")+"-"+n),r);return i.a.createElement(l,Ce({},u,{className:h,ref:c}))};pi.propTypes=di,pi.defaultProps={tag:"div"};var gi=["className","cssModule","tag"],mi={tag:We,className:P.a.string,cssModule:P.a.object},vi=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,gi),s=Fe(I()(e,"card-group"),r);return i.a.createElement(n,Ce({},a,{className:s}))};vi.propTypes=mi,vi.defaultProps={tag:"div"};var yi=["className","cssModule","tag"],bi={tag:We,className:P.a.string,cssModule:P.a.object},_i=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,yi),s=Fe(I()(e,"card-deck"),r);return i.a.createElement(n,Ce({},a,{className:s}))};_i.propTypes=bi,_i.defaultProps={tag:"div"};var Ti=["className","cssModule","tag"],Ei={tag:We,className:P.a.string,cssModule:P.a.object},xi=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Ti),s=Fe(I()(e,"card-columns"),r);return i.a.createElement(n,Ce({},a,{className:s}))};xi.propTypes=Ei,xi.defaultProps={tag:"div"};var Si=["className","cssModule","innerRef","tag"],wi={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])},Ci=function(t){var e=t.className,r=t.cssModule,n=t.innerRef,a=t.tag,s=Ae(t,Si),o=Fe(I()(e,"card-body"),r);return i.a.createElement(a,Ce({},s,{className:o,ref:n}))};Ci.propTypes=wi,Ci.defaultProps={tag:"div"};var Oi=["className","cssModule","tag","innerRef"],ki={tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Ai=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.innerRef,s=Ae(t,Oi),o=Fe(I()(e,"card-link"),r);return i.a.createElement(n,Ce({},s,{ref:a,className:o}))};Ai.propTypes=ki,Ai.defaultProps={tag:"a"};var Di=["className","cssModule","tag"],Li={tag:We,className:P.a.string,cssModule:P.a.object},Ri=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Di),s=Fe(I()(e,"card-footer"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Ri.propTypes=Li,Ri.defaultProps={tag:"div"};var Pi=["className","cssModule","tag"],Mi={tag:We,className:P.a.string,cssModule:P.a.object},Ii=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Pi),s=Fe(I()(e,"card-header"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Ii.propTypes=Mi,Ii.defaultProps={tag:"div"};var Fi=["className","cssModule","top","bottom","tag"],ji={tag:We,top:P.a.bool,bottom:P.a.bool,className:P.a.string,cssModule:P.a.object},Ni=function(t){var e=t.className,r=t.cssModule,n=t.top,a=t.bottom,s=t.tag,o=Ae(t,Fi),l="card-img";n&&(l="card-img-top"),a&&(l="card-img-bottom");var c=Fe(I()(e,l),r);return i.a.createElement(s,Ce({},o,{className:c}))};Ni.propTypes=ji,Ni.defaultProps={tag:"img"};var Bi=["className","cssModule","tag"],Ui={tag:We,className:P.a.string,cssModule:P.a.object},zi=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Bi),s=Fe(I()(e,"card-img-overlay"),r);return i.a.createElement(n,Ce({},a,{className:s}))};zi.propTypes=Ui,zi.defaultProps={tag:"div"};var Gi=["in","children","cssModule","slide","tag","className"],Hi=function(t){function e(e){var r;return(r=t.call(this,e)||this).state={startAnimation:!1},r.onEnter=r.onEnter.bind(De(r)),r.onEntering=r.onEntering.bind(De(r)),r.onExit=r.onExit.bind(De(r)),r.onExiting=r.onExiting.bind(De(r)),r.onExited=r.onExited.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onEnter=function(t,e){this.setState({startAnimation:!1}),this.props.onEnter(t,e)},r.onEntering=function(t,e){var r=t.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(t,e),r},r.onExit=function(t){this.setState({startAnimation:!1}),this.props.onExit(t)},r.onExiting=function(t){this.setState({startAnimation:!0}),t.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(t)},r.onExited=function(t){t.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(t)},r.render=function(){var t=this,e=this.props,r=e.in,n=e.children,a=e.cssModule,s=e.slide,o=e.tag,l=e.className,c=Ae(e,Gi);return i.a.createElement(Ee,Ce({},c,{enter:s,exit:s,in:r,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(e){var r=t.context.direction,s=e===qe.ENTERED||e===qe.EXITING,c=(e===qe.ENTERING||e===qe.EXITING)&&t.state.startAnimation&&("end"===r?"carousel-item-start":"carousel-item-end"),u=e===qe.ENTERING&&("end"===r?"carousel-item-next":"carousel-item-prev"),h=Fe(I()(l,"carousel-item",s&&"active",c,u),a);return i.a.createElement(o,{className:h},n)}))},e}(i.a.Component);Hi.propTypes=Se(Se({},Ee.propTypes),{},{tag:We,in:P.a.bool,cssModule:P.a.object,children:P.a.node,slide:P.a.bool,className:P.a.string}),Hi.defaultProps=Se(Se({},Ee.defaultProps),{},{tag:"div",timeout:Ye.Carousel,slide:!0}),Hi.contextTypes={direction:P.a.string};var Vi=Hi,Wi=i.a.createContext({}),Yi=function(t){function e(e){var r;return(r=t.call(this,e)||this).handleKeyPress=r.handleKeyPress.bind(De(r)),r.renderItems=r.renderItems.bind(De(r)),r.hoverStart=r.hoverStart.bind(De(r)),r.hoverEnd=r.hoverEnd.bind(De(r)),r.handleTouchStart=r.handleTouchStart.bind(De(r)),r.handleTouchEnd=r.handleTouchEnd.bind(De(r)),r.touchStartX=0,r.touchStartY=0,r.state={activeIndex:r.props.activeIndex,direction:"end",indicatorClicked:!1},r}Oe(e,t);var r=e.prototype;return r.getContextValue=function(){return{direction:this.state.direction}},r.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},e.getDerivedStateFromProps=function(t,e){var r=null,n=e.activeIndex,i=e.direction,a=e.indicatorClicked;return t.activeIndex!==n&&(t.activeIndex===n+1?i="end":t.activeIndex===n-1?i="start":t.activeIndex<n?i=a?"start":"end":t.activeIndex!==n&&(i=a?"end":"start"),r={activeIndex:t.activeIndex,direction:i,indicatorClicked:!1}),r},r.componentDidUpdate=function(t,e){e.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)},r.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},r.setInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){void 0===t&&(t=this.props),this.clearInterval(),t.interval&&(this.cycleInterval=setInterval((function(){t.next()}),parseInt(t.interval,10)))})),r.clearInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){clearInterval(this.cycleInterval)})),r.hoverStart=function(){var t;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(t=this.props).mouseEnter.apply(t,[].slice.call(arguments))},r.hoverEnd=function(){var t;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(t=this.props).mouseLeave.apply(t,[].slice.call(arguments))},r.handleKeyPress=function(t){this.props.keyboard&&(37===t.keyCode?this.props.previous():39===t.keyCode&&this.props.next())},r.handleTouchStart=function(t){this.props.enableTouch&&(this.touchStartX=t.changedTouches[0].screenX,this.touchStartY=t.changedTouches[0].screenY)},r.handleTouchEnd=function(t){if(this.props.enableTouch){var e=t.changedTouches[0].screenX,r=t.changedTouches[0].screenY,n=Math.abs(this.touchStartX-e);n<Math.abs(this.touchStartY-r)||n<40||(e<this.touchStartX?this.props.next():this.props.previous())}},r.renderItems=function(t,e){var r=this,n=this.props.slide;return i.a.createElement("div",{className:e},t.map((function(t,e){var a=e===r.state.activeIndex;return i.a.cloneElement(t,{in:a,slide:n})})))},r.render=function(){var t=this,e=this.props,r=e.cssModule,n=e.slide,a=e.className,s=e.dark,o=e.fade,l=Fe(I()(a,"carousel",o,n&&"slide",s&&"carousel-dark"),r),c=Fe(I()("carousel-inner"),r),u=this.props.children.filter((function(t){return null!==t&&void 0!==t&&"boolean"!==typeof t}));if(u.every((function(t){return t.type===Vi})))return i.a.createElement("div",{className:l,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},i.a.createElement(Wi.Provider,{value:this.getContextValue()},this.renderItems(u,c)));if(u[0]instanceof Array){var h=u[0],f=u[1],d=u[2];return i.a.createElement("div",{className:l,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},i.a.createElement(Wi.Provider,{value:this.getContextValue()},this.renderItems(h,c),f,d))}var p=u[0],g=i.a.cloneElement(p,{onClickHandler:function(e){"function"===typeof p.props.onClickHandler&&t.setState({indicatorClicked:!0},(function(){return p.props.onClickHandler(e)}))}}),m=u[1],v=u[2],y=u[3];return i.a.createElement("div",{className:l,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},i.a.createElement(Wi.Provider,{value:this.getContextValue()},g,this.renderItems(m,c),v,y))},e}(i.a.Component);Yi.propTypes={activeIndex:P.a.number,next:P.a.func.isRequired,previous:P.a.func.isRequired,keyboard:P.a.bool,pause:P.a.oneOf(["hover",!1]),ride:P.a.oneOf(["carousel"]),interval:P.a.oneOfType([P.a.number,P.a.string,P.a.bool]),children:P.a.array,mouseEnter:P.a.func,mouseLeave:P.a.func,slide:P.a.bool,dark:P.a.bool,cssModule:P.a.object,className:P.a.string,enableTouch:P.a.bool},Yi.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0,fade:!1},Yi.childContextTypes={direction:P.a.string};var Xi=Yi,qi=function(t){var e=t.direction,r=t.onClickHandler,n=t.cssModule,a=t.directionText,s=t.className,o=Fe(I()(s,"carousel-control-"+e),n),l=Fe(I()("carousel-control-"+e+"-icon"),n),c=Fe(I()("visually-hidden"),n);return i.a.createElement("a",{className:o,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(t){t.preventDefault(),r()}},i.a.createElement("span",{className:l,"aria-hidden":"true"}),i.a.createElement("span",{className:c},a||e))};qi.propTypes={direction:P.a.oneOf(["prev","next"]).isRequired,onClickHandler:P.a.func.isRequired,cssModule:P.a.object,directionText:P.a.string,className:P.a.string};var Ki=qi,$i=function(t){var e=t.items,r=t.activeIndex,n=t.cssModule,a=t.onClickHandler,s=t.className,o=Fe(I()(s,"carousel-indicators"),n),l=e.map((function(t,e){var s=Fe(I()({active:r===e}),n);return i.a.createElement("button",{"aria-label":t.caption,"data-bs-target":!0,key:""+(t.key||Object.values(t).join("")),onClick:function(t){t.preventDefault(),a(e)},className:s},t.caption)}));return i.a.createElement("div",{className:o},l)};$i.propTypes={items:P.a.array.isRequired,activeIndex:P.a.number.isRequired,cssModule:P.a.object,onClickHandler:P.a.func.isRequired,className:P.a.string};var Qi=$i,Zi=function(t){var e=t.captionHeader,r=t.captionText,n=t.cssModule,a=t.className,s=Fe(I()(a,"carousel-caption","d-none","d-md-block"),n);return i.a.createElement("div",{className:s},i.a.createElement("h3",null,e),i.a.createElement("p",null,r))};Zi.propTypes={captionHeader:P.a.node,captionText:P.a.node.isRequired,cssModule:P.a.object,className:P.a.string};var Ji=Zi,ta=["defaultActiveIndex","autoPlay","indicators","controls","items","goToIndex"],ea={items:P.a.array.isRequired,indicators:P.a.bool,controls:P.a.bool,autoPlay:P.a.bool,defaultActiveIndex:P.a.number,activeIndex:P.a.number,next:P.a.func,previous:P.a.func,goToIndex:P.a.func},ra=function(t){function e(e){var r;return(r=t.call(this,e)||this).animating=!1,r.state={activeIndex:e.defaultActiveIndex||0},r.next=r.next.bind(De(r)),r.previous=r.previous.bind(De(r)),r.goToIndex=r.goToIndex.bind(De(r)),r.onExiting=r.onExiting.bind(De(r)),r.onExited=r.onExited.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.onExiting=function(){this.animating=!0},r.onExited=function(){this.animating=!1},r.next=function(){if(!this.animating){var t=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:t})}},r.previous=function(){if(!this.animating){var t=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:t})}},r.goToIndex=function(t){this.animating||this.setState({activeIndex:t})},r.render=function(){var t=this,e=this.props,r=e.autoPlay,n=e.indicators,a=e.controls,s=e.items,o=e.goToIndex,l=Ae(e,ta),c=this.state.activeIndex,u=s.map((function(e){var r=e.key||e.src;return i.a.createElement(Vi,{onExiting:t.onExiting,onExited:t.onExited,key:r},i.a.createElement("img",{className:"d-block w-100",src:e.src,alt:e.altText}),i.a.createElement(Ji,{captionText:e.caption,captionHeader:e.header||e.caption}))}));return i.a.createElement(Xi,Ce({activeIndex:c,next:this.next,previous:this.previous,ride:r?"carousel":void 0},l),n&&i.a.createElement(Qi,{items:s,activeIndex:l.activeIndex||c,onClickHandler:o||this.goToIndex}),u,a&&i.a.createElement(Ki,{direction:"prev",directionText:"Previous",onClickHandler:l.previous||this.previous}),a&&i.a.createElement(Ki,{direction:"next",directionText:"Next",onClickHandler:l.next||this.next}))},e}(n.Component);ra.propTypes=ea,ra.defaultProps={controls:!0,indicators:!0,autoPlay:!0};var na=["className","cssModule","tag"],ia={tag:We,className:P.a.string,cssModule:P.a.object},aa=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,na),s=Fe(I()(e,"card-subtitle"),r);return i.a.createElement(n,Ce({},a,{className:s}))};aa.propTypes=ia,aa.defaultProps={tag:"div"};var sa=["className","cssModule","tag"],oa={tag:We,className:P.a.string,cssModule:P.a.object},la=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,sa),s=Fe(I()(e,"card-text"),r);return i.a.createElement(n,Ce({},a,{className:s}))};la.propTypes=oa,la.defaultProps={tag:"p"};var ca=["className","cssModule","tag"],ua={tag:We,className:P.a.string,cssModule:P.a.object},ha=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,ca),s=Fe(I()(e,"card-title"),r);return i.a.createElement(n,Ce({},a,{className:s}))};ha.propTypes=ua,ha.defaultProps={tag:"div"};var fa=["cssModule","children","isOpen","flip","target","offset","fallbackPlacements","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","strategy","boundariesElement","onClosed","fade","transition","placement"];var da={children:P.a.oneOfType([P.a.node,P.a.func]).isRequired,popperClassName:P.a.string,placement:P.a.string,placementPrefix:P.a.string,arrowClassName:P.a.string,hideArrow:P.a.bool,tag:We,isOpen:P.a.bool.isRequired,cssModule:P.a.object,offset:P.a.arrayOf(P.a.number),fallbackPlacements:P.a.array,flip:P.a.bool,container:Ve,target:Ve.isRequired,modifiers:P.a.array,strategy:P.a.string,boundariesElement:P.a.oneOfType([P.a.string,He]),onClosed:P.a.func,fade:P.a.bool,transition:P.a.shape(Un.propTypes)},pa={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:[0,0],flip:!0,container:"body",modifiers:[],onClosed:function(){},fade:!0,transition:Se({},Un.defaultProps)},ga=function(t){function e(e){var r;return(r=t.call(this,e)||this).setTargetNode=r.setTargetNode.bind(De(r)),r.getTargetNode=r.getTargetNode.bind(De(r)),r.getRef=r.getRef.bind(De(r)),r.onClosed=r.onClosed.bind(De(r)),r.state={isOpen:e.isOpen},r}Oe(e,t),e.getDerivedStateFromProps=function(t,e){return t.isOpen&&!e.isOpen?{isOpen:t.isOpen}:null};var r=e.prototype;return r.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},r.setTargetNode=function(t){this.targetNode="string"===typeof t?ar(t):t},r.getTargetNode=function(){return this.targetNode},r.getContainerNode=function(){return ar(this.props.container)},r.getRef=function(t){this._element=t},r.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},r.renderChildren=function(){var t=this.props,e=t.cssModule,r=t.children,n=t.isOpen,a=t.flip,s=t.offset,o=t.fallbackPlacements,l=t.placementPrefix,c=t.arrowClassName,u=t.hideArrow,h=t.popperClassName,f=t.tag,d=t.modifiers,p=t.strategy,g=t.boundariesElement,m=t.fade,v=t.transition,y=t.placement,b=Ae(t,fa),_=Fe(I()("arrow",c),e),T=Fe(I()(h,l?l+"-auto":""),this.props.cssModule),E=d.map((function(t){return t.name})),x=[{name:"offset",options:{offset:s}},{name:"flip",enabled:a,options:{fallbackPlacements:o}},{name:"preventOverflow",options:{boundary:g}}].filter((function(t){return!E.includes(t.name)})),S=[].concat(x,d),w=Se(Se(Se({},Un.defaultProps),v),{},{baseClass:m?v.baseClass:"",timeout:m?v.timeout:0});return i.a.createElement(Un,Ce({},w,b,{in:n,onExited:this.onClosed,tag:f}),i.a.createElement(se,{referenceElement:this.targetNode,modifiers:S,placement:y,strategy:p},(function(t){var e=t.ref,n=t.style,a=t.placement,s=t.isReferenceHidden,o=t.arrowProps,l=t.update;return i.a.createElement("div",{ref:e,style:n,className:T,"data-popper-placement":a,"data-popper-reference-hidden":s?"true":void 0},"function"===typeof r?r({update:l}):r,!u&&i.a.createElement("span",{ref:o.ref,className:_,style:o.style}))})))},r.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():s.a.createPortal(i.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},e}(i.a.Component);ga.propTypes=da,ga.defaultProps=pa;var ma=ga,va=function(t,e){return e.popperManager.setTargetNode(ar(t.target)),null};va.contextTypes={popperManager:P.a.object.isRequired},va.propTypes={target:Ve.isRequired};var ya={children:P.a.oneOfType([P.a.node,P.a.func]),placement:P.a.oneOf($e),target:Ve.isRequired,container:Ve,isOpen:P.a.bool,disabled:P.a.bool,hideArrow:P.a.bool,boundariesElement:P.a.oneOfType([P.a.string,He]),className:P.a.string,innerClassName:P.a.string,arrowClassName:P.a.string,popperClassName:P.a.string,cssModule:P.a.object,toggle:P.a.func,autohide:P.a.bool,placementPrefix:P.a.string,delay:P.a.oneOfType([P.a.shape({show:P.a.number,hide:P.a.number}),P.a.number]),modifiers:P.a.array,strategy:P.a.string,offset:P.a.arrayOf(P.a.number),innerRef:P.a.oneOfType([P.a.func,P.a.string,P.a.object]),trigger:P.a.string,fade:P.a.bool,flip:P.a.bool},ba={show:0,hide:50},_a={isOpen:!1,hideArrow:!1,autohide:!1,delay:ba,toggle:function(){},trigger:"click",fade:!0};function Ta(t,e){return e&&(t===e||e.contains(t))}function Ea(t,e){return void 0===e&&(e=[]),e&&e.length&&e.filter((function(e){return Ta(t,e)}))[0]}var xa=function(t){function e(e){var r;return(r=t.call(this,e)||this)._targets=[],r.currentTargetElement=null,r.addTargetEvents=r.addTargetEvents.bind(De(r)),r.handleDocumentClick=r.handleDocumentClick.bind(De(r)),r.removeTargetEvents=r.removeTargetEvents.bind(De(r)),r.toggle=r.toggle.bind(De(r)),r.showWithDelay=r.showWithDelay.bind(De(r)),r.hideWithDelay=r.hideWithDelay.bind(De(r)),r.onMouseOverTooltipContent=r.onMouseOverTooltipContent.bind(De(r)),r.onMouseLeaveTooltipContent=r.onMouseLeaveTooltipContent.bind(De(r)),r.show=r.show.bind(De(r)),r.hide=r.hide.bind(De(r)),r.onEscKeyDown=r.onEscKeyDown.bind(De(r)),r.getRef=r.getRef.bind(De(r)),r.state={isOpen:e.isOpen},r._isMounted=!1,r}Oe(e,t);var r=e.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},r.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},e.getDerivedStateFromProps=function(t,e){return t.isOpen&&!e.isOpen?{isOpen:t.isOpen}:null},r.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},r.onMouseLeaveTooltipContent=function(t){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),t.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,t),this.getDelay("hide")))},r.onEscKeyDown=function(t){"Escape"===t.key&&this.hide(t)},r.getRef=function(t){var e=this.props.innerRef;e&&("function"===typeof e?e(t):"object"===typeof e&&(e.current=t)),this._popover=t},r.getDelay=function(t){var e=this.props.delay;return"object"===typeof e?isNaN(e[t])?ba[t]:e[t]:e},r.getCurrentTarget=function(t){if(!t)return null;var e=this._targets.indexOf(t);return e>=0?this._targets[e]:this.getCurrentTarget(t.parentElement)},r.show=function(t){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=t?t.currentTarget||this.getCurrentTarget(t.target):null,t&&t.composedPath&&"function"===typeof t.composedPath){var e=t.composedPath();this.currentTargetElement=e&&e[0]||this.currentTargetElement}this.toggle(t)}},r.showWithDelay=function(t){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,t),this.getDelay("show"))},r.hide=function(t){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(t))},r.hideWithDelay=function(t){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,t),this.getDelay("hide"))},r.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},r.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},r.handleDocumentClick=function(t){var e=this.props.trigger.split(" ");e.indexOf("legacy")>-1&&(this.props.isOpen||Ea(t.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!Ta(t.target,this._popover)?this.hideWithDelay(t):this.props.isOpen||this.showWithDelay(t)):e.indexOf("click")>-1&&Ea(t.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(t):this.showWithDelay(t))},r.addEventOnTargets=function(t,e,r){this._targets.forEach((function(n){n.addEventListener(t,e,r)}))},r.removeEventOnTargets=function(t,e,r){this._targets.forEach((function(n){n.removeEventListener(t,e,r)}))},r.addTargetEvents=function(){if(this.props.trigger){var t=this.props.trigger.split(" ");-1===t.indexOf("manual")&&((t.indexOf("click")>-1||t.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(t.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),t.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},r.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},r.updateTarget=function(){var t=ar(this.props.target,!0);t!==this._targets&&(this.removeTargetEvents(),this._targets=t?Array.from(t):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},r.toggle=function(t){return this.props.disabled||!this._isMounted?t&&t.preventDefault():this.props.toggle(t)},r.render=function(){var t=this;this.props.isOpen&&this.updateTarget();var e=this.currentTargetElement||this._targets[0];if(!e)return null;var r=this.props,n=r.className,a=r.cssModule,s=r.innerClassName,o=r.isOpen,l=r.hideArrow,c=r.boundariesElement,u=r.placement,h=r.placementPrefix,f=r.arrowClassName,d=r.popperClassName,p=r.container,g=r.modifiers,m=r.strategy,v=r.offset,y=r.fade,b=r.flip,_=r.children,T=je(this.props,Object.keys(ya)),E=Fe(d,a),x=Fe(s,a);return i.a.createElement(ma,{className:n,target:e,isOpen:o,hideArrow:l,boundariesElement:c,placement:u,placementPrefix:h,arrowClassName:f,popperClassName:E,container:p,modifiers:g,strategy:m,offset:v,cssModule:a,fade:y,flip:b},(function(e){var r=e.update;return i.a.createElement("div",Ce({},T,{ref:t.getRef,className:x,role:"tooltip",onMouseOver:t.onMouseOverTooltipContent,onMouseLeave:t.onMouseLeaveTooltipContent,onKeyDown:t.onEscKeyDown}),"function"===typeof _?_({update:r}):_)}))},e}(i.a.Component);xa.propTypes=ya,xa.defaultProps=_a;var Sa=xa,wa=function(t){var e=I()("popover","show",t.popperClassName),r=I()("popover-inner",t.innerClassName);return i.a.createElement(Sa,Ce({},t,{arrowClassName:"popover-arrow",popperClassName:e,innerClassName:r}))};wa.propTypes=ya,wa.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click",offset:[0,8]};var Ca=wa,Oa=["defaultOpen"];(function(t){function e(e){var r;return(r=t.call(this,e)||this).state={isOpen:e.defaultOpen||!1},r.toggle=r.toggle.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.toggle=function(){this.setState({isOpen:!this.state.isOpen})},r.render=function(){return i.a.createElement(Ca,Ce({isOpen:this.state.isOpen,toggle:this.toggle},je(this.props,Oa)))},e}(n.Component)).propTypes=Se({defaultOpen:P.a.bool},Ca.propTypes);var ka=["className","cssModule","tag"],Aa={tag:We,className:P.a.string,cssModule:P.a.object},Da=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,ka),s=Fe(I()(e,"popover-header"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Da.propTypes=Aa,Da.defaultProps={tag:"h3"};var La=["className","cssModule","tag"],Ra={tag:We,className:P.a.string,cssModule:P.a.object},Pa=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,La),s=Fe(I()(e,"popover-body"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Pa.propTypes=Ra,Pa.defaultProps={tag:"div"};var Ma=["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"],Ia={children:P.a.node,bar:P.a.bool,multi:P.a.bool,tag:We,value:P.a.oneOfType([P.a.string,P.a.number]),min:P.a.oneOfType([P.a.string,P.a.number]),max:P.a.oneOfType([P.a.string,P.a.number]),animated:P.a.bool,striped:P.a.bool,color:P.a.string,className:P.a.string,barClassName:P.a.string,cssModule:P.a.object,style:P.a.object,barStyle:P.a.object,barAriaValueText:P.a.string,barAriaLabelledBy:P.a.string},Fa=function(t){var e=t.children,r=t.className,n=t.barClassName,a=t.cssModule,s=t.value,o=t.min,l=t.max,c=t.animated,u=t.striped,h=t.color,f=t.bar,d=t.multi,p=t.tag,g=t.style,m=t.barStyle,v=t.barAriaValueText,y=t.barAriaLabelledBy,b=Ae(t,Ma),_=tr(s)/tr(l)*100,T=Fe(I()(r,"progress"),a),E={className:Fe(I()("progress-bar",f&&r||n,c?"progress-bar-animated":null,h?"bg-"+h:null,u||c?"progress-bar-striped":null),a),style:Se(Se(Se({},f?g:{}),m),{},{width:_+"%"}),role:"progressbar","aria-valuenow":s,"aria-valuemin":o,"aria-valuemax":l,"aria-valuetext":v,"aria-labelledby":y,children:e};return f?i.a.createElement(p,Ce({},b,E)):i.a.createElement(p,Ce({},b,{style:g,className:T}),d?e:i.a.createElement("div",E))};Fa.propTypes=Ia,Fa.defaultProps={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}};var ja={children:P.a.node.isRequired,node:P.a.any},Na=function(t){function e(){return t.apply(this,arguments)||this}Oe(e,t);var r=e.prototype;return r.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},r.render=function(){return Qe?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),s.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},e}(i.a.Component);Na.propTypes=ja;var Ba=Na;function Ua(){}var za=P.a.shape(Un.propTypes),Ga={isOpen:P.a.bool,autoFocus:P.a.bool,centered:P.a.bool,fullscreen:P.a.oneOfType([P.a.bool,P.a.oneOf(["sm","md","lg","xl"])]),scrollable:P.a.bool,size:P.a.string,toggle:P.a.func,keyboard:P.a.bool,role:P.a.string,labelledBy:P.a.string,backdrop:P.a.oneOfType([P.a.bool,P.a.oneOf(["static"])]),onEnter:P.a.func,onExit:P.a.func,onOpened:P.a.func,onClosed:P.a.func,children:P.a.node,className:P.a.string,wrapClassName:P.a.string,modalClassName:P.a.string,backdropClassName:P.a.string,contentClassName:P.a.string,external:P.a.node,fade:P.a.bool,cssModule:P.a.object,zIndex:P.a.oneOfType([P.a.number,P.a.string]),backdropTransition:za,modalTransition:za,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),unmountOnClose:P.a.bool,returnFocusAfterClose:P.a.bool,container:Ve,trapFocus:P.a.bool},Ha=Object.keys(Ga),Va={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Ua,onClosed:Ua,modalTransition:{timeout:Ye.Modal},backdropTransition:{mountOnEnter:!0,timeout:Ye.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},Wa=function(t){function e(e){var r;return(r=t.call(this,e)||this)._element=null,r._originalBodyPadding=null,r.getFocusableChildren=r.getFocusableChildren.bind(De(r)),r.handleBackdropClick=r.handleBackdropClick.bind(De(r)),r.handleBackdropMouseDown=r.handleBackdropMouseDown.bind(De(r)),r.handleEscape=r.handleEscape.bind(De(r)),r.handleStaticBackdropAnimation=r.handleStaticBackdropAnimation.bind(De(r)),r.handleTab=r.handleTab.bind(De(r)),r.onOpened=r.onOpened.bind(De(r)),r.onClosed=r.onClosed.bind(De(r)),r.manageFocusAfterClose=r.manageFocusAfterClose.bind(De(r)),r.clearBackdropAnimationTimeout=r.clearBackdropAnimationTimeout.bind(De(r)),r.trapFocus=r.trapFocus.bind(De(r)),r.state={isOpen:!1,showStaticBackdropAnimation:!1},r}Oe(e,t);var r=e.prototype;return r.componentDidMount=function(){var t=this.props,e=t.isOpen,r=t.autoFocus,n=t.onEnter;e&&(this.init(),this.setState({isOpen:!0}),r&&this.setFocus()),n&&n(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},r.componentDidUpdate=function(t,e){if(this.props.isOpen&&!t.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!e.isOpen&&this.setFocus(),this._element&&t.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},r.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},r.trapFocus=function(t){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==t.target)&&!(this.modalIndex<e.openCount-1)){for(var r=this.getFocusableChildren(),n=0;n<r.length;n++)if(r[n]===t.target)return;r.length>0&&(t.preventDefault(),t.stopPropagation(),r[0].focus())}},r.onOpened=function(t,e){this.props.onOpened(),(this.props.modalTransition.onEntered||Ua)(t,e)},r.onClosed=function(t){var e=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||Ua)(t),e&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},r.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},r.getFocusableChildren=function(){return this._element.querySelectorAll(lr.join(", "))},r.getFocusedChild=function(){var t,e=this.getFocusableChildren();try{t=document.activeElement}catch(r){t=e[0]}return t},r.handleBackdropClick=function(t){if(t.target===this._mouseDownElement){t.stopPropagation();var e=this._dialog?this._dialog.parentNode:null;if(e&&t.target===e&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;e&&t.target===e&&this.props.toggle&&this.props.toggle(t)}},r.handleTab=function(t){if(9===t.which&&!(this.modalIndex<e.openCount-1)){var r=this.getFocusableChildren(),n=r.length;if(0!==n){for(var i=this.getFocusedChild(),a=0,s=0;s<n;s+=1)if(r[s]===i){a=s;break}t.shiftKey&&0===a?(t.preventDefault(),r[n-1].focus()):t.shiftKey||a!==n-1||(t.preventDefault(),r[0].focus())}}},r.handleBackdropMouseDown=function(t){this._mouseDownElement=t.target},r.handleEscape=function(t){this.props.isOpen&&t.keyCode===Ke.esc&&this.props.toggle&&(this.props.keyboard?(t.preventDefault(),t.stopPropagation(),this.props.toggle(t)):"static"===this.props.backdrop&&(t.preventDefault(),t.stopPropagation(),this.handleStaticBackdropAnimation()))},r.handleStaticBackdropAnimation=function(){var t=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){t.setState({showStaticBackdropAnimation:!1})}),100)},r.init=function(){try{this._triggeringElement=document.activeElement}catch(t){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=ar(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Me(),Ie(),0===e.openCount&&(document.body.className=I()(document.body.className,Fe("modal-open",this.props.cssModule))),this.modalIndex=e.openCount,e.openCount+=1},r.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},r.manageFocusAfterClose=function(){if(this._triggeringElement){var t=this.props.returnFocusAfterClose;this._triggeringElement.focus&&t&&this._triggeringElement.focus(),this._triggeringElement=null}},r.close=function(){if(e.openCount<=1){var t=Fe("modal-open",this.props.cssModule),r=new RegExp("(^| )"+t+"( |$)");document.body.className=document.body.className.replace(r," ").trim()}this.manageFocusAfterClose(),e.openCount=Math.max(0,e.openCount-1),Re(this._originalBodyPadding)},r.renderModalDialog=function(){var t,e=this,r=je(this.props,Ha),n="modal-dialog";return i.a.createElement("div",Ce({},r,{className:Fe(I()(n,this.props.className,(t={},t["modal-"+this.props.size]=this.props.size,t["modal-dialog-centered"]=this.props.centered,t["modal-dialog-scrollable"]=this.props.scrollable,t["modal-fullscreen"]=!0===this.props.fullscreen,t["modal-fullscreen-"+this.props.fullscreen+"-down"]="string"===typeof this.props.fullscreen,t)),this.props.cssModule),role:"document",ref:function(t){e._dialog=t}}),i.a.createElement("div",{className:Fe(I()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},r.render=function(){var t=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!t)){var e=!!this._element&&!this.state.isOpen&&!t;this._element.style.display=e?"none":"block";var r=this.props,n=r.wrapClassName,a=r.modalClassName,s=r.backdropClassName,o=r.cssModule,l=r.isOpen,c=r.backdrop,u=r.role,h=r.labelledBy,f=r.external,d=r.innerRef,p={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":h,role:u,tabIndex:"-1"},g=this.props.fade,m=Se(Se(Se({},Un.defaultProps),this.props.modalTransition),{},{baseClass:g?this.props.modalTransition.baseClass:"",timeout:g?this.props.modalTransition.timeout:0}),v=Se(Se(Se({},Un.defaultProps),this.props.backdropTransition),{},{baseClass:g?this.props.backdropTransition.baseClass:"",timeout:g?this.props.backdropTransition.timeout:0}),y=c&&(g?i.a.createElement(Un,Ce({},v,{in:l&&!!c,cssModule:o,className:Fe(I()("modal-backdrop",s),o)})):i.a.createElement("div",{className:Fe(I()("modal-backdrop","show",s),o)}));return i.a.createElement(Ba,{node:this._element},i.a.createElement("div",{className:Fe(n)},i.a.createElement(Un,Ce({},p,m,{in:l,onEntered:this.onOpened,onExited:this.onClosed,cssModule:o,className:Fe(I()("modal",a,this.state.showStaticBackdropAnimation&&"modal-static"),o),innerRef:d}),f,this.renderModalDialog()),y))}return null},r.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},e}(i.a.Component);Wa.propTypes=Ga,Wa.defaultProps=Va,Wa.openCount=0;var Ya=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"],Xa={tag:We,wrapTag:We,toggle:P.a.func,className:P.a.string,cssModule:P.a.object,children:P.a.node,closeAriaLabel:P.a.string,close:P.a.object},qa=function(t){var e,r=t.className,n=t.cssModule,a=t.children,s=t.toggle,o=t.tag,l=t.wrapTag,c=t.closeAriaLabel,u=t.close,h=Ae(t,Ya),f=Fe(I()(r,"modal-header"),n);return!u&&s&&(e=i.a.createElement("button",{type:"button",onClick:s,className:Fe("btn-close",n),"aria-label":c})),i.a.createElement(l,Ce({},h,{className:f}),i.a.createElement(o,{className:Fe("modal-title",n)},a),u||e)};qa.propTypes=Xa,qa.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close"};var Ka=["className","cssModule","tag"],$a={tag:We,className:P.a.string,cssModule:P.a.object},Qa=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Ka),s=Fe(I()(e,"modal-body"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Qa.propTypes=$a,Qa.defaultProps={tag:"div"};var Za=["className","cssModule","tag"],Ja={tag:We,className:P.a.string,cssModule:P.a.object},ts=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Za),s=Fe(I()(e,"modal-footer"),r);return i.a.createElement(n,Ce({},a,{className:s}))};ts.propTypes=Ja,ts.defaultProps={tag:"div"};var es=function(t){var e=I()("tooltip","show",t.popperClassName),r=I()("tooltip-inner",t.innerClassName);return i.a.createElement(Sa,Ce({},t,{arrowClassName:"tooltip-arrow",popperClassName:e,innerClassName:r}))};es.propTypes=ya,es.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};var rs=es,ns=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],is={className:P.a.string,cssModule:P.a.object,size:P.a.string,bordered:P.a.bool,borderless:P.a.bool,striped:P.a.bool,dark:P.a.bool,hover:P.a.bool,responsive:P.a.oneOfType([P.a.bool,P.a.string]),tag:We,responsiveTag:We,innerRef:P.a.oneOfType([P.a.func,P.a.string,P.a.object])},as=function(t){var e=t.className,r=t.cssModule,n=t.size,a=t.bordered,s=t.borderless,o=t.striped,l=t.dark,c=t.hover,u=t.responsive,h=t.tag,f=t.responsiveTag,d=t.innerRef,p=Ae(t,ns),g=Fe(I()(e,"table",!!n&&"table-"+n,!!a&&"table-bordered",!!s&&"table-borderless",!!o&&"table-striped",!!l&&"table-dark",!!c&&"table-hover"),r),m=i.a.createElement(h,Ce({},p,{ref:d,className:g}));if(u){var v=Fe(!0===u?"table-responsive":"table-responsive-"+u,r);return i.a.createElement(f,{className:v},m)}return m};as.propTypes=is,as.defaultProps={tag:"table",responsiveTag:"div"};var ss=["className","cssModule","tag","flush","horizontal","numbered"],os={tag:We,flush:P.a.bool,className:P.a.string,cssModule:P.a.object,horizontal:P.a.oneOfType([P.a.bool,P.a.string]),numbered:P.a.bool},ls=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.flush,s=t.horizontal,o=t.numbered,l=Ae(t,ss),c=Fe(I()(e,"list-group",a?"list-group-flush":function(t){return!1!==t&&(!0===t||"xs"===t?"list-group-horizontal":"list-group-horizontal-"+t)}(s),{"list-group-numbered":o}),r);return i.a.createElement(n,Ce({},l,{className:c}))};ls.propTypes=os,ls.defaultProps={tag:"ul",horizontal:!1,numbered:!1};var cs=["className","cssModule","inline","tag","innerRef"],us={children:P.a.node,inline:P.a.bool,tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},hs=function(t){function e(e){var r;return(r=t.call(this,e)||this).getRef=r.getRef.bind(De(r)),r.submit=r.submit.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.getRef=function(t){this.props.innerRef&&this.props.innerRef(t),this.ref=t},r.submit=function(){this.ref&&this.ref.submit()},r.render=function(){var t=this.props,e=t.className,r=t.cssModule,n=t.inline,a=t.tag,s=t.innerRef,o=Ae(t,cs),l=Fe(I()(e,!!n&&"form-inline"),r);return i.a.createElement(a,Ce({},o,{ref:s,className:l}))},e}(n.Component);hs.propTypes=us,hs.defaultProps={tag:"form"};var fs=["className","cssModule","valid","tooltip","tag"],ds={children:P.a.node,tag:We,className:P.a.string,cssModule:P.a.object,valid:P.a.bool,tooltip:P.a.bool},ps={tag:"div",valid:void 0},gs=function(t){var e=t.className,r=t.cssModule,n=t.valid,a=t.tooltip,s=t.tag,o=Ae(t,fs),l=a?"tooltip":"feedback",c=Fe(I()(e,n?"valid-"+l:"invalid-"+l),r);return i.a.createElement(s,Ce({},o,{className:c}))};gs.propTypes=ds,gs.defaultProps=ps;var ms=["className","cssModule","row","disabled","check","inline","floating","tag"],vs={children:P.a.node,row:P.a.bool,check:P.a.bool,switch:P.a.bool,inline:P.a.bool,floating:P.a.bool,disabled:P.a.bool,tag:We,className:P.a.string,cssModule:P.a.object},ys=function(t){var e=t.className,r=t.cssModule,n=t.row,a=t.disabled,s=t.check,o=t.inline,l=t.floating,c=t.tag,u=Ae(t,ms),h=s||t.switch,f=Fe(I()(e,!!n&&"row",h?"form-check":"mb-3",!!t.switch&&"form-switch",!(!h||!o)&&"form-check-inline",!(!h||!a)&&"disabled",l&&"form-floating"),r);return"fieldset"===c&&(u.disabled=a),i.a.createElement(c,Ce({},u,{className:f}))};ys.propTypes=vs,ys.defaultProps={tag:"div"};var bs=["className","cssModule","inline","color","tag"],_s={children:P.a.node,inline:P.a.bool,tag:We,color:P.a.string,className:P.a.string,cssModule:P.a.object},Ts=function(t){var e=t.className,r=t.cssModule,n=t.inline,a=t.color,s=t.tag,o=Ae(t,bs),l=Fe(I()(e,!n&&"form-text",!!a&&"text-"+a),r);return i.a.createElement(s,Ce({},o,{className:l}))};Ts.propTypes=_s,Ts.defaultProps={tag:"small",color:"muted"};var Es=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],xs={children:P.a.node,type:P.a.string,size:P.a.oneOfType([P.a.number,P.a.string]),bsSize:P.a.string,valid:P.a.bool,invalid:P.a.bool,tag:We,innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),plaintext:P.a.bool,addon:P.a.bool,className:P.a.string,cssModule:P.a.object},Ss=function(t){function e(e){var r;return(r=t.call(this,e)||this).getRef=r.getRef.bind(De(r)),r.focus=r.focus.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.getRef=function(t){this.props.innerRef&&this.props.innerRef(t),this.ref=t},r.focus=function(){this.ref&&this.ref.focus()},r.render=function(){var t=this.props,e=t.className,r=t.cssModule,n=t.type,a=t.bsSize,s=t.valid,o=t.invalid,l=t.tag,c=t.addon,u=t.plaintext,h=t.innerRef,f=Ae(t,Es),d=["switch","radio","checkbox"].indexOf(n)>-1,p=new RegExp("\\D","g"),g="select"===n,m=l||(g||"textarea"===n?n:"input"),v="form-control";u?(v+="-plaintext",m=l||"input"):"range"===n?v="form-range":g?v="form-select":d&&(v=c?null:"form-check-input"),f.size&&p.test(f.size)&&(Ue('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=f.size,delete f.size);var y=Fe(I()(e,o&&"is-invalid",s&&"is-valid",!!a&&(g?"form-select-"+a:"form-control-"+a),v),r);return("input"===m||l&&"function"===typeof l)&&(f.type="switch"===n?"checkbox":n),f.children&&!u&&"select"!==n&&"string"===typeof m&&"select"!==m&&(Ue('Input with a type of "'+n+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),i.a.createElement(m,Ce({},f,{ref:h,className:y,"aria-invalid":o}))},e}(i.a.Component);Ss.propTypes=xs,Ss.defaultProps={type:"text"};var ws=["className","cssModule","tag","type","size"],Cs={tag:We,type:P.a.bool,size:P.a.string,className:P.a.string,cssModule:P.a.object},Os=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.size,s=Ae(t,ws),o=Fe(I()(e,"input-group",a?"input-group-"+a:null),r);return"dropdown"===t.type?i.a.createElement(dn,Ce({},s,{className:o})):i.a.createElement(n,Ce({},s,{className:o}))};Os.propTypes=Cs,Os.defaultProps={tag:"div"};var ks=["className","cssModule","tag"],As={tag:We,className:P.a.string,cssModule:P.a.object},Ds=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,ks),s=Fe(I()(e,"input-group-text"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Ds.propTypes=As,Ds.defaultProps={tag:"span"};var Ls=["className","cssModule","hidden","widths","tag","check","size","for"],Rs=P.a.oneOfType([P.a.number,P.a.string]),Ps=P.a.oneOfType([P.a.bool,P.a.string,P.a.number,P.a.shape({size:Rs,order:Rs,offset:Rs})]),Ms={children:P.a.node,hidden:P.a.bool,check:P.a.bool,size:P.a.string,for:P.a.string,tag:We,className:P.a.string,cssModule:P.a.object,xs:Ps,sm:Ps,md:Ps,lg:Ps,xl:Ps,xxl:Ps,widths:P.a.array},Is={tag:"label",widths:["xs","sm","md","lg","xl","xxl"]},Fs=function(t,e,r){return!0===r||""===r?t?"col":"col-"+e:"auto"===r?t?"col-auto":"col-"+e+"-auto":t?"col-"+r:"col-"+e+"-"+r},js=function(t){var e=t.className,r=t.cssModule,n=t.hidden,a=t.widths,s=t.tag,o=t.check,l=t.size,c=t.for,u=Ae(t,Ls),h=[];a.forEach((function(e,n){var i=t[e];if(delete u[e],i||""===i){var a,s=!n;if(er(i)){var o,l=s?"-":"-"+e+"-";a=Fs(s,e,i.size),h.push(Fe(I()(((o={})[a]=i.size||""===i.size,o["order"+l+i.order]=i.order||0===i.order,o["offset"+l+i.offset]=i.offset||0===i.offset,o))),r)}else a=Fs(s,e,i),h.push(a)}}));var f=Fe(I()(e,!!n&&"visually-hidden",!!o&&"form-check-label",!!l&&"col-form-label-"+l,h,h.length?"col-form-label":"form-label"),r);return i.a.createElement(s,Ce({htmlFor:c},u,{className:f}))};js.propTypes=Ms,js.defaultProps=Is;var Ns=["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"],Bs={body:P.a.bool,bottom:P.a.bool,children:P.a.node,className:P.a.string,cssModule:P.a.object,heading:P.a.bool,left:P.a.bool,list:P.a.bool,middle:P.a.bool,object:P.a.bool,right:P.a.bool,tag:We,top:P.a.bool},Us=function(t){var e,r=t.body,n=t.bottom,a=t.className,s=t.cssModule,o=t.heading,l=t.left,c=t.list,u=t.middle,h=t.object,f=t.right,d=t.tag,p=t.top,g=Ae(t,Ns);e=o?"h4":g.href?"a":g.src||h?"img":c?"ul":"div";var m=d||e,v=Fe(I()(a,{"media-body":r,"media-heading":o,"media-left":l,"media-right":f,"media-top":p,"media-bottom":n,"media-middle":u,"media-object":h,"media-list":c,media:!r&&!o&&!l&&!f&&!p&&!n&&!u&&!h&&!c}),s);return i.a.createElement(m,Ce({},g,{className:v}))};Us.propTypes=Bs;function zs(){}var Gs=P.a.shape(Un.propTypes),Hs={autoFocus:P.a.bool,backdrop:P.a.bool,backdropClassName:P.a.string,backdropTransition:Gs,children:P.a.node,className:P.a.string,container:Ve,cssModule:P.a.object,direction:P.a.oneOf(["start","end","bottom","top","left","right"]),fade:P.a.bool,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func]),isOpen:P.a.bool,keyboard:P.a.bool,labelledBy:P.a.string,offcanvasTransition:Gs,onClosed:P.a.func,onEnter:P.a.func,onExit:P.a.func,onOpened:P.a.func,returnFocusAfterClose:P.a.bool,role:P.a.string,scrollable:P.a.bool,toggle:P.a.func,trapFocus:P.a.bool,unmountOnClose:P.a.bool,zIndex:P.a.oneOfType([P.a.number,P.a.string])},Vs=Object.keys(Hs),Ws={isOpen:!1,autoFocus:!0,direction:"start",scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:zs,onClosed:zs,offcanvasTransition:{timeout:Ye.Offcanvas},backdropTransition:{mountOnEnter:!0,timeout:Ye.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},Ys=function(t){function e(e){var r;return(r=t.call(this,e)||this)._element=null,r._originalBodyPadding=null,r.getFocusableChildren=r.getFocusableChildren.bind(De(r)),r.handleBackdropClick=r.handleBackdropClick.bind(De(r)),r.handleBackdropMouseDown=r.handleBackdropMouseDown.bind(De(r)),r.handleEscape=r.handleEscape.bind(De(r)),r.handleTab=r.handleTab.bind(De(r)),r.onOpened=r.onOpened.bind(De(r)),r.onClosed=r.onClosed.bind(De(r)),r.manageFocusAfterClose=r.manageFocusAfterClose.bind(De(r)),r.clearBackdropAnimationTimeout=r.clearBackdropAnimationTimeout.bind(De(r)),r.trapFocus=r.trapFocus.bind(De(r)),r.state={isOpen:!1},r}Oe(e,t);var r=e.prototype;return r.componentDidMount=function(){var t=this.props,e=t.isOpen,r=t.autoFocus,n=t.onEnter;e&&(this.init(),this.setState({isOpen:!0}),r&&this.setFocus()),n&&n(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},r.componentDidUpdate=function(t,e){if(this.props.isOpen&&!t.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!e.isOpen&&this.setFocus(),this._element&&t.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},r.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},r.trapFocus=function(t){if(this.props.trapFocus&&this._element&&this._dialog!==t.target&&!(this.offcanvasIndex<e.openCount-1)){for(var r=this.getFocusableChildren(),n=0;n<r.length;n++)if(r[n]===t.target)return;r.length>0&&(t.preventDefault(),t.stopPropagation(),r[0].focus())}},r.onOpened=function(t,e){this.props.onOpened(),(this.props.offcanvasTransition.onEntered||zs)(t,e)},r.onClosed=function(t){var e=this.props.unmountOnClose;this.props.onClosed(),(this.props.offcanvasTransition.onExited||zs)(t),e&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},r.setFocus=function(){this._dialog&&"function"===typeof this._dialog.focus&&this._dialog.focus()},r.getFocusableChildren=function(){return this._element.querySelectorAll(lr.join(", "))},r.getFocusedChild=function(){var t,e=this.getFocusableChildren();try{t=document.activeElement}catch(r){t=e[0]}return t},r.handleBackdropClick=function(t){if(t.target===this._mouseDownElement){t.stopPropagation();var e=this._backdrop;if(!this.props.isOpen||!0!==this.props.backdrop)return;e&&t.target===e&&this.props.toggle&&this.props.toggle(t)}},r.handleTab=function(t){if(9===t.which&&!(this.offcanvasIndex<e.openCount-1)){var r=this.getFocusableChildren(),n=r.length;if(0!==n){for(var i=this.getFocusedChild(),a=0,s=0;s<n;s+=1)if(r[s]===i){a=s;break}t.shiftKey&&0===a?(t.preventDefault(),r[n-1].focus()):t.shiftKey||a!==n-1||(t.preventDefault(),r[0].focus())}}},r.handleBackdropMouseDown=function(t){this._mouseDownElement=t.target},r.handleEscape=function(t){this.props.isOpen&&t.keyCode===Ke.esc&&this.props.toggle&&this.props.keyboard&&(t.preventDefault(),t.stopPropagation(),this.props.toggle(t))},r.init=function(){try{this._triggeringElement=document.activeElement}catch(t){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=ar(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Me(),Ie(),0===e.openCount&&this.props.backdrop&&!this.props.scrollable&&(document.body.style.overflow="hidden"),this.offcanvasIndex=e.openCount,e.openCount+=1},r.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},r.manageFocusAfterClose=function(){if(this._triggeringElement){var t=this.props.returnFocusAfterClose;this._triggeringElement.focus&&t&&this._triggeringElement.focus(),this._triggeringElement=null}},r.close=function(){this.manageFocusAfterClose(),e.openCount=Math.max(0,e.openCount-1),document.body.style.overflow=null,Re(this._originalBodyPadding)},r.render=function(){var t=this,e=this.props,r=e.direction,n=e.unmountOnClose;if(this._element&&(this.state.isOpen||!n)){var a=!!this._element&&!this.state.isOpen&&!n;this._element.style.display=a?"none":"block";var s=this.props,o=s.className,l=s.backdropClassName,c=s.cssModule,u=s.isOpen,h=s.backdrop,f=s.role,d=s.labelledBy,p=s.style,g={onKeyUp:this.handleEscape,onKeyDown:this.handleTab,"aria-labelledby":d,role:f,tabIndex:"-1"},m=this.props.fade,v=Se(Se(Se({},Un.defaultProps),this.props.offcanvasTransition),{},{baseClass:m?this.props.offcanvasTransition.baseClass:"",timeout:m?this.props.offcanvasTransition.timeout:0}),y=Se(Se(Se({},Un.defaultProps),this.props.backdropTransition),{},{baseClass:m?this.props.backdropTransition.baseClass:"",timeout:m?this.props.backdropTransition.timeout:0}),b=h&&(m?i.a.createElement(Un,Ce({},y,{in:u&&!!h,innerRef:function(e){t._backdrop=e},cssModule:c,className:Fe(I()("offcanvas-backdrop",l),c),onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown})):i.a.createElement("div",{className:Fe(I()("offcanvas-backdrop","show",l),c),onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown})),_=je(this.props,Vs);return i.a.createElement(Ba,{node:this._element},i.a.createElement(Un,Ce({},_,g,v,{in:u,onEntered:this.onOpened,onExited:this.onClosed,cssModule:c,className:Fe(I()("offcanvas",o,"offcanvas-"+r),c),innerRef:function(e){t._dialog=e},style:Se(Se({},p),{},{visibility:u?"visible":"hidden"})}),this.props.children),b)}return null},r.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},e}(i.a.Component);Ys.propTypes=Hs,Ys.defaultProps=Ws,Ys.openCount=0;var Xs=["className","cssModule","tag"],qs={tag:We,className:P.a.string,cssModule:P.a.object},Ks=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Xs),s=Fe(I()(e,"offcanvas-body"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Ks.propTypes=qs,Ks.defaultProps={tag:"div"};var $s=["children","className","close","closeAriaLabel","cssModule","tag","toggle","wrapTag"],Qs={children:P.a.node,className:P.a.string,close:P.a.object,closeAriaLabel:P.a.string,cssModule:P.a.object,tag:We,toggle:P.a.func,wrapTag:We},Zs=function(t){var e,r=t.children,n=t.className,a=t.close,s=t.closeAriaLabel,o=t.cssModule,l=t.tag,c=t.toggle,u=t.wrapTag,h=Ae(t,$s),f=Fe(I()(n,"offcanvas-header"),o);return!a&&c&&(e=i.a.createElement("button",{type:"button",onClick:c,className:Fe("btn-close",o),"aria-label":s})),i.a.createElement(u,Ce({},h,{className:f}),i.a.createElement(l,{className:Fe("offcanvas-title",o)},r),a||e)};Zs.propTypes=Qs,Zs.defaultProps={closeAriaLabel:"Close",tag:"h5",wrapTag:"div"};var Js=["className","listClassName","cssModule","size","tag","listTag","aria-label"],to={children:P.a.node,className:P.a.string,listClassName:P.a.string,cssModule:P.a.object,size:P.a.string,tag:We,listTag:We,"aria-label":P.a.string},eo=function(t){var e,r=t.className,n=t.listClassName,a=t.cssModule,s=t.size,o=t.tag,l=t.listTag,c=t["aria-label"],u=Ae(t,Js),h=Fe(I()(r),a),f=Fe(I()(n,"pagination",((e={})["pagination-"+s]=!!s,e)),a);return i.a.createElement(o,{className:h,"aria-label":c},i.a.createElement(l,Ce({},u,{className:f})))};eo.propTypes=to,eo.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var ro=["active","className","cssModule","disabled","tag"],no={active:P.a.bool,children:P.a.node,className:P.a.string,cssModule:P.a.object,disabled:P.a.bool,tag:We},io=function(t){var e=t.active,r=t.className,n=t.cssModule,a=t.disabled,s=t.tag,o=Ae(t,ro),l=Fe(I()(r,"page-item",{active:e,disabled:a}),n);return i.a.createElement(s,Ce({},o,{className:l}))};io.propTypes=no,io.defaultProps={tag:"li"};var ao=["className","cssModule","next","previous","first","last","tag"],so={"aria-label":P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object,next:P.a.bool,previous:P.a.bool,first:P.a.bool,last:P.a.bool,tag:We},oo=function(t){var e,r=t.className,n=t.cssModule,a=t.next,s=t.previous,o=t.first,l=t.last,c=t.tag,u=Ae(t,ao),h=Fe(I()(r,"page-link"),n);s?e="Previous":a?e="Next":o?e="First":l&&(e="Last");var f,d=t["aria-label"]||e;s?f="\u2039":a?f="\u203a":o?f="\xab":l&&(f="\xbb");var p=t.children;return p&&Array.isArray(p)&&0===p.length&&(p=null),u.href||"a"!==c||(c="button"),(s||a||o||l)&&(p=[i.a.createElement("span",{"aria-hidden":"true",key:"caret"},p||f),i.a.createElement("span",{className:"visually-hidden",key:"ariaLabel"},d)]),i.a.createElement(c,Ce({},u,{className:h,"aria-label":d}),p)};oo.propTypes=so,oo.defaultProps={tag:"a"};var lo=i.a.createContext({}),co={tag:We,activeTab:P.a.any,className:P.a.string,cssModule:P.a.object},uo=function(t){function e(e){var r;return(r=t.call(this,e)||this).state={activeTab:r.props.activeTab},r}return Oe(e,t),e.getDerivedStateFromProps=function(t,e){return e.activeTab!==t.activeTab?{activeTab:t.activeTab}:null},e.prototype.render=function(){var t=this.props,e=t.className,r=t.cssModule,n=t.tag,a=je(this.props,Object.keys(co)),s=Fe(I()("tab-content",e),r);return i.a.createElement(lo.Provider,{value:{activeTabId:this.state.activeTab}},i.a.createElement(n,Ce({},a,{className:s})))},e}(n.Component);uo.propTypes=co,uo.defaultProps={tag:"div"};var ho=["className","cssModule","tabId","tag"],fo={tag:We,className:P.a.string,cssModule:P.a.object,tabId:P.a.any};function po(t){var e=t.className,r=t.cssModule,n=t.tabId,a=t.tag,s=Ae(t,ho),o=function(t){return Fe(I()("tab-pane",e,{active:n===t}),r)};return i.a.createElement(lo.Consumer,null,(function(t){var e=t.activeTabId;return i.a.createElement(a,Ce({},s,{className:o(e)}))}))}po.propTypes=fo,po.defaultProps={tag:"div"};var go=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"],mo={children:P.a.node,className:P.a.string,closeClassName:P.a.string,closeAriaLabel:P.a.string,cssModule:P.a.object,color:P.a.string,fade:P.a.bool,isOpen:P.a.bool,toggle:P.a.func,tag:We,transition:P.a.shape(Un.propTypes),innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])},vo={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Se(Se({},Un.defaultProps),{},{unmountOnExit:!0})};function yo(t){var e=t.className,r=t.closeClassName,n=t.closeAriaLabel,a=t.cssModule,s=t.tag,o=t.color,l=t.isOpen,c=t.toggle,u=t.children,h=t.transition,f=t.fade,d=t.innerRef,p=Ae(t,go),g=Fe(I()(e,"alert","alert-"+o,{"alert-dismissible":c}),a),m=Fe(I()("btn-close",r),a),v=Se(Se(Se({},Un.defaultProps),h),{},{baseClass:f?h.baseClass:"",timeout:f?h.timeout:0});return i.a.createElement(Un,Ce({},p,v,{tag:s,className:g,in:l,role:"alert",innerRef:d}),c?i.a.createElement("button",{type:"button",className:m,"aria-label":n,onClick:c}):null,u)}yo.propTypes=mo,yo.defaultProps=vo;var bo=["className","cssModule","tag","isOpen","children","transition","fade","innerRef"],_o={children:P.a.node,className:P.a.string,cssModule:P.a.object,fade:P.a.bool,isOpen:P.a.bool,tag:We,transition:P.a.shape(Un.propTypes),innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])},To={isOpen:!0,tag:"div",fade:!0,transition:Se(Se({},Un.defaultProps),{},{unmountOnExit:!0})};function Eo(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.isOpen,s=t.children,o=t.transition,l=t.fade,c=t.innerRef,u=Ae(t,bo),h=Fe(I()(e,"toast"),r),f=Se(Se(Se({},Un.defaultProps),o),{},{baseClass:l?o.baseClass:"",timeout:l?o.timeout:0});return i.a.createElement(Un,Ce({},u,f,{tag:n,className:h,in:a,role:"alert",innerRef:c}),s)}Eo.propTypes=_o,Eo.defaultProps=To;var xo=["className","cssModule","innerRef","tag"],So={tag:We,className:P.a.string,cssModule:P.a.object,innerRef:P.a.oneOfType([P.a.object,P.a.string,P.a.func])},wo=function(t){var e=t.className,r=t.cssModule,n=t.innerRef,a=t.tag,s=Ae(t,xo),o=Fe(I()(e,"toast-body"),r);return i.a.createElement(a,Ce({},s,{className:o,ref:n}))};wo.propTypes=So,wo.defaultProps={tag:"div"};var Co=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close","tagClassName","icon"],Oo={tag:We,icon:P.a.oneOfType([P.a.string,P.a.node]),wrapTag:We,toggle:P.a.func,className:P.a.string,cssModule:P.a.object,children:P.a.node,closeAriaLabel:P.a.string,charCode:P.a.oneOfType([P.a.string,P.a.number]),close:P.a.object},ko=function(t){var e,r,n=t.className,a=t.cssModule,s=t.children,o=t.toggle,l=t.tag,c=t.wrapTag,u=t.closeAriaLabel,h=t.close,f=t.tagClassName,d=t.icon,p=Ae(t,Co),g=Fe(I()(n,"toast-header"),a);return!h&&o&&(e=i.a.createElement("button",{type:"button",onClick:o,className:Fe("btn-close",a),"aria-label":u})),"string"===typeof d?r=i.a.createElement("svg",{className:Fe("rounded text-"+d),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},i.a.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):d&&(r=d),i.a.createElement(c,Ce({},p,{className:g}),r,i.a.createElement(l,{className:Fe(I()(f,{"ms-2":null!=r}),a)},s),h||e)};ko.propTypes=Oo,ko.defaultProps={tag:"strong",wrapTag:"div",tagClassName:"me-auto",closeAriaLabel:"Close"};var Ao=["className","cssModule","tag","active","disabled","action","color"],Do={tag:We,active:P.a.bool,disabled:P.a.bool,color:P.a.string,action:P.a.bool,className:P.a.any,cssModule:P.a.object},Lo=function(t){t.preventDefault()},Ro=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=t.active,s=t.disabled,o=t.action,l=t.color,c=Ae(t,Ao),u=Fe(I()(e,!!a&&"active",!!s&&"disabled",!!o&&"list-group-item-action",!!l&&"list-group-item-"+l,"list-group-item"),r);return s&&(c.onClick=Lo),i.a.createElement(n,Ce({},c,{className:u}))};Ro.propTypes=Do,Ro.defaultProps={tag:"li"};var Po=["className","cssModule","tag"],Mo={tag:We,className:P.a.any,cssModule:P.a.object},Io=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Po),s=Fe(I()(e,"list-group-item-heading"),r);return i.a.createElement(n,Ce({},a,{className:s}))};Io.propTypes=Mo,Io.defaultProps={tag:"h5"};var Fo=["className","cssModule","tag"],jo={tag:We,className:P.a.any,cssModule:P.a.object},No=function(t){var e=t.className,r=t.cssModule,n=t.tag,a=Ae(t,Fo),s=Fe(I()(e,"list-group-item-text"),r);return i.a.createElement(n,Ce({},a,{className:s}))};No.propTypes=jo,No.defaultProps={tag:"p"};var Bo=["className","cssModule","tag","type"],Uo={tag:We,className:P.a.string,cssModule:P.a.object,type:P.a.string},zo=Object(n.forwardRef)((function(t,e){var r=t.className,n=t.cssModule,a=t.tag,s=t.type,o=Ae(t,Bo),l=Fe(I()(r,!!s&&"list-"+s),n);return i.a.createElement(a,Ce({},o,{className:l,ref:e}))}));zo.name="List",zo.propTypes=Uo,zo.defaultProps={tag:"ul"};var Go=["className","cssModule","tag"],Ho={tag:We,className:P.a.string,cssModule:P.a.object},Vo=Object(n.forwardRef)((function(t,e){var r=t.className,n=t.cssModule,a=t.tag,s=Ae(t,Go),o=Fe(I()(r,"list-inline-item"),n);return i.a.createElement(a,Ce({},s,{className:o,ref:e}))}));Vo.name="ListInlineItem",Vo.propTypes=Ho,Vo.defaultProps={tag:"li"};n.Component;var Wo=["defaultOpen"];(function(t){function e(e){var r;return(r=t.call(this,e)||this).state={isOpen:e.defaultOpen||!1},r.toggle=r.toggle.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.toggle=function(){this.setState({isOpen:!this.state.isOpen})},r.render=function(){return i.a.createElement(mn,Ce({isOpen:this.state.isOpen,toggle:this.toggle},je(this.props,Wo)))},e}(n.Component)).propTypes=Se({defaultOpen:P.a.bool},mn.propTypes);var Yo=["toggleEvents","defaultOpen"],Xo={defaultOpen:P.a.bool,toggler:P.a.string.isRequired,toggleEvents:P.a.arrayOf(P.a.string)},qo={toggleEvents:sr},Ko=function(t){function e(e){var r;return(r=t.call(this,e)||this).togglers=null,r.removeEventListeners=null,r.toggle=r.toggle.bind(De(r)),r.state={isOpen:e.defaultOpen||!1},r}Oe(e,t);var r=e.prototype;return r.componentDidMount=function(){this.togglers=nr(this.props.toggler),this.togglers.length&&(this.removeEventListeners=or(this.togglers,this.toggle,this.props.toggleEvents))},r.componentWillUnmount=function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()},r.toggle=function(t){this.setState((function(t){return{isOpen:!t.isOpen}})),t.preventDefault()},r.render=function(){return i.a.createElement(ai,Ce({isOpen:this.state.isOpen},je(this.props,Yo)))},e}(n.Component);Ko.propTypes=Xo,Ko.defaultProps=qo;var $o=["defaultOpen"];(function(t){function e(e){var r;return(r=t.call(this,e)||this).state={isOpen:e.defaultOpen||!1},r.toggle=r.toggle.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.toggle=function(t){var e=this,r=!this.state.isOpen;this.setState({isOpen:r},(function(){e.props.onToggle&&e.props.onToggle(t,r)}))},r.render=function(){return i.a.createElement(dn,Ce({isOpen:this.state.isOpen,toggle:this.toggle},je(this.props,$o)))},e}(n.Component)).propTypes=Se({defaultOpen:P.a.bool,onToggle:P.a.func},dn.propTypes);var Qo=["defaultOpen"];(function(t){function e(e){var r;return(r=t.call(this,e)||this).state={isOpen:e.defaultOpen||!1},r.toggle=r.toggle.bind(De(r)),r}Oe(e,t);var r=e.prototype;return r.toggle=function(){this.setState({isOpen:!this.state.isOpen})},r.render=function(){return i.a.createElement(rs,Ce({isOpen:this.state.isOpen,toggle:this.toggle},je(this.props,Qo)))},e}(n.Component)).propTypes=Se({defaultOpen:P.a.bool},rs.propTypes);var Zo=["className","cssModule","type","size","color","children","tag"],Jo={tag:We,type:P.a.string,size:P.a.string,color:P.a.string,className:P.a.string,cssModule:P.a.object,children:P.a.string},tl=function(t){var e=t.className,r=t.cssModule,n=t.type,a=t.size,s=t.color,o=t.children,l=t.tag,c=Ae(t,Zo),u=Fe(I()(e,!!a&&"spinner-"+n+"-"+a,"spinner-"+n,!!s&&"text-"+s),r);return i.a.createElement(l,Ce({role:"status"},c,{className:u}),o&&i.a.createElement("span",{className:Fe("visually-hidden",r)},o))};tl.propTypes=Jo,tl.defaultProps={tag:"div",type:"border",children:"Loading..."};var el=["className","cssModule","color","innerRef","tag","animation","size","widths"],rl=Se(Se({},Cr.propTypes),{},{color:P.a.string,tag:We,animation:P.a.oneOf(["glow","wave"]),innerRef:P.a.oneOfType([P.a.object,P.a.func,P.a.string]),size:P.a.oneOf(["lg","sm","xs"])}),nl=function(t){var e=t.className,r=t.cssModule,n=t.color,a=t.innerRef,s=t.tag,o=t.animation,l=t.size,c=t.widths,u=Ae(t,el),h=Sr(u,r,c),f=h.attributes,d=h.colClasses,p=Fe(I()(e,d,"placeholder"+(o?"-"+o:""),!!l&&"placeholder-"+l,!!n&&"bg-"+n),r);return i.a.createElement(s,Ce({},f,{className:p,ref:a}))};nl.propTypes=rl,nl.defaultProps={tag:"span"};var il=["cssModule","className","tag"],al={size:P.a.string,color:P.a.string,outline:P.a.bool,className:P.a.string,tag:We},sl={color:"primary",tag:nn},ol=function(t){var e=t.cssModule,r=t.className,n=Ae(t,il),a=Sr(n,e),s=a.attributes,o=a.colClasses,l=Fe(I()("placeholder",r,o),e);return i.a.createElement(nn,Ce({},s,{className:l,disabled:!0}))};ol.propTypes=al,ol.defaultProps=sl;!function(){if("object"===typeof window&&"function"!==typeof window.CustomEvent){window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}}}(),function(){if("function"!==typeof Object.values){Object.values=function(t){return Object.keys(t).map((function(e){return t[e]}))}}}();var ll=r(13),cl=r(5),ul=r(8),hl=r(138),fl=r(140),dl=r(11),pl=r(21),gl=r(33),ml=r(28),vl=r(35),yl=r(18);function bl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _l(){return _l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_l.apply(this,arguments)}function Tl(t,e){var r=Object.create(null);return t&&n.Children.map(t,(function(t){return t})).forEach((function(t){r[t.key]=function(t){return e&&Object(n.isValidElement)(t)?e(t):t}(t)})),r}function El(t,e,r){return null!=r[e]?r[e]:t.props[e]}function xl(t,e,r){var i=Tl(t.children),a=function(t,e){function r(r){return r in e?e[r]:t[r]}t=t||{},e=e||{};var n,i=Object.create(null),a=[];for(var s in t)s in e?a.length&&(i[s]=a,a=[]):a.push(s);var o={};for(var l in e){if(i[l])for(n=0;n<i[l].length;n++){var c=i[l][n];o[i[l][n]]=r(c)}o[l]=r(l)}for(n=0;n<a.length;n++)o[a[n]]=r(a[n]);return o}(e,i);return Object.keys(a).forEach((function(s){var o=a[s];if(Object(n.isValidElement)(o)){var l=s in e,c=s in i,u=e[s],h=Object(n.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&Object(n.isValidElement)(u)&&(a[s]=Object(n.cloneElement)(o,{onExited:r.bind(null,o),in:u.props.in,exit:El(o,"exit",t),enter:El(o,"enter",t)})):a[s]=Object(n.cloneElement)(o,{in:!1}):a[s]=Object(n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:El(o,"exit",t),enter:El(o,"enter",t)})}})),a}var Sl=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},wl=function(t){function e(e,r){var n,i=(n=t.call(this,e,r)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}he(e,t);var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var r,i,a=e.children,s=e.handleExited;return{children:e.firstRender?(r=t,i=s,Tl(r.children,(function(t){return Object(n.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:El(t,"appear",r),enter:El(t,"enter",r),exit:El(t,"exit",r)})}))):xl(t,a,s),firstRender:!1}},r.handleExited=function(t,e){var r=Tl(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var r=_l({},e.children);return delete r[t.key],{children:r}})))},r.render=function(){var t=this.props,e=t.component,r=t.childFactory,n=ue(t,["component","childFactory"]),a=this.state.contextValue,s=Sl(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===e?i.a.createElement(de.Provider,{value:a},s):i.a.createElement(de.Provider,{value:a},i.a.createElement(e,n,s))},e}(i.a.Component);wl.propTypes={},wl.defaultProps={component:"div",childFactory:function(t){return t}};var Cl=wl,Ol=r(30),kl=r(3);var Al=function(t){var e=t.className,r=t.classes,i=t.pulsate,a=void 0!==i&&i,s=t.rippleX,o=t.rippleY,l=t.rippleSize,c=t.in,u=t.onExited,h=t.timeout,f=n.useState(!1),d=Object(p.a)(f,2),g=d[0],m=d[1],v=Object(ul.a)(e,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:l,height:l,top:-l/2+o,left:-l/2+s},b=Object(ul.a)(r.child,g&&r.childLeaving,a&&r.childPulsate);return c||g||m(!0),n.useEffect((function(){if(!c&&null!=u){var t=setTimeout(u,h);return function(){clearTimeout(t)}}}),[u,c,h]),Object(kl.jsx)("span",{className:v,style:y,children:Object(kl.jsx)("span",{className:b})})},Dl=r(119),Ll=r(139);var Rl,Pl,Ml,Il,Fl,jl,Nl,Bl,Ul=Object(Ll.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zl=["center","classes","className"],Gl=Object(Ol.a)(Fl||(Fl=Rl||(Rl=bl(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Hl=Object(Ol.a)(jl||(jl=Pl||(Pl=bl(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Vl=Object(Ol.a)(Nl||(Nl=Ml||(Ml=bl(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Wl=Object(dl.a)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Yl=Object(dl.a)(Al,{name:"MuiTouchRipple",slot:"Ripple"})(Bl||(Bl=Il||(Il=bl(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ul.rippleVisible,Gl,550,(function(t){return t.theme.transitions.easing.easeInOut}),Ul.ripplePulsate,(function(t){return t.theme.transitions.duration.shorter}),Ul.child,Ul.childLeaving,Hl,550,(function(t){return t.theme.transitions.easing.easeInOut}),Ul.childPulsate,Vl,(function(t){return t.theme.transitions.easing.easeInOut})),Xl=n.forwardRef((function(t,e){var r=Object(pl.a)({props:t,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,s=r.classes,o=void 0===s?{}:s,l=r.className,c=Object(ll.a)(r,zl),u=n.useState([]),h=Object(p.a)(u,2),f=h[0],d=h[1],g=n.useRef(0),m=n.useRef(null);n.useEffect((function(){m.current&&(m.current(),m.current=null)}),[f]);var v=n.useRef(!1),y=n.useRef(null),b=n.useRef(null),_=n.useRef(null);n.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var T=n.useCallback((function(t){var e=t.pulsate,r=t.rippleX,n=t.rippleY,i=t.rippleSize,a=t.cb;d((function(t){return[].concat(Object(yl.a)(t),[Object(kl.jsx)(Yl,{classes:{ripple:Object(ul.a)(o.ripple,Ul.ripple),rippleVisible:Object(ul.a)(o.rippleVisible,Ul.rippleVisible),ripplePulsate:Object(ul.a)(o.ripplePulsate,Ul.ripplePulsate),child:Object(ul.a)(o.child,Ul.child),childLeaving:Object(ul.a)(o.childLeaving,Ul.childLeaving),childPulsate:Object(ul.a)(o.childPulsate,Ul.childPulsate)},timeout:550,pulsate:e,rippleX:r,rippleY:n,rippleSize:i},g.current)])})),g.current+=1,m.current=a}),[o]),E=n.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e.pulsate,i=void 0!==n&&n,s=e.center,o=void 0===s?a||e.pulsate:s,l=e.fakeElement,c=void 0!==l&&l;if("mousedown"===t.type&&v.current)v.current=!1;else{"touchstart"===t.type&&(v.current=!0);var u,h,f,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)u=Math.round(p.width/2),h=Math.round(p.height/2);else{var g=t.touches?t.touches[0]:t,m=g.clientX,E=g.clientY;u=Math.round(m-p.left),h=Math.round(E-p.top)}if(o)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var x=2*Math.max(Math.abs((d?d.clientWidth:0)-u),u)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(x,2)+Math.pow(S,2))}t.touches?null===b.current&&(b.current=function(){T({pulsate:i,rippleX:u,rippleY:h,rippleSize:f,cb:r})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):T({pulsate:i,rippleX:u,rippleY:h,rippleSize:f,cb:r})}}),[a,T]),x=n.useCallback((function(){E({},{pulsate:!0})}),[E]),S=n.useCallback((function(t,e){if(clearTimeout(y.current),"touchend"===t.type&&b.current)return b.current(),b.current=null,void(y.current=setTimeout((function(){S(t,e)})));b.current=null,d((function(t){return t.length>0?t.slice(1):t})),m.current=e}),[]);return n.useImperativeHandle(e,(function(){return{pulsate:x,start:E,stop:S}}),[x,E,S]),Object(kl.jsx)(Wl,Object(cl.a)({className:Object(ul.a)(o.root,Ul.root,l),ref:_},c,{children:Object(kl.jsx)(Cl,{component:null,exit:!0,children:f})}))})),ql=Xl;function Kl(t){return Object(Dl.a)("MuiButtonBase",t)}var $l,Ql=Object(Ll.a)("MuiButtonBase",["root","disabled","focusVisible"]),Zl=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Jl=Object(dl.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(t,e){return e.root}})(($l={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(c.a)($l,"&.".concat(Ql.disabled),{pointerEvents:"none",cursor:"default"}),Object(c.a)($l,"@media print",{colorAdjust:"exact"}),$l)),tc=n.forwardRef((function(t,e){var r=Object(pl.a)({props:t,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,s=void 0!==a&&a,o=r.children,l=r.className,c=r.component,u=void 0===c?"button":c,h=r.disabled,f=void 0!==h&&h,d=r.disableRipple,g=void 0!==d&&d,m=r.disableTouchRipple,v=void 0!==m&&m,y=r.focusRipple,b=void 0!==y&&y,_=r.LinkComponent,T=void 0===_?"a":_,E=r.onBlur,x=r.onClick,S=r.onContextMenu,w=r.onDragLeave,C=r.onFocus,O=r.onFocusVisible,k=r.onKeyDown,A=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,R=r.onMouseUp,P=r.onTouchEnd,M=r.onTouchMove,I=r.onTouchStart,F=r.tabIndex,j=void 0===F?0:F,N=r.TouchRippleProps,B=r.type,U=Object(ll.a)(r,Zl),z=n.useRef(null),G=n.useRef(null),H=Object(vl.a)(),V=H.isFocusVisibleRef,W=H.onFocus,Y=H.onBlur,X=H.ref,q=n.useState(!1),K=Object(p.a)(q,2),$=K[0],Q=K[1];function Z(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return Object(ml.a)((function(n){return e&&e(n),!r&&G.current&&G.current[t](n),!0}))}f&&$&&Q(!1),n.useImperativeHandle(i,(function(){return{focusVisible:function(){Q(!0),z.current.focus()}}}),[]),n.useEffect((function(){$&&b&&!g&&G.current.pulsate()}),[g,b,$]);var J=Z("start",D),tt=Z("stop",S),et=Z("stop",w),rt=Z("stop",R),nt=Z("stop",(function(t){$&&t.preventDefault(),L&&L(t)})),it=Z("start",I),at=Z("stop",P),st=Z("stop",M),ot=Z("stop",(function(t){Y(t),!1===V.current&&Q(!1),E&&E(t)}),!1),lt=Object(ml.a)((function(t){z.current||(z.current=t.currentTarget),W(t),!0===V.current&&(Q(!0),O&&O(t)),C&&C(t)})),ct=function(){var t=z.current;return u&&"button"!==u&&!("A"===t.tagName&&t.href)},ut=n.useRef(!1),ht=Object(ml.a)((function(t){b&&!ut.current&&$&&G.current&&" "===t.key&&(ut.current=!0,G.current.stop(t,(function(){G.current.start(t)}))),t.target===t.currentTarget&&ct()&&" "===t.key&&t.preventDefault(),k&&k(t),t.target===t.currentTarget&&ct()&&"Enter"===t.key&&!f&&(t.preventDefault(),x&&x(t))})),ft=Object(ml.a)((function(t){b&&" "===t.key&&G.current&&$&&!t.defaultPrevented&&(ut.current=!1,G.current.stop(t,(function(){G.current.pulsate(t)}))),A&&A(t),x&&t.target===t.currentTarget&&ct()&&" "===t.key&&!t.defaultPrevented&&x(t)})),dt=u;"button"===dt&&(U.href||U.to)&&(dt=T);var pt={};"button"===dt?(pt.type=void 0===B?"button":B,pt.disabled=f):(U.href||U.to||(pt.role="button"),f&&(pt["aria-disabled"]=f));var gt=Object(gl.a)(X,z),mt=Object(gl.a)(e,gt),vt=n.useState(!1),yt=Object(p.a)(vt,2),bt=yt[0],_t=yt[1];n.useEffect((function(){_t(!0)}),[]);var Tt=bt&&!g&&!f;var Et=Object(cl.a)({},r,{centerRipple:s,component:u,disabled:f,disableRipple:g,disableTouchRipple:v,focusRipple:b,tabIndex:j,focusVisible:$}),xt=function(t){var e=t.disabled,r=t.focusVisible,n=t.focusVisibleClassName,i=t.classes,a={root:["root",e&&"disabled",r&&"focusVisible"]},s=Object(hl.a)(a,Kl,i);return r&&n&&(s.root+=" ".concat(n)),s}(Et);return Object(kl.jsxs)(Jl,Object(cl.a)({as:dt,className:Object(ul.a)(xt.root,l),ownerState:Et,onBlur:ot,onClick:x,onContextMenu:tt,onFocus:lt,onKeyDown:ht,onKeyUp:ft,onMouseDown:J,onMouseLeave:nt,onMouseUp:rt,onDragLeave:et,onTouchEnd:at,onTouchMove:st,onTouchStart:it,ref:mt,tabIndex:f?-1:j,type:B},pt,U,{children:[o,Tt?Object(kl.jsx)(ql,Object(cl.a)({ref:G,center:s},N)):null]}))})),ec=tc,rc=r(9);function nc(t){return Object(Dl.a)("MuiButton",t)}var ic=Object(Ll.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ac=n.createContext({}),sc=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],oc=function(t){return Object(cl.a)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},lc=Object(dl.a)(ec,{shouldForwardProp:function(t){return Object(dl.b)(t)||"classes"===t},name:"MuiButton",slot:"Root",overridesResolver:function(t,e){var r=t.ownerState;return[e.root,e[r.variant],e["".concat(r.variant).concat(Object(rc.a)(r.color))],e["size".concat(Object(rc.a)(r.size))],e["".concat(r.variant,"Size").concat(Object(rc.a)(r.size))],"inherit"===r.color&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})((function(t){var e,r=t.theme,n=t.ownerState;return Object(cl.a)({},r.typography.button,(e={minWidth:64,padding:"6px 16px",borderRadius:r.shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":Object(cl.a)({textDecoration:"none",backgroundColor:Object(fl.a)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:Object(fl.a)(r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat(r.palette[n.color].main),backgroundColor:Object(fl.a)(r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:r.palette.grey.A100,boxShadow:r.shadows[4],"@media (hover: none)":{boxShadow:r.shadows[2],backgroundColor:r.palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:r.palette[n.color].dark,"@media (hover: none)":{backgroundColor:r.palette[n.color].main}}),"&:active":Object(cl.a)({},"contained"===n.variant&&{boxShadow:r.shadows[8]})},Object(c.a)(e,"&.".concat(ic.focusVisible),Object(cl.a)({},"contained"===n.variant&&{boxShadow:r.shadows[6]})),Object(c.a)(e,"&.".concat(ic.disabled),Object(cl.a)({color:r.palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat(r.palette.action.disabledBackground)},"outlined"===n.variant&&"secondary"===n.color&&{border:"1px solid ".concat(r.palette.action.disabled)},"contained"===n.variant&&{color:r.palette.action.disabled,boxShadow:r.shadows[0],backgroundColor:r.palette.action.disabledBackground})),e),"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===r.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].main,border:"1px solid ".concat(Object(fl.a)(r.palette[n.color].main,.5))},"contained"===n.variant&&{color:r.palette.getContrastText(r.palette.grey[300]),backgroundColor:r.palette.grey[300],boxShadow:r.shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].contrastText,backgroundColor:r.palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(function(t){var e;return t.ownerState.disableElevation&&(e={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(c.a)(e,"&.".concat(ic.focusVisible),{boxShadow:"none"}),Object(c.a)(e,"&:active",{boxShadow:"none"}),Object(c.a)(e,"&.".concat(ic.disabled),{boxShadow:"none"}),e)})),cc=Object(dl.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(t,e){var r=t.ownerState;return[e.startIcon,e["iconSize".concat(Object(rc.a)(r.size))]]}})((function(t){var e=t.ownerState;return Object(cl.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},oc(e))})),uc=Object(dl.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(t,e){var r=t.ownerState;return[e.endIcon,e["iconSize".concat(Object(rc.a)(r.size))]]}})((function(t){var e=t.ownerState;return Object(cl.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},oc(e))})),hc=n.forwardRef((function(t,e){var r=Object(pl.a)({props:t,name:"MuiButton"}),i=n.useContext(ac),a=i.className,s=i.color,o=i.disabled,l=i.disableElevation,c=i.disableFocusRipple,u=i.disableRipple,h=i.fullWidth,f=i.size,d=i.variant,p=r.children,g=r.className,m=r.color,v=r.component,y=void 0===v?"button":v,b=r.disabled,_=r.disableElevation,T=r.disableFocusRipple,E=r.disableRipple,x=r.endIcon,S=r.focusVisibleClassName,w=r.fullWidth,C=r.size,O=r.startIcon,k=r.type,A=r.variant,D=Object(ll.a)(r,sc),L=m||s||"primary",R=b||o||!1,P=_||l||!1,M=T||c||!1,I=w||h||!1,F=C||f||"medium",j=A||d||"text",N=E||u||!1,B=Object(cl.a)({},r,{color:L,component:y,disabled:R,disableElevation:P,disableFocusRipple:M,fullWidth:I,size:F,type:k,variant:j}),U=function(t){var e=t.color,r=t.disableElevation,n=t.fullWidth,i=t.size,a=t.variant,s=t.classes,o={root:["root",a,"".concat(a).concat(Object(rc.a)(e)),"size".concat(Object(rc.a)(i)),"".concat(a,"Size").concat(Object(rc.a)(i)),"inherit"===e&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(rc.a)(i))],endIcon:["endIcon","iconSize".concat(Object(rc.a)(i))]},l=Object(hl.a)(o,nc,s);return Object(cl.a)({},s,l)}(B),z=O&&Object(kl.jsx)(cc,{className:U.startIcon,ownerState:B,children:O}),G=x&&Object(kl.jsx)(uc,{className:U.endIcon,ownerState:B,children:x});return Object(kl.jsxs)(lc,Object(cl.a)({ownerState:B,className:Object(ul.a)(g,a),component:y,disabled:R,disableRipple:N,focusRipple:!M,focusVisibleClassName:Object(ul.a)(U.focusVisible,S),ref:e,type:k},D,{classes:U,children:[z,p,G]}))}));var fc=function(t){return"string"===typeof t};function dc(t){return Object(Dl.a)("MuiSlider",t)}var pc=Object(Ll.a)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var gc=function(t){var e=t.children,r=t.className,i=t.value,a=t.theme,s=function(t){var e=t.open;return{offset:Object(ul.a)(e&&pc.valueLabelOpen),circle:pc.valueLabelCircle,label:pc.valueLabelLabel}}(t);return n.cloneElement(e,{className:Object(ul.a)(e.props.className)},Object(kl.jsxs)(n.Fragment,{children:[e.props.children,Object(kl.jsx)("span",{className:Object(ul.a)(s.offset,r),theme:a,"aria-hidden":!0,children:Object(kl.jsx)("span",{className:s.circle,children:Object(kl.jsx)("span",{className:s.label,children:i})})})]}))};function mc(){return mc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}var vc=r(65),yc=r(141),bc=r(120),_c=r(122),Tc=r(121),Ec=r(63),xc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},Sc=["aria-label","aria-labelledby","aria-valuetext","className","component","classes","defaultValue","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"];function wc(t,e){return t-e}function Cc(t,e,r){return null==t?e:Math.min(Math.max(e,t),r)}function Oc(t,e){return t.reduce((function(t,r,n){var i=Math.abs(e-r);return null===t||i<t.distance||i===t.distance?{distance:i,index:n}:t}),null).index}function kc(t,e){if(void 0!==e.current&&t.changedTouches){for(var r=0;r<t.changedTouches.length;r+=1){var n=t.changedTouches[r];if(n.identifier===e.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Ac(t,e,r){return 100*(t-e)/(r-e)}function Dc(t,e,r){var n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(function(t){if(Math.abs(t)<1){var e=t.toExponential().split("e-"),r=e[0].split(".")[1];return(r?r.length:0)+parseInt(e[1],10)}var n=t.toString().split(".")[1];return n?n.length:0}(e)))}function Lc(t){var e=t.values,r=t.newValue,n=t.index,i=e.slice();return i[n]=r,i.sort(wc)}function Rc(t){var e=t.sliderRef,r=t.activeIndex,n=t.setActive,i=Object(vc.a)(e.current);e.current.contains(i.activeElement)&&Number(i.activeElement.getAttribute("data-index"))===r||e.current.querySelector('[type="range"][data-index="'.concat(r,'"]')).focus(),n&&n(r)}var Pc,Mc={horizontal:{offset:function(t){return{left:"".concat(t,"%")}},leap:function(t){return{width:"".concat(t,"%")}}},"horizontal-reverse":{offset:function(t){return{right:"".concat(t,"%")}},leap:function(t){return{width:"".concat(t,"%")}}},vertical:{offset:function(t){return{bottom:"".concat(t,"%")}},leap:function(t){return{height:"".concat(t,"%")}}}},Ic=function(t){return t};function Fc(){return void 0===Pc&&(Pc="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Pc}var jc=function(t){return t.children},Nc=n.forwardRef((function(t,e){var r=t["aria-label"],i=t["aria-labelledby"],a=t["aria-valuetext"],s=t.className,o=t.component,l=void 0===o?"span":o,c=t.classes,u=t.defaultValue,h=t.disableSwap,f=void 0!==h&&h,d=t.disabled,g=void 0!==d&&d,m=t.getAriaLabel,v=t.getAriaValueText,y=t.marks,b=void 0!==y&&y,_=t.max,T=void 0===_?100:_,E=t.min,x=void 0===E?0:E,S=t.name,w=t.onChange,C=t.onChangeCommitted,O=t.onMouseDown,k=t.orientation,A=void 0===k?"horizontal":k,D=t.scale,L=void 0===D?Ic:D,R=t.step,P=void 0===R?1:R,M=t.tabIndex,I=t.track,F=void 0===I?"normal":I,j=t.value,N=t.valueLabelDisplay,B=void 0===N?"off":N,U=t.valueLabelFormat,z=void 0===U?Ic:U,G=t.isRtl,H=void 0!==G&&G,V=t.components,W=void 0===V?{}:V,Y=t.componentsProps,X=void 0===Y?{}:Y,q=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,Sc),K=n.useRef(),$=n.useState(-1),Q=Object(p.a)($,2),Z=Q[0],J=Q[1],tt=n.useState(-1),et=Object(p.a)(tt,2),rt=et[0],nt=et[1],it=n.useState(!1),at=Object(p.a)(it,2),st=at[0],ot=at[1],lt=n.useRef(0),ct=Object(yc.a)({controlled:j,default:null!=u?u:x,name:"Slider"}),ut=Object(p.a)(ct,2),ht=ut[0],ft=ut[1],dt=w&&function(t,e,r){var n=t.nativeEvent||t,i=new n.constructor(n.type,n);Object.defineProperty(i,"target",{writable:!0,value:{value:e,name:S}}),w(i,e,r)},pt=Array.isArray(ht),gt=pt?ht.slice().sort(wc):[ht];gt=gt.map((function(t){return Cc(t,x,T)}));var mt=!0===b&&null!==P?Object(yl.a)(Array(Math.floor((T-x)/P)+1)).map((function(t,e){return{value:x+P*e}})):b||[],vt=Object(bc.a)(),yt=vt.isFocusVisibleRef,bt=vt.onBlur,_t=vt.onFocus,Tt=vt.ref,Et=n.useState(-1),xt=Object(p.a)(Et,2),St=xt[0],wt=xt[1],Ct=n.useRef(),Ot=Object(_c.a)(Tt,Ct),kt=Object(_c.a)(e,Ot),At=function(t){var e=Number(t.currentTarget.getAttribute("data-index"));_t(t),!0===yt.current&&wt(e),nt(e)},Dt=function(t){bt(t),!1===yt.current&&wt(-1),nt(-1)},Lt=Object(Tc.a)((function(t){var e=Number(t.currentTarget.getAttribute("data-index"));nt(e)})),Rt=Object(Tc.a)((function(){nt(-1)}));Object(Ec.a)((function(){g&&Ct.current.contains(document.activeElement)&&document.activeElement.blur()}),[g]),g&&-1!==Z&&J(-1),g&&-1!==St&&wt(-1);var Pt=function(t){var e=Number(t.currentTarget.getAttribute("data-index")),r=gt[e],n=mt.map((function(t){return t.value})),i=n.indexOf(r),a=t.target.valueAsNumber;if(mt&&null==P&&(a=a<r?n[i-1]:n[i+1]),a=Cc(a,x,T),mt&&null==P){var s=mt.map((function(t){return t.value})),o=s.indexOf(gt[e]);a=a<gt[e]?s[o-1]:s[o+1]}if(pt){f&&(a=Cc(a,gt[e-1]||-1/0,gt[e+1]||1/0));var l=a;a=Lc({values:gt,newValue:a,index:e});var c=e;f||(c=a.indexOf(l)),Rc({sliderRef:Ct,activeIndex:c})}ft(a),wt(e),dt&&dt(t,a,e),C&&C(t,a)},Mt=n.useRef(),It=A;H&&"vertical"!==A&&(It+="-reverse");var Ft=function(t){var e,r,n=t.finger,i=t.move,a=void 0!==i&&i,s=t.values,o=Ct.current.getBoundingClientRect(),l=o.width,c=o.height,u=o.bottom,h=o.left;if(e=0===It.indexOf("vertical")?(u-n.y)/c:(n.x-h)/l,-1!==It.indexOf("-reverse")&&(e=1-e),r=function(t,e,r){return(r-e)*t+e}(e,x,T),P)r=Dc(r,P,x);else{var d=mt.map((function(t){return t.value}));r=d[Oc(d,r)]}r=Cc(r,x,T);var p=0;if(pt){p=a?Mt.current:Oc(s,r),f&&(r=Cc(r,s[p-1]||-1/0,s[p+1]||1/0));var g=r;r=Lc({values:s,newValue:r,index:p}),f&&a||(p=r.indexOf(g),Mt.current=p)}return{newValue:r,activeIndex:p}},jt=Object(Tc.a)((function(t){var e=kc(t,K);if(e)if(lt.current+=1,"mousemove"!==t.type||0!==t.buttons){var r=Ft({finger:e,move:!0,values:gt}),n=r.newValue,i=r.activeIndex;Rc({sliderRef:Ct,activeIndex:i,setActive:J}),ft(n),!st&&lt.current>2&&ot(!0),dt&&dt(t,n,i)}else Nt(t)})),Nt=Object(Tc.a)((function(t){var e=kc(t,K);if(ot(!1),e){var r=Ft({finger:e,values:gt}).newValue;J(-1),"touchend"===t.type&&nt(-1),C&&C(t,r),K.current=void 0,Ut()}})),Bt=Object(Tc.a)((function(t){Fc()||t.preventDefault();var e=t.changedTouches[0];null!=e&&(K.current=e.identifier);var r=kc(t,K),n=Ft({finger:r,values:gt}),i=n.newValue,a=n.activeIndex;Rc({sliderRef:Ct,activeIndex:a,setActive:J}),ft(i),dt&&dt(t,i,a),lt.current=0;var s=Object(vc.a)(Ct.current);s.addEventListener("touchmove",jt),s.addEventListener("touchend",Nt)})),Ut=n.useCallback((function(){var t=Object(vc.a)(Ct.current);t.removeEventListener("mousemove",jt),t.removeEventListener("mouseup",Nt),t.removeEventListener("touchmove",jt),t.removeEventListener("touchend",Nt)}),[Nt,jt]);n.useEffect((function(){var t=Ct.current;return t.addEventListener("touchstart",Bt,{passive:Fc()}),function(){t.removeEventListener("touchstart",Bt,{passive:Fc()}),Ut()}}),[Ut,Bt]),n.useEffect((function(){g&&Ut()}),[g,Ut]);var zt=Object(Tc.a)((function(t){if(O&&O(t),0===t.button){t.preventDefault();var e=kc(t,K),r=Ft({finger:e,values:gt}),n=r.newValue,i=r.activeIndex;Rc({sliderRef:Ct,activeIndex:i,setActive:J}),ft(n),dt&&dt(t,n,i),lt.current=0;var a=Object(vc.a)(Ct.current);a.addEventListener("mousemove",jt),a.addEventListener("mouseup",Nt)}})),Gt=Ac(pt?gt[0]:x,x,T),Ht=Ac(gt[gt.length-1],x,T)-Gt,Vt=mc({},Mc[It].offset(Gt),Mc[It].leap(Ht)),Wt=W.Root||l,Yt=X.root||{},Xt=W.Rail||"span",qt=X.rail||{},Kt=W.Track||"span",$t=X.track||{},Qt=W.Thumb||"span",Zt=X.thumb||{},Jt=W.ValueLabel||gc,te=X.valueLabel||{},ee=W.Mark||"span",re=X.mark||{},ne=W.MarkLabel||"span",ie=X.markLabel||{},ae=mc({},t,{classes:c,disabled:g,dragging:st,isRtl:H,marked:mt.length>0&&mt.some((function(t){return t.label})),max:T,min:x,orientation:A,scale:L,step:P,track:F,valueLabelDisplay:B,valueLabelFormat:z}),se=function(t){var e=t.disabled,r=t.dragging,n=t.marked,i=t.orientation,a=t.track,s=t.classes,o={root:["root",e&&"disabled",r&&"dragging",n&&"marked","vertical"===i&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Object(hl.a)(o,dc,s)}(ae);return Object(kl.jsxs)(Wt,mc({ref:kt,onMouseDown:zt},Yt,!fc(Wt)&&{as:l,ownerState:mc({},ae,Yt.ownerState)},q,{className:Object(ul.a)(se.root,Yt.className,s),children:[Object(kl.jsx)(Xt,mc({},qt,!fc(Xt)&&{ownerState:mc({},ae,qt.ownerState)},{className:Object(ul.a)(se.rail,qt.className)})),Object(kl.jsx)(Kt,mc({},$t,!fc(Kt)&&{ownerState:mc({},ae,$t.ownerState)},{className:Object(ul.a)(se.track,$t.className),style:mc({},Vt,$t.style)})),mt.map((function(t,e){var r,i=Ac(t.value,x,T),a=Mc[It].offset(i);return r=!1===F?-1!==gt.indexOf(t.value):"normal"===F&&(pt?t.value>=gt[0]&&t.value<=gt[gt.length-1]:t.value<=gt[0])||"inverted"===F&&(pt?t.value<=gt[0]||t.value>=gt[gt.length-1]:t.value>=gt[0]),Object(kl.jsxs)(n.Fragment,{children:[Object(kl.jsx)(ee,mc({"data-index":e},re,!fc(ee)&&{ownerState:mc({},ae,re.ownerState),markActive:r},{style:mc({},a,re.style),className:Object(ul.a)(se.mark,re.className,r&&se.markActive)})),null!=t.label?Object(kl.jsx)(ne,mc({"aria-hidden":!0,"data-index":e},ie,!fc(ne)&&{ownerState:mc({},ae,ie.ownerState)},{markLabelActive:r,style:mc({},a,ie.style),className:Object(ul.a)(se.markLabel,ie.className,r&&se.markLabelActive),children:t.label})):null]},t.value)})),gt.map((function(e,s){var o=Ac(e,x,T),l=Mc[It].offset(o),c="off"===B?jc:Jt;return Object(kl.jsx)(n.Fragment,{children:Object(kl.jsx)(c,mc({valueLabelFormat:z,valueLabelDisplay:B,value:"function"===typeof z?z(L(e),s):z,index:s,open:rt===s||Z===s||"on"===B,disabled:g},te,{className:Object(ul.a)(se.valueLabel,te.className)},!fc(Jt)&&{ownerState:mc({},ae,te.ownerState)},{children:Object(kl.jsx)(Qt,mc({"data-index":s,onMouseOver:Lt,onMouseLeave:Rt},Zt,{className:Object(ul.a)(se.thumb,Zt.className,Z===s&&se.active,St===s&&se.focusVisible)},!fc(Qt)&&{ownerState:mc({},ae,Zt.ownerState)},{style:mc({},l,{pointerEvents:f&&Z!==s?"none":void 0},Zt.style),children:Object(kl.jsx)("input",{tabIndex:M,"data-index":s,"aria-label":m?m(s):r,"aria-labelledby":i,"aria-orientation":A,"aria-valuemax":L(T),"aria-valuemin":L(x),"aria-valuenow":L(e),"aria-valuetext":v?v(L(e),s):a,onFocus:At,onBlur:Dt,name:S,type:"range",min:t.min,max:t.max,step:t.step,disabled:g,value:gt[s],onChange:Pt,style:mc({},xc,{direction:H?"rtl":"ltr",width:"100%",height:"100%"})})}))}))},s)}))]}))})),Bc=Nc,Uc=r(69),zc=r(29);var Gc=["components","componentsProps","color","size"],Hc=Object(cl.a)({},pc,Object(Ll.a)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),Vc=Object(dl.a)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(t,e){var r=t.ownerState,n=!0===r.marksProp&&null!==r.step?Object(yl.a)(Array(Math.floor((r.max-r.min)/r.step)+1)).map((function(t,e){return{value:r.min+r.step*e}})):r.marksProp||[],i=n.length>0&&n.some((function(t){return t.label}));return[e.root,e["color".concat(Object(rc.a)(r.color))],"medium"!==r.size&&e["size".concat(Object(rc.a)(r.size))],i&&e.marked,"vertical"===r.orientation&&e.vertical,"inverted"===r.track&&e.trackInverted,!1===r.track&&e.trackFalse]}})((function(t){var e,r=t.theme,n=t.ownerState;return Object(cl.a)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:r.palette[n.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===n.orientation&&Object(cl.a)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===n.size&&{height:2},n.marked&&{marginBottom:20}),"vertical"===n.orientation&&Object(cl.a)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===n.size&&{width:2},n.marked&&{marginRight:44}),(e={"@media print":{colorAdjust:"exact"}},Object(c.a)(e,"&.".concat(Hc.disabled),{pointerEvents:"none",cursor:"default",color:r.palette.grey[400]}),Object(c.a)(e,"&.".concat(Hc.dragging),Object(c.a)({},"& .".concat(Hc.thumb,", & .").concat(Hc.track),{transition:"none"})),e))})),Wc=Object(dl.a)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(t,e){return e.rail}})((function(t){var e=t.ownerState;return Object(cl.a)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1})})),Yc=Object(dl.a)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(t,e){return e.track}})((function(t){var e=t.theme,r=t.ownerState,n="light"===e.palette.mode?Object(fl.d)(e.palette[r.color].main,.62):Object(fl.b)(e.palette[r.color].main,.5);return Object(cl.a)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===r.size&&{border:"none"},"horizontal"===r.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===r.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===r.track&&{display:"none"},"inverted"===r.track&&{backgroundColor:n,borderColor:n})})),Xc=Object(dl.a)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(t,e){var r=t.ownerState;return[e.thumb,e["thumbColor".concat(Object(rc.a)(r.color))],"medium"!==r.size&&e["thumbSize".concat(Object(rc.a)(r.size))]]}})((function(t){var e,r=t.theme,n=t.ownerState;return Object(cl.a)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:r.transitions.create(["box-shadow","left","bottom"],{duration:r.transitions.duration.shortest})},"small"===n.size&&{width:12,height:12},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(e={"&:before":Object(cl.a)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:r.shadows[2]},"small"===n.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},Object(c.a)(e,"&:hover, &.".concat(Hc.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat(Object(fl.a)(r.palette[n.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),Object(c.a)(e,"&.".concat(Hc.active),{boxShadow:"0px 0px 0px 14px ".concat(Object(fl.a)(r.palette[n.color].main,.16))}),Object(c.a)(e,"&.".concat(Hc.disabled),{"&:hover":{boxShadow:"none"}}),e))})),qc=Object(dl.a)(gc,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(t,e){return e.valueLabel}})((function(t){var e,r=t.theme,n=t.ownerState;return Object(cl.a)((e={},Object(c.a)(e,"&.".concat(Hc.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),Object(c.a)(e,"zIndex",1),Object(c.a)(e,"whiteSpace","nowrap"),e),r.typography.body2,{fontWeight:500,transition:r.transitions.create(["transform"],{duration:r.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:r.palette.grey[600],borderRadius:2,color:r.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"small"===n.size&&{fontSize:r.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}})})),Kc=Object(dl.a)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(t){return Object(dl.c)(t)&&"markActive"!==t},overridesResolver:function(t,e){return e.mark}})((function(t){var e=t.theme,r=t.ownerState,n=t.markActive;return Object(cl.a)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===r.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===r.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:e.palette.background.paper,opacity:.8})})),$c=Object(dl.a)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(t){return Object(dl.c)(t)&&"markLabelActive"!==t},overridesResolver:function(t,e){return e.markLabel}})((function(t){var e=t.theme,r=t.ownerState,n=t.markLabelActive;return Object(cl.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===r.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===r.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:e.palette.text.primary})}));Vc.propTypes={children:P.a.node,ownerState:P.a.shape({"aria-label":P.a.string,"aria-labelledby":P.a.string,"aria-valuetext":P.a.string,classes:P.a.object,color:P.a.oneOf(["primary","secondary"]),defaultValue:P.a.oneOfType([P.a.arrayOf(P.a.number),P.a.number]),disabled:P.a.bool,getAriaLabel:P.a.func,getAriaValueText:P.a.func,isRtl:P.a.bool,marks:P.a.oneOfType([P.a.arrayOf(P.a.shape({label:P.a.node,value:P.a.number.isRequired})),P.a.bool]),max:P.a.number,min:P.a.number,name:P.a.string,onChange:P.a.func,onChangeCommitted:P.a.func,orientation:P.a.oneOf(["horizontal","vertical"]),scale:P.a.func,step:P.a.number,track:P.a.oneOf(["inverted","normal",!1]),value:P.a.oneOfType([P.a.arrayOf(P.a.number),P.a.number]),valueLabelDisplay:P.a.oneOf(["auto","off","on"]),valueLabelFormat:P.a.oneOfType([P.a.func,P.a.string])})};var Qc=function(t){return!t||!fc(t)},Zc=n.forwardRef((function(t,e){var r,n,i,a,s=Object(pl.a)({props:t,name:"MuiSlider"}),o="rtl"===Object(Uc.a)(zc.a).direction,l=s.components,c=void 0===l?{}:l,u=s.componentsProps,h=void 0===u?{}:u,f=s.color,d=void 0===f?"primary":f,p=s.size,g=void 0===p?"medium":p,m=Object(ll.a)(s,Gc),v=function(t){var e=t.color,r=t.size,n=t.classes,i=void 0===n?{}:n;return Object(cl.a)({},i,{root:Object(ul.a)(i.root,dc("color".concat(Object(rc.a)(e))),i["color".concat(Object(rc.a)(e))],r&&[dc("size".concat(Object(rc.a)(r))),i["size".concat(Object(rc.a)(r))]]),thumb:Object(ul.a)(i.thumb,dc("thumbColor".concat(Object(rc.a)(e))),i["thumbColor".concat(Object(rc.a)(e))],r&&[dc("thumbSize".concat(Object(rc.a)(r))),i["thumbSize".concat(Object(rc.a)(r))]])})}(Object(cl.a)({},s,{color:d,size:g}));return Object(kl.jsx)(Bc,Object(cl.a)({},m,{isRtl:o,components:Object(cl.a)({Root:Vc,Rail:Wc,Track:Yc,Thumb:Xc,ValueLabel:qc,Mark:Kc,MarkLabel:$c},c),componentsProps:Object(cl.a)({},h,{root:Object(cl.a)({},h.root,Qc(c.Root)&&{ownerState:Object(cl.a)({},null==(r=h.root)?void 0:r.ownerState,{color:d,size:g})}),thumb:Object(cl.a)({},h.thumb,Qc(c.Thumb)&&{ownerState:Object(cl.a)({},null==(n=h.thumb)?void 0:n.ownerState,{color:d,size:g})}),track:Object(cl.a)({},h.track,Qc(c.Track)&&{ownerState:Object(cl.a)({},null==(i=h.track)?void 0:i.ownerState,{color:d,size:g})}),valueLabel:Object(cl.a)({},h.valueLabel,Qc(c.ValueLabel)&&{ownerState:Object(cl.a)({},null==(a=h.valueLabel)?void 0:a.ownerState,{color:d,size:g})})}),classes:v,ref:e}))})),Jc=r(64),tu=r.n(Jc),eu=(r(94),function(t){var e=t.className,r=(t.duration,t.onMouseUp),i=t.onMouseDown,a=t.onChange,s=t.played,o=Object(n.useRef)(null);return Object(kl.jsx)("div",{className:"player-slider".concat(e?" ".concat(e):""),children:Object(kl.jsx)("input",{ref:o,type:"range",min:0,max:1,step:"any",value:s,onMouseUp:r,onMouseDown:i,onChange:a,onInput:a})})});eu.defaultProps={className:"",duration:0,onMouseUp:function(){},onMouseDown:function(){},onChange:function(){},played:0};var ru=eu,nu=function(t,e){return("0".repeat(e-1)+t).slice(-e)},iu=function(t){var e=new Date(1e3*t),r=nu(e.getUTCHours(),2),n=nu(e.getUTCMinutes(),2),i=nu(e.getUTCSeconds(),2);return"".concat(r,":").concat(n,":").concat(i)},au=function(t){var e=t.className,r=t.seconds;return Object(kl.jsx)("time",{dateTime:"P".concat(Math.round(r),"S"),className:e,children:iu(r)})};au.defaultProps={className:"",seconds:0};var su=au,ou=(r(96),[.5,.75,1,1.25,1.5,1.75,2]),lu=function(t){var e=t.className,r=t.dropdownopen,n=t.handleDropdown,i=t.is_playing,a=t.played,s=t.playbackRate,o=t.duration,l=t.fullscreen,c=(t.showAnnotation,t.onSliderMouseUp),u=t.onSliderMouseDown,h=t.onSliderChange,f=t.onRewind,d=t.onPlayPause,p=t.onPlaybackRateChange,g=(t.onNextSecFrame,t.onPrevSecFrame,t.onFullScreen,t.onShowAnnotation,t.onSkipPrevious),m=t.onSkipNext,v=t.volume,y=t.onVolumeChange,b=t.onDownloadNotes;return Object(kl.jsxs)("div",{className:"player-control".concat(e?" ".concat(e):""),children:[Object(kl.jsx)(ru,{played:a,onMouseUp:c,onMouseDown:u,onChange:h,duration:o}),Object(kl.jsxs)("div",{className:"d-flex mt-2",style:{background:l?"gray":""},children:[Object(kl.jsx)("div",{className:"mr-auto d-flex align-items-center",children:Object(kl.jsxs)(_n,{children:[Object(kl.jsx)(hc,{title:"rewind",className:"player-control__button d-flex align-items-center",onClick:f,children:Object(kl.jsx)(O,{className:"player-control__icon"})}),Object(kl.jsx)(hc,{title:"prev scene",className:"player-control__button d-flex align-items-center",onClick:g,children:Object(kl.jsx)(A,{className:"player-control__icon"})}),Object(kl.jsx)(hc,{title:i?"pause":"play",className:"player-control__button d-flex align-items-center",onClick:d,children:i?Object(kl.jsx)(w,{className:"player-control__icon"}):Object(kl.jsx)(C,{className:"player-control__icon"})}),Object(kl.jsx)(hc,{title:"next scene",className:"player-control__button d-flex align-items-center",onClick:m,children:Object(kl.jsx)(k,{className:"player-control__icon"})})]})}),Object(kl.jsx)("div",{className:"d-flex align-items-center pr-4",children:Object(kl.jsx)(hc,{className:"player-control__button d-flex align-items-center",children:Object(kl.jsxs)("div",{className:"player-control__time",children:[Object(kl.jsx)(su,{seconds:a*o})," / ",Object(kl.jsx)(su,{seconds:o})]})})}),Object(kl.jsxs)("div",{className:"d-flex align-items-center pr-4",style:{width:"150px"},children:[Object(kl.jsx)(tu.a,{}),Object(kl.jsx)(Zc,{style:{marginLeft:"15px"},value:v,onChange:y,"aria-labelledby":"input-slider"})]}),Object(kl.jsx)("div",{className:"ms-auto"}),Object(kl.jsxs)(dn,{title:"playrate",direction:"up",isOpen:r,toggle:n,children:[Object(kl.jsx)(Fn,{tag:"span",children:Object(kl.jsx)(hc,{className:"player-control__button",children:Object(kl.jsx)(S,{className:"player-control__settings"})})}),Object(kl.jsxs)(Rn,{children:[Object(kl.jsxs)(On,{header:!0,className:"player-control__speed-item-header",children:["Speed ",s,"x"]}),Object(kl.jsx)(On,{divider:!0}),ou.map((function(t,e){return Object(kl.jsxs)(On,{onClick:function(){return p(t)},children:[s===t?Object(kl.jsx)(L,{className:"player-control__speed-item-checker"}):"",Object(kl.jsx)("span",{className:"player-control__speed-item",children:1===t?"Normal":"".concat(t,"x")})]},e)}))]})]}),Object(kl.jsx)("div",{className:"mr-auto d-flex align-items-center",children:Object(kl.jsx)(_n,{children:Object(kl.jsx)(hc,{title:"Download notes",className:"player-control__button d-flex align-items-center",onClick:b,children:Object(kl.jsx)(D,{className:"player-control__icon"})})})})]})]})};lu.defaultProps={className:"",is_playing:!1,played:0,playbackRate:1,duration:0,onSliderMouseUp:function(){},onSliderMouseDown:function(){},onSliderChange:function(){},onRewind:function(){},onPlayPause:function(){},onPlaybackRateChange:function(){},onPrevSecFrame:function(){},onNextSecFrame:function(){},onSkipPrevious:function(){},onSkipNext:function(){},onDownloadNotes:function(){}};var cu=lu,uu=!1,hu="./neurovideo.md",fu=720,du=100,pu=1e8,gu="PRESENTER-ONLY",mu="TEXT-ONLY",vu="PRESENTER+TEXT",yu="VIDEOEND",bu=30,_u=45,Tu=28,Eu=0,xu=1280,Su=720,wu=17,Cu=15,Ou=25,ku=.8,Au=10,Du=10,Lu=10,Ru=.415,Pu=.535,Mu=.829,Iu=-1,Fu=0,ju=1,Nu=2;function Bu(t){switch(t._type){case"document":case"block_quote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"link":case"image":case"custom_inline":case"custom_block":return!0;default:return!1}}var Uu=function(t,e){this.current=t,this.entering=!0===e},zu=function(){var t=this.current,e=this.entering;if(null===t)return null;var r=Bu(t);return e&&r?t._firstChild?(this.current=t._firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t._next?(this.current=t._parent,this.entering=!1):(this.current=t._next,this.entering=!0),{entering:e,node:t}},Gu=function(t){return{current:t,root:t,entering:!0,next:zu,resumeAt:Uu}},Hu=function(t,e){this._type=t,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=e,this._lastLineBlank=!1,this._lastLineChecked=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData={},this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null,this._onEnter=null,this._onExit=null},Vu=Hu.prototype;Object.defineProperty(Vu,"isContainer",{get:function(){return Bu(this)}}),Object.defineProperty(Vu,"type",{get:function(){return this._type}}),Object.defineProperty(Vu,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(Vu,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(Vu,"next",{get:function(){return this._next}}),Object.defineProperty(Vu,"prev",{get:function(){return this._prev}}),Object.defineProperty(Vu,"parent",{get:function(){return this._parent}}),Object.defineProperty(Vu,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(Vu,"literal",{get:function(){return this._literal},set:function(t){this._literal=t}}),Object.defineProperty(Vu,"destination",{get:function(){return this._destination},set:function(t){this._destination=t}}),Object.defineProperty(Vu,"title",{get:function(){return this._title},set:function(t){this._title=t}}),Object.defineProperty(Vu,"info",{get:function(){return this._info},set:function(t){this._info=t}}),Object.defineProperty(Vu,"level",{get:function(){return this._level},set:function(t){this._level=t}}),Object.defineProperty(Vu,"listType",{get:function(){return this._listData.type},set:function(t){this._listData.type=t}}),Object.defineProperty(Vu,"listTight",{get:function(){return this._listData.tight},set:function(t){this._listData.tight=t}}),Object.defineProperty(Vu,"listStart",{get:function(){return this._listData.start},set:function(t){this._listData.start=t}}),Object.defineProperty(Vu,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(t){this._listData.delimiter=t}}),Object.defineProperty(Vu,"onEnter",{get:function(){return this._onEnter},set:function(t){this._onEnter=t}}),Object.defineProperty(Vu,"onExit",{get:function(){return this._onExit},set:function(t){this._onExit=t}}),Hu.prototype.appendChild=function(t){t.unlink(),t._parent=this,this._lastChild?(this._lastChild._next=t,t._prev=this._lastChild,this._lastChild=t):(this._firstChild=t,this._lastChild=t)},Hu.prototype.prependChild=function(t){t.unlink(),t._parent=this,this._firstChild?(this._firstChild._prev=t,t._next=this._firstChild,this._firstChild=t):(this._firstChild=t,this._lastChild=t)},Hu.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},Hu.prototype.insertAfter=function(t){t.unlink(),t._next=this._next,t._next&&(t._next._prev=t),t._prev=this,this._next=t,t._parent=this._parent,t._next||(t._parent._lastChild=t)},Hu.prototype.insertBefore=function(t){t.unlink(),t._prev=this._prev,t._prev&&(t._prev._next=t),t._next=this,this._prev=t,t._parent=this._parent,t._prev||(t._parent._firstChild=t)},Hu.prototype.walker=function(){return new Gu(this)};var Wu,Yu=Hu,Xu=r(66),qu=r.n(Xu),Ku=r(39),$u="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",Qu="[A-Za-z][A-Za-z0-9-]*",Zu="<"+Qu+"(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",Ju="</"+Qu+"\\s*[>]",th=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?][\\s\\S]*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),eh=/[\\&]/,rh="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",nh=new RegExp("\\\\"+rh+"|"+$u,"gi"),ih=new RegExp('[&<>"]',"g"),ah=function(t){return 92===t.charCodeAt(0)?t.charAt(1):Object(Ku.decodeHTML)(t)},sh=function(t){return eh.test(t)?t.replace(nh,ah):t},oh=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}},lh=function(t){return ih.test(t)?t.replace(ih,oh):t};function ch(t){return Wu(t)}if(String.fromCodePoint)Wu=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var uh=String.fromCharCode,hh=Math.floor;Wu=function(){var t,e,r=16384,n=[],i=-1,a=arguments.length;if(!a)return"";for(var s="";++i<a;){var o=Number(arguments[i]);if(!isFinite(o)||o<0||o>1114111||hh(o)!==o)return String.fromCharCode(65533);o<=65535?n.push(o):(t=55296+((o-=65536)>>10),e=o%1024+56320,n.push(t,e)),(i+1===a||n.length>r)&&(s+=uh.apply(null,n),n.length=0)}return s}}r(108);var fh=function(t){try{return qu()(t)}catch(e){return t}},dh=sh,ph=39,gh=34,mh=rh,vh="\\\\"+mh,yh=th,bh=new RegExp(/^[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),_h=new RegExp('^(?:"('+vh+'|[^"\\x00])*"|\'('+vh+"|[^'\\x00])*'|\\(("+vh+"|[^()\\x00])*\\))"),Th=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Eh=new RegExp("^"+mh),xh=new RegExp("^&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});","i"),Sh=/`+/,wh=/^`+/,Ch=/\.\.\./g,Oh=/--+/g,kh=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Ah=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Dh=/^ *(?:\n *)?/,Lh=/^[ \t\n\x0b\x0c\x0d]/,Rh=/^\s/,Ph=/ *$/,Mh=/^ */,Ih=/^ *(?:\n|$)/,Fh=/^\[(?:(?:(?![\[-\]])[\s\S])|\\[\s\S]){0,1000}\]/,jh=/^[^\n`\[\]\\!<&*_'"]+/m,Nh=function(t){var e=new Yu("text");return e._literal=t,e},Bh=function(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()},Uh=function(t){var e=t.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},zh=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},Gh=function(){return this.match(Dh),!0},Hh=function(t){var e=this.match(wh);if(null===e)return!1;for(var r,n,i,a=this.pos;null!==(r=this.match(Sh));)if(r===e)return n=new Yu("code"),(i=this.subject.slice(a,this.pos-e.length).replace(/\n/gm," ")).length>0&&null!==i.match(/[^ ]/)&&" "==i[0]&&" "==i[i.length-1]?n._literal=i.slice(1,i.length-1):n._literal=i,t.appendChild(n),!0;return this.pos=a,t.appendChild(Nh(e)),!0},Vh=function(t){var e,r=this.subject;return this.pos+=1,10===this.peek()?(this.pos+=1,e=new Yu("linebreak"),t.appendChild(e)):Eh.test(r.charAt(this.pos))?(t.appendChild(Nh(r.charAt(this.pos))),this.pos+=1):t.appendChild(Nh("\\")),!0},Wh=function(t){var e,r,n;return(e=this.match(kh))?(r=e.slice(1,e.length-1),(n=new Yu("link"))._destination=fh("mailto:"+r),n._title="",n.appendChild(Nh(r)),t.appendChild(n),!0):!!(e=this.match(Ah))&&(r=e.slice(1,e.length-1),(n=new Yu("link"))._destination=fh(r),n._title="",n.appendChild(Nh(r)),t.appendChild(n),!0)},Yh=function(t){var e=this.match(yh);if(null===e)return!1;var r=new Yu("html_inline");return r._literal=e,t.appendChild(r),!0},Xh=function(t){var e,r,n,i,a,s,o,l,c,u,h,f=0,d=this.pos;if(t===ph||t===gh)f++,this.pos++;else for(;this.peek()===t;)f++,this.pos++;return 0===f?null:(e=0===d?"\n":this.subject.charAt(d-1),r=-1===(n=this.peek())?"\n":ch(n),l=Rh.test(r),c=bh.test(r),u=Rh.test(e),h=bh.test(e),i=!l&&(!c||u||h),a=!u&&(!h||l||c),95===t?(s=i&&(!a||h),o=a&&(!i||c)):t===ph||t===gh?(s=i&&!a,o=a):(s=i,o=a),this.pos=d,{numdelims:f,can_open:s,can_close:o})},qh=function(t,e){var r=this.scanDelims(t);if(!r)return!1;var n,i=r.numdelims,a=this.pos;this.pos+=i,n=t===ph?"\u2019":t===gh?"\u201c":this.subject.slice(a,this.pos);var s=Nh(n);return e.appendChild(s),(r.can_open||r.can_close)&&(this.options.smart||t!==ph&&t!==gh)&&(this.delimiters={cc:t,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,can_open:r.can_open,can_close:r.can_close},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},Kh=function(t){null!==t.previous&&(t.previous.next=t.next),null===t.next?this.delimiters=t.previous:t.next.previous=t.previous},$h=function(t){for(var e,r,n,i,a,s,o,l,c,u,h,f,d,p=[],g=!1,m=0;m<8;m++)p[m]=t;for(r=this.delimiters;null!==r&&r.previous!==t;)r=r.previous;for(;null!==r;){var v=r.cc;if(r.can_close){switch(e=r.previous,u=!1,v){case ph:h=0;break;case gh:h=1;break;case 95:h=2;break;case 42:h=3+(r.can_open?3:0)+r.origdelims%3}for(;null!==e&&e!==t&&e!==p[h];){if(g=(r.can_open||e.can_close)&&r.origdelims%3!==0&&(e.origdelims+r.origdelims)%3===0,e.cc===r.cc&&e.can_open&&!g){u=!0;break}e=e.previous}if(n=r,42===v||95===v)if(u){o=r.numdelims>=2&&e.numdelims>=2?2:1,i=e.node,a=r.node,e.numdelims-=o,r.numdelims-=o,i._literal=i._literal.slice(0,i._literal.length-o),a._literal=a._literal.slice(0,a._literal.length-o);var y=new Yu(1===o?"emph":"strong");for(l=i._next;l&&l!==a;)c=l._next,l.unlink(),y.appendChild(l),l=c;i.insertAfter(y),d=r,(f=e).next!==d&&(f.next=d,d.previous=f),0===e.numdelims&&(i.unlink(),this.removeDelimiter(e)),0===r.numdelims&&(a.unlink(),s=r.next,this.removeDelimiter(r),r=s)}else r=r.next;else v===ph?(r.node._literal="\u2019",u&&(e.node._literal="\u2018"),r=r.next):v===gh&&(r.node._literal="\u201d",u&&(e.node.literal="\u201c"),r=r.next);u||(p[h]=n.previous,n.can_open||this.removeDelimiter(n))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==t;)this.removeDelimiter(this.delimiters)},Qh=function(){var t=this.match(_h);return null===t?null:dh(t.substr(1,t.length-2))},Zh=function(){var t=this.match(Th);if(null===t){if(60===this.peek())return null;for(var e,r=this.pos,n=0;-1!==(e=this.peek());)if(92===e&&Eh.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===e)this.pos+=1,n+=1;else if(41===e){if(n<1)break;this.pos+=1,n-=1}else{if(null!==Lh.exec(ch(e)))break;this.pos+=1}return this.pos===r&&41!==e||0!==n?null:(t=this.subject.substr(r,this.pos-r),fh(dh(t)))}return fh(dh(t.substr(1,t.length-2)))},Jh=function(){var t=this.match(Fh);return null===t||t.length>1001?0:t.length},tf=function(t){var e=this.pos;this.pos+=1;var r=Nh("[");return t.appendChild(r),this.addBracket(r,e,!1),!0},ef=function(t){var e=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var r=Nh("![");t.appendChild(r),this.addBracket(r,e+1,!0)}else t.appendChild(Nh("!"));return!0},rf=function(t){var e,r,n,i,a,s,o=!1;if(this.pos+=1,e=this.pos,null===(s=this.brackets))return t.appendChild(Nh("]")),!0;if(!s.active)return t.appendChild(Nh("]")),this.removeBracket(),!0;r=s.image;var l=this.pos;if(40===this.peek()&&(this.pos++,this.spnl()&&null!==(n=this.parseLinkDestination())&&this.spnl()&&(Lh.test(this.subject.charAt(this.pos-1))&&(i=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,o=!0):this.pos=l),!o){var c=this.pos,u=this.parseLinkLabel();if(u>2?a=this.subject.slice(c,c+u):s.bracketAfter||(a=this.subject.slice(s.index,e)),0===u&&(this.pos=l),a){var h=this.refmap[Bh(a)];h&&(n=h.destination,i=h.title,o=!0)}}if(o){var f,d,p=new Yu(r?"image":"link");for(p._destination=n,p._title=i||"",f=s.node._next;f;)d=f._next,f.unlink(),p.appendChild(f),f=d;if(t.appendChild(p),this.processEmphasis(s.previousDelimiter),this.removeBracket(),s.node.unlink(),!r)for(s=this.brackets;null!==s;)s.image||(s.active=!1),s=s.previous;return!0}return this.removeBracket(),this.pos=e,t.appendChild(Nh("]")),!0},nf=function(t,e,r){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:t,previous:this.brackets,previousDelimiter:this.delimiters,index:e,image:r,active:!0}},af=function(){this.brackets=this.brackets.previous},sf=function(t){var e;return!!(e=this.match(xh))&&(t.appendChild(Nh(Object(Ku.decodeHTML)(e))),!0)},of=function(t){var e;return!!(e=this.match(jh))&&(this.options.smart?t.appendChild(Nh(e.replace(Ch,"\u2026").replace(Oh,(function(t){var e=0,r=0;return t.length%3===0?r=t.length/3:t.length%2===0?e=t.length/2:t.length%3===2?(e=1,r=(t.length-2)/3):(e=2,r=(t.length-4)/3),"\u2014".repeat(r)+"\u2013".repeat(e)})))):t.appendChild(Nh(e)),!0)},lf=function(t){this.pos+=1;var e=t._lastChild;if(e&&"text"===e.type&&" "===e._literal[e._literal.length-1]){var r=" "===e._literal[e._literal.length-2];e._literal=e._literal.replace(Ph,""),t.appendChild(new Yu(r?"linebreak":"softbreak"))}else t.appendChild(new Yu("softbreak"));return this.match(Mh),!0},cf=function(t,e){var r,n,i,a;this.subject=t,this.pos=0;var s=this.pos;if(0===(a=this.parseLinkLabel()))return 0;if(r=this.subject.substr(0,a),58!==this.peek())return this.pos=s,0;if(this.pos++,this.spnl(),null===(n=this.parseLinkDestination()))return this.pos=s,0;var o=this.pos;this.spnl(),this.pos!==o&&(i=this.parseLinkTitle()),null===i&&(i="",this.pos=o);var l=!0;if(null===this.match(Ih)&&(""===i?l=!1:(i="",this.pos=o,l=null!==this.match(Ih))),!l)return this.pos=s,0;var c=Bh(r);return""===c?(this.pos=s,0):(e[c]||(e[c]={destination:n,title:i}),this.pos-s)},uf=function(t){var e=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:e=this.parseNewline(t);break;case 92:e=this.parseBackslash(t);break;case 96:e=this.parseBackticks(t);break;case 42:case 95:e=this.handleDelim(r,t);break;case ph:case gh:e=this.options.smart&&this.handleDelim(r,t);break;case 91:e=this.parseOpenBracket(t);break;case 33:e=this.parseBang(t);break;case 93:e=this.parseCloseBracket(t);break;case 60:e=this.parseAutolink(t)||this.parseHtmlTag(t);break;case 38:e=this.parseEntity(t);break;default:e=this.parseString(t)}return e||(this.pos+=1,t.appendChild(Nh(ch(r)))),!0},hf=function(t){for(this.subject=t._string_content.trim(),this.pos=0,this.delimiters=null,this.brackets=null;this.parseInline(t););t._string_content=null,this.processEmphasis(null)};var ff=function(t){return{subject:"",delimiters:null,brackets:null,pos:0,refmap:{},match:Uh,peek:zh,spnl:Gh,parseBackticks:Hh,parseBackslash:Vh,parseAutolink:Wh,parseHtmlTag:Yh,scanDelims:Xh,handleDelim:qh,parseLinkTitle:Qh,parseLinkDestination:Zh,parseLinkLabel:Jh,parseOpenBracket:tf,parseBang:ef,parseCloseBracket:rf,addBracket:nf,removeBracket:af,parseEntity:sf,parseString:of,parseNewline:lf,parseReference:cf,parseInline:uf,processEmphasis:$h,removeDelimiter:Kh,options:t||{},parse:hf}},df=[/./,/^<(?:script|pre|textarea|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Zu+"|"+Ju+")\\s*$","i")],pf=[/./,/<\/(?:script|pre|textarea|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],gf=/^(?:\*[ \t]*){3,}$|^(?:_[ \t]*){3,}$|^(?:-[ \t]*){3,}$/,mf=/^[#`~*+_=<>0-9-]/,vf=/[^ \t\f\v\r\n]/,yf=/^[*+-]/,bf=/^(\d{1,9})([.)])/,_f=/^#{1,6}(?:[ \t]+|$)/,Tf=/^`{3,}(?!.*`)|^~{3,}/,Ef=/^(?:`{3,}|~{3,})(?= *$)/,xf=/^(?:=+|-+)[ \t]*$/,Sf=/\r\n|\n|\r/,wf=function(t){return 32===t||9===t},Cf=function(t,e){return e<t.length?t.charCodeAt(e):-1},Of=function(t){for(;t;){if(t._lastLineBlank)return!0;var e=t.type;if(t._lastLineChecked||"list"!==e&&"item"!==e){t._lastLineChecked=!0;break}t._lastLineChecked=!0,t=t._lastChild}return!1},kf=function(){if(this.partiallyConsumedTab){this.offset+=1;var t=4-this.column%4;this.tip._string_content+=" ".repeat(t)}this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"},Af=function(t,e){for(;!this.blocks[this.tip.type].canContain(t);)this.finalize(this.tip,this.lineNumber-1);var r=e+1,n=new Yu(t,[[this.lineNumber,r],[0,0]]);return n._string_content="",this.tip.appendChild(n),this.tip=n,n},Df=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var t=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=t}this.allClosed=!0}},Lf={document:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(t,e){for(var r=e._firstChild;r;){if(Of(r)&&r._next){e._listData.tight=!1;break}for(var n=r._firstChild;n;){if(Of(n)&&(r._next||n._next)){e._listData.tight=!1;break}n=n._next}r=r._next}},canContain:function(t){return"item"===t},acceptsLines:!1},block_quote:{continue:function(t){var e=t.currentLine;return t.indented||62!==Cf(e,t.nextNonspace)?1:(t.advanceNextNonspace(),t.advanceOffset(1,!1),wf(Cf(e,t.offset))&&t.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},item:{continue:function(t,e){if(t.blank){if(null==e._firstChild)return 1;t.advanceNextNonspace()}else{if(!(t.indent>=e._listData.markerOffset+e._listData.padding))return 1;t.advanceOffset(e._listData.markerOffset+e._listData.padding,!0)}return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematic_break:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},code_block:{continue:function(t,e){var r=t.currentLine,n=t.indent;if(e._isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e._fenceChar&&r.slice(t.nextNonspace).match(Ef);if(i&&i[0].length>=e._fenceLength)return t.lastLineLength=t.offset+n+i[0].length,t.finalize(e,t.lineNumber),2;for(var a=e._fenceOffset;a>0&&wf(Cf(r,t.offset));)t.advanceOffset(1,!0),a--}else if(n>=4)t.advanceOffset(4,!0);else{if(!t.blank)return 1;t.advanceNextNonspace()}return 0},finalize:function(t,e){if(e._isFenced){var r=e._string_content,n=r.indexOf("\n"),i=r.slice(0,n),a=r.slice(n+1);e.info=sh(i.trim()),e._literal=a}else e._literal=e._string_content.replace(/(\n *)+$/,"\n");e._string_content=null},canContain:function(){return!1},acceptsLines:!0},html_block:{continue:function(t,e){return!t.blank||6!==e._htmlBlockType&&7!==e._htmlBlockType?0:1},finalize:function(t,e){e._literal=e._string_content.replace(/(\n *)+$/,""),e._string_content=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(t){return t.blank?1:0},finalize:function(t,e){for(var r,n,i=!1;91===Cf(e._string_content,0)&&(r=t.inlineParser.parseReference(e._string_content,t.refmap));)e._string_content=e._string_content.slice(r),i=!0;i&&(n=e._string_content,!vf.test(n))&&e.unlink()},canContain:function(){return!1},acceptsLines:!0}},Rf=[function(t){return t.indented||62!==Cf(t.currentLine,t.nextNonspace)?0:(t.advanceNextNonspace(),t.advanceOffset(1,!1),wf(Cf(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("block_quote",t.nextNonspace),1)},function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(_f))){t.advanceNextNonspace(),t.advanceOffset(e[0].length,!1),t.closeUnmatchedBlocks();var r=t.addChild("heading",t.nextNonspace);return r.level=e[0].trim().length,r._string_content=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(Tf))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("code_block",t.nextNonspace);return n._isFenced=!0,n._fenceLength=r,n._fenceChar=e[0][0],n._fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},function(t,e){if(!t.indented&&60===Cf(t.currentLine,t.nextNonspace)){var r,n=t.currentLine.slice(t.nextNonspace);for(r=1;r<=7;r++){if(df[r].test(n)&&(r<7||"paragraph"!==e.type&&(t.allClosed||t.blank||"paragraph"!==t.tip.type)))return t.closeUnmatchedBlocks(),t.addChild("html_block",t.offset)._htmlBlockType=r,2}}return 0},function(t,e){var r;if(!t.indented&&"paragraph"===e.type&&(r=t.currentLine.slice(t.nextNonspace).match(xf))){var n;for(t.closeUnmatchedBlocks();91===Cf(e._string_content,0)&&(n=t.inlineParser.parseReference(e._string_content,t.refmap));)e._string_content=e._string_content.slice(n);if(e._string_content.length>0){var i=new Yu("heading",e.sourcepos);return i.level="="===r[0][0]?1:2,i._string_content=e._string_content,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},function(t){return!t.indented&&gf.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematic_break",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},function(t,e){var r,n,i;return t.indented&&"list"!==e.type||!(r=function(t,e){var r,n,i,a,s=t.currentLine.slice(t.nextNonspace),o={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:t.indent};if(t.indent>=4)return null;if(r=s.match(yf))o.type="bullet",o.bulletChar=r[0][0];else{if(!(r=s.match(bf))||"paragraph"===e.type&&1!=r[1])return null;o.type="ordered",o.start=parseInt(r[1]),o.delimiter=r[2]}if(-1!==(n=Cf(t.currentLine,t.nextNonspace+r[0].length))&&9!==n&&32!==n)return null;if("paragraph"===e.type&&!t.currentLine.slice(t.nextNonspace+r[0].length).match(vf))return null;t.advanceNextNonspace(),t.advanceOffset(r[0].length,!0),i=t.column,a=t.offset;do{t.advanceOffset(1,!0),n=Cf(t.currentLine,t.offset)}while(t.column-i<5&&wf(n));var l=-1===Cf(t.currentLine,t.offset),c=t.column-i;return c>=5||c<1||l?(o.padding=r[0].length+1,t.column=i,t.offset=a,wf(Cf(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):o.padding=r[0].length+c,o}(t,e))?0:(t.closeUnmatchedBlocks(),"list"===t.tip.type&&(n=e._listData,i=r,n.type===i.type&&n.delimiter===i.delimiter&&n.bulletChar===i.bulletChar)||((e=t.addChild("list",t.nextNonspace))._listData=r),(e=t.addChild("item",t.nextNonspace))._listData=r,1)},function(t){return t.indented&&"paragraph"!==t.tip.type&&!t.blank?(t.advanceOffset(4,!0),t.closeUnmatchedBlocks(),t.addChild("code_block",t.offset),2):0}],Pf=function(t,e){for(var r,n,i,a=this.currentLine;t>0&&(i=a[this.offset]);)"\t"===i?(r=4-this.column%4,e?(this.partiallyConsumedTab=r>t,n=r>t?t:r,this.column+=n,this.offset+=this.partiallyConsumedTab?0:1,t-=n):(this.partiallyConsumedTab=!1,this.column+=r,this.offset+=1,t-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,t-=1)},Mf=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},If=function(){for(var t,e=this.currentLine,r=this.offset,n=this.column;""!==(t=e.charAt(r));)if(" "===t)r++,n++;else{if("\t"!==t)break;r++,n+=4-n%4}this.blank="\n"===t||"\r"===t||""===t,this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},Ff=function(t){var e,r,n=!0,i=this.doc;for(this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==t.indexOf("\0")&&(t=t.replace(/\0/g,"\ufffd")),this.currentLine=t;(r=i._lastChild)&&r._open;){switch(i=r,this.findNextNonspace(),this.blocks[i.type].continue(this,i)){case 0:break;case 1:n=!1;break;case 2:return;default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!n){i=i._parent;break}}this.allClosed=i===this.oldtip,this.lastMatchedContainer=i;for(var a="paragraph"!==i.type&&Lf[i.type].acceptsLines,s=this.blockStarts,o=s.length;!a;){if(this.findNextNonspace(),!this.indented&&!mf.test(t.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<o;){var c=s[l](this,i);if(1===c){i=this.tip;break}if(2===c){i=this.tip,a=!0;break}l++}if(l===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&i.lastChild&&(i.lastChild._lastLineBlank=!0),e=i.type;for(var u=this.blank&&!("block_quote"===e||"code_block"===e&&i._isFenced||"item"===e&&!i._firstChild&&i.sourcepos[0][0]===this.lineNumber),h=i;h;)h._lastLineBlank=u,h=h._parent;this.blocks[e].acceptsLines?(this.addLine(),"html_block"===e&&i._htmlBlockType>=1&&i._htmlBlockType<=5&&pf[i._htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=t.length,this.finalize(i,this.lineNumber))):this.offset<t.length&&!this.blank&&(i=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=t.length},jf=function(t,e){var r=t._parent;t._open=!1,t.sourcepos[1]=[e,this.lastLineLength],this.blocks[t.type].finalize(this,t),this.tip=r},Nf=function(t){var e,r,n,i=t.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;r=i.next();)n=(e=r.node).type,r.entering||"paragraph"!==n&&"heading"!==n||this.inlineParser.parse(e)},Bf=function(){return new Yu("document",[[1,1],[0,0]])},Uf=function(t){this.doc=new Bf,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var e=t.split(Sf),r=e.length;10===t.charCodeAt(t.length-1)&&(r-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var n=0;n<r;n++)this.incorporateLine(e[n]);for(;this.tip;)this.finalize(this.tip,r);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};var zf=function(t){return{doc:new Bf,blocks:Lf,blockStarts:Rf,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,partiallyConsumedTab:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new ff(t),findNextNonspace:If,advanceOffset:Pf,advanceNextNonspace:Mf,addLine:kf,addChild:Af,incorporateLine:Ff,finalize:jf,processInlines:Nf,closeUnmatchedBlocks:Df,parse:Uf,options:t||{}}};function Gf(){}Gf.prototype.render=function(t){var e,r,n=t.walker();for(this.buffer="",this.lastOut="\n";e=n.next();)this[r=e.node.type]&&this[r](e.node,e.entering);return this.buffer},Gf.prototype.out=function(t){this.lit(t)},Gf.prototype.lit=function(t){this.buffer+=t,this.lastOut=t},Gf.prototype.cr=function(){"\n"!==this.lastOut&&this.lit("\n")},Gf.prototype.esc=function(t){return t};var Hf=Gf,Vf=/^javascript:|vbscript:|file:|data:/i,Wf=/^data:image\/(?:png|gif|jpeg|webp)/i,Yf=function(t){return Vf.test(t)&&!Wf.test(t)};function Xf(t){(t=t||{}).softbreak=t.softbreak||"\n",this.esc=t.esc||lh,this.disableTags=0,this.lastOut="\n",this.options=t}Xf.prototype=Object.create(Hf.prototype),Xf.prototype.text=function(t){this.out(t.literal)},Xf.prototype.html_inline=function(t){this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(t.literal)},Xf.prototype.html_block=function(t){this.cr(),this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(t.literal),this.cr()},Xf.prototype.softbreak=function(){this.lit(this.options.softbreak)},Xf.prototype.linebreak=function(){this.tag("br",[],!0),this.cr()},Xf.prototype.link=function(t,e){var r=this.attrs(t);e?(this.options.safe&&Yf(t.destination)||r.push(["href",this.esc(t.destination)]),t.title&&r.push(["title",this.esc(t.title)]),this.tag("a",r)):this.tag("/a")},Xf.prototype.image=function(t,e){e?(0===this.disableTags&&(this.options.safe&&Yf(t.destination)?this.lit('<img src="" alt="'):this.lit('<img src="'+this.esc(t.destination)+'" alt="')),this.disableTags+=1):(this.disableTags-=1,0===this.disableTags&&(t.title&&this.lit('" title="'+this.esc(t.title)),this.lit('" />')))},Xf.prototype.emph=function(t,e){this.tag(e?"em":"/em")},Xf.prototype.strong=function(t,e){this.tag(e?"strong":"/strong")},Xf.prototype.paragraph=function(t,e){var r=t.parent.parent,n=this.attrs(t);null!==r&&"list"===r.type&&r.listTight||(e?(this.cr(),this.tag("p",n)):(this.tag("/p"),this.cr()))},Xf.prototype.heading=function(t,e){var r="h"+t.level,n=this.attrs(t);e?(this.cr(),this.tag(r,n)):(this.tag("/"+r),this.cr())},Xf.prototype.code=function(t){this.tag("code"),this.out(t.literal),this.tag("/code")},Xf.prototype.code_block=function(t){var e=t.info?t.info.split(/\s+/):[],r=this.attrs(t);e.length>0&&e[0].length>0&&r.push(["class","language-"+this.esc(e[0])]),this.cr(),this.tag("pre"),this.tag("code",r),this.out(t.literal),this.tag("/code"),this.tag("/pre"),this.cr()},Xf.prototype.thematic_break=function(t){var e=this.attrs(t);this.cr(),this.tag("hr",e,!0),this.cr()},Xf.prototype.block_quote=function(t,e){var r=this.attrs(t);e?(this.cr(),this.tag("blockquote",r),this.cr()):(this.cr(),this.tag("/blockquote"),this.cr())},Xf.prototype.list=function(t,e){var r="bullet"===t.listType?"ul":"ol",n=this.attrs(t);if(e){var i=t.listStart;null!==i&&1!==i&&n.push(["start",i.toString()]),this.cr(),this.tag(r,n),this.cr()}else this.cr(),this.tag("/"+r),this.cr()},Xf.prototype.item=function(t,e){var r=this.attrs(t);e?this.tag("li",r):(this.tag("/li"),this.cr())},Xf.prototype.custom_inline=function(t,e){e&&t.onEnter?this.lit(t.onEnter):!e&&t.onExit&&this.lit(t.onExit)},Xf.prototype.custom_block=function(t,e){this.cr(),e&&t.onEnter?this.lit(t.onEnter):!e&&t.onExit&&this.lit(t.onExit),this.cr()},Xf.prototype.esc=lh,Xf.prototype.out=function(t){this.lit(this.esc(t))},Xf.prototype.tag=function(t,e,r){if(!(this.disableTags>0)){if(this.buffer+="<"+t,e&&e.length>0)for(var n,i=0;void 0!==(n=e[i]);)this.buffer+=" "+n[0]+'="'+n[1]+'"',i++;r&&(this.buffer+=" /"),this.buffer+=">",this.lastOut=">"}},Xf.prototype.attrs=function(t){var e=[];if(this.options.sourcepos){var r=t.sourcepos;r&&e.push(["data-sourcepos",String(r[0][0])+":"+String(r[0][1])+"-"+String(r[1][0])+":"+String(r[1][1])])}return e};var qf=Xf,Kf=/\<[^>]*\>/;function $f(t){t=t||{},this.disableTags=0,this.lastOut="\n",this.indentLevel=0,this.indent="  ",this.esc=t.esc||lh,this.options=t}$f.prototype=Object.create(Hf.prototype),$f.prototype.render=function(t){var e,r;this.buffer="";var n,i,a,s,o,l,c=t.walker(),u=this.options;for(u.time&&console.time("rendering"),this.buffer+='<?xml version="1.0" encoding="UTF-8"?>\n',this.buffer+='<!DOCTYPE document SYSTEM "CommonMark.dtd">\n';n=c.next();)if(a=n.entering,l=(i=n.node).type,s=i.isContainer,o="thematic_break"===l||"linebreak"===l||"softbreak"===l,r=l.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase(),a){switch(e=[],l){case"document":e.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"list":null!==i.listType&&e.push(["type",i.listType.toLowerCase()]),null!==i.listStart&&e.push(["start",String(i.listStart)]),null!==i.listTight&&e.push(["tight",i.listTight?"true":"false"]);var h=i.listDelimiter;if(null!==h){var f="";f="."===h?"period":"paren",e.push(["delimiter",f])}break;case"code_block":i.info&&e.push(["info",i.info]);break;case"heading":e.push(["level",String(i.level)]);break;case"link":case"image":e.push(["destination",i.destination]),e.push(["title",i.title]);break;case"custom_inline":case"custom_block":e.push(["on_enter",i.onEnter]),e.push(["on_exit",i.onExit])}if(u.sourcepos){var d=i.sourcepos;d&&e.push(["sourcepos",String(d[0][0])+":"+String(d[0][1])+"-"+String(d[1][0])+":"+String(d[1][1])])}if(this.cr(),this.out(this.tag(r,e,o)),s)this.indentLevel+=1;else if(!s&&!o){var p=i.literal;p&&this.out(this.esc(p)),this.out(this.tag("/"+r))}}else this.indentLevel-=1,this.cr(),this.out(this.tag("/"+r));return u.time&&console.timeEnd("rendering"),this.buffer+="\n",this.buffer},$f.prototype.out=function(t){this.disableTags>0?this.buffer+=t.replace(Kf,""):this.buffer+=t,this.lastOut=t},$f.prototype.cr=function(){if("\n"!==this.lastOut){this.buffer+="\n",this.lastOut="\n";for(var t=this.indentLevel;t>0;t--)this.buffer+=this.indent}},$f.prototype.tag=function(t,e,r){var n="<"+t;if(e&&e.length>0)for(var i,a=0;void 0!==(i=e[a]);)n+=" "+i[0]+'="'+this.esc(i[1])+'"',a++;return r&&(n+=" /"),n+=">"},$f.prototype.esc=lh;var Qf=function(){var t=d(l.a.mark((function t(e){var r,n,i,a,s,o,c,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat("https://corsanywhere.herokuapp.com/").concat(e),console.log("corsURL",r),t.prev=2,t.next=5,fetch(r);case 5:return t.next=7,t.sent.text();case 7:return n=t.sent,i=n.match(/ytInitialPlayerResponse\s*=\s*({.+?})\s*;\s*(?:var\s+meta|<\/script|\n)/),a=JSON.parse(i[1]),s=a.streamingData.formats,console.log("formats",s),o=s.filter((function(t){return t.quality.includes("720")})),c=Object(p.a)(o,1),void 0===(u=c[0])&&(u=s[0]),console.log("format",u),console.log(u.url),console.log("".concat(u.width,"x").concat(u.height)),t.abrupt("return",u);case 20:t.prev=20,t.t0=t.catch(2),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e){return t.apply(this,arguments)}}(),Zf=r(41),Jf=r.n(Zf),td=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(r,1),r>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,n=0;n<r;++n)e[n].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=e.length,s=0;s<a;++s)e[s].apply(this,i)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),ed=r(49),rd=r.n(ed),nd=r(67),id=r.n(nd),ad=r(68),sd=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return Jf()(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(td),od=String.fromCharCode(9),ld=function(t){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},cd=function(t){for(var e,r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=r.length;i--;)""!==r[i]&&((e=/([^=]*)=(.*)/.exec(r[i]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},ud=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}Jf()(e,t);var r=e.prototype;return r.push=function(t){var e,r,n=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,r){var n=r(t);return n===t?e:e.concat([n])}),[t]).forEach((function(t){for(var i=0;i<n.customParsers.length;i++)if(n.customParsers[i].call(n,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))n.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return r={type:"tag",tagType:"inf"},e[1]&&(r.duration=parseFloat(e[1])),e[2]&&(r.title=e[2]),void n.trigger("data",r);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"targetduration"},e[1]&&(r.duration=parseInt(e[1],10)),void n.trigger("data",r);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"version"},e[1]&&(r.version=parseInt(e[1],10)),void n.trigger("data",r);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return r={type:"tag",tagType:"media-sequence"},e[1]&&(r.number=parseInt(e[1],10)),void n.trigger("data",r);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return r={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(r.number=parseInt(e[1],10)),void n.trigger("data",r);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return r={type:"tag",tagType:"playlist-type"},e[1]&&(r.playlistType=e[1]),void n.trigger("data",r);if(e=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t))return r=rd()(ld(e[1]),{type:"tag",tagType:"byterange"}),void n.trigger("data",r);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return r={type:"tag",tagType:"allow-cache"},e[1]&&(r.allowed=!/NO/.test(e[1])),void n.trigger("data",r);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"map"},e[1]){var a=cd(e[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=ld(a.BYTERANGE))}n.trigger("data",r)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"stream-inf"},e[1]){if(r.attributes=cd(e[1]),r.attributes.RESOLUTION){var s=r.attributes.RESOLUTION.split("x"),o={};s[0]&&(o.width=parseInt(s[0],10)),s[1]&&(o.height=parseInt(s[1],10)),r.attributes.RESOLUTION=o}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}n.trigger("data",r)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return r={type:"tag",tagType:"media"},e[1]&&(r.attributes=cd(e[1])),void n.trigger("data",r);if(e=/^#EXT-X-ENDLIST/.exec(t))n.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return r={type:"tag",tagType:"program-date-time"},e[1]&&(r.dateTimeString=e[1],r.dateTimeObject=new Date(e[1])),void n.trigger("data",r);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return r={type:"tag",tagType:"key"},e[1]&&(r.attributes=cd(e[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void n.trigger("data",r);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return r={type:"tag",tagType:"start"},e[1]&&(r.attributes=cd(e[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void n.trigger("data",r);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-out-cont"},e[1]?r.data=e[1]:r.data="",void n.trigger("data",r);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-out"},e[1]?r.data=e[1]:r.data="",void n.trigger("data",r);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-in"},e[1]?r.data=e[1]:r.data="",void n.trigger("data",r);if((e=/^#EXT-X-SKIP:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"skip"}).attributes=cd(e[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(od)),void n.trigger("data",r);if((e=/^#EXT-X-PART:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"part"}).attributes=cd(e[1]),["DURATION"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseFloat(r.attributes[t]))})),["INDEPENDENT","GAP"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=/YES/.test(r.attributes[t]))})),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=ld(r.attributes.BYTERANGE)),void n.trigger("data",r);if((e=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"server-control"}).attributes=cd(e[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseFloat(r.attributes[t]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=/YES/.test(r.attributes[t]))})),void n.trigger("data",r);if((e=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"part-inf"}).attributes=cd(e[1]),["PART-TARGET"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseFloat(r.attributes[t]))})),void n.trigger("data",r);if((e=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"preload-hint"}).attributes=cd(e[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(t){if(r.attributes.hasOwnProperty(t)){r.attributes[t]=parseInt(r.attributes[t],10);var e="BYTERANGE-LENGTH"===t?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[e]=r.attributes[t],delete r.attributes[t]}})),void n.trigger("data",r);if((e=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&e[1])return(r={type:"tag",tagType:"rendition-report"}).attributes=cd(e[1]),["LAST-MSN","LAST-PART"].forEach((function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseInt(r.attributes[t],10))})),void n.trigger("data",r);n.trigger("data",{type:"tag",data:t.slice(4)})}}}else n.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},r.addParser=function(t){var e=this,r=t.expression,n=t.customType,i=t.dataParser,a=t.segment;"function"!==typeof i&&(i=function(t){return t}),this.customParsers.push((function(t){if(r.exec(t))return e.trigger("data",{type:"custom",data:i(t),customType:n,segment:a}),!0}))},r.addTagMapper=function(t){var e=t.expression,r=t.map;this.tagMappers.push((function(t){return e.test(t)?r(t):t}))},e}(td),hd=function(t){var e={};return Object.keys(t).forEach((function(r){var n;e[(n=r,n.toLowerCase().replace(/-(\w)/g,(function(t){return t[1].toUpperCase()})))]=t[r]})),e},fd=function(t){var e=t.serverControl,r=t.targetDuration,n=t.partTargetDuration;if(e){var i="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=r&&3*r,l=n&&2*n;r&&!e.hasOwnProperty(a)&&(e[a]=o,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+o+")."})),o&&e[a]<o&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+e[a]+") to targetDuration * 3 ("+o+")"}),e[a]=o),n&&!e.hasOwnProperty(s)&&(e[s]=3*n,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+e[s]+")."})),n&&e[s]<l&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+e[s]+") to partTargetDuration * 2 ("+l+")."}),e[s]=l)}},dd=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new sd,e.parseStream=new ud,e.lineStream.pipe(e.parseStream);var r,n,i=id()(e),a=[],s={},o=!1,l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var h=0,f=0;return e.on("end",(function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&r&&(s.map=r),!s.key&&n&&(s.key=n),s.timeline||"number"!==typeof u||(s.timeline=u),e.manifest.preloadSegment=s)})),e.parseStream.on("data",(function(t){var e,d;({tag:function(){({version:function(){t.version&&(this.manifest.version=t.version)},"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(s.byterange=e,e.length=t.length,"offset"in t||(t.offset=h)),"offset"in t&&(s.byterange=e,e.offset=t.offset),h=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("com.apple.streamingkeydelivery"===t.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:t.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:Object(ad.a)(t.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!==typeof t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,u=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange),n&&(r.key=n)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes?(s.attributes||(s.attributes={}),rd()(s.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{},e=r[t.attributes["GROUP-ID"]],(d={default:/yes/i.test(t.attributes.DEFAULT)}).default?d.autoselect=!0:d.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(d.language=t.attributes.LANGUAGE),t.attributes.URI&&(d.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(d.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(d.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(d.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=d}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),s.dateTimeString=t.dateTimeString,s.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):(this.manifest.targetDuration=t.duration,fd.call(this,this.manifest))},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data},skip:function(){this.manifest.skip=hd(t.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",t.attributes,["SKIPPED-SEGMENTS"])},part:function(){var e=this;o=!0;var r=this.manifest.segments.length,n=hd(t.attributes);s.parts=s.parts||[],s.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=f),f=n.byterange.offset+n.byterange.length);var i=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+i+" for segment #"+r,t.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(t,r){t.hasOwnProperty("lastPart")||e.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+r+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var e=this.manifest.serverControl=hd(t.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),fd.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var e=this.manifest.segments.length,r=hd(t.attributes),n=r.type&&"PART"===r.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=n?f:0,n&&(f=r.byterange.offset+r.byterange.length)));var i=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e,t.attributes,["TYPE","URI"]),r.type)for(var a=0;a<s.preloadHints.length-1;a++){var o=s.preloadHints[a];o.type&&(o.type===r.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e+" has the same TYPE "+r.type+" as preload hint #"+a}))}},"rendition-report":function(){var e=hd(t.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);var r=this.manifest.renditionReports.length-1,n=["LAST-MSN","URI"];o&&n.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+r,t.attributes,n)},"part-inf":function(){this.manifest.partInf=hd(t.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",t.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),fd.call(this,this.manifest)}}[t.tagType]||l).call(i)},uri:function(){s.uri=t.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),n&&(s.key=n),s.timeline=u,r&&(s.map=r),f=0,s={}},comment:function(){},custom:function(){t.segment?(s.custom=s.custom||{},s.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(i)})),e}Jf()(e,t);var r=e.prototype;return r.warnOnMissingAttributes_=function(t,e,r){var n=[];r.forEach((function(t){e.hasOwnProperty(t)||n.push(t)})),n.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+n.join(", ")})},r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push("\n"),this.trigger("end")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(td),pd=function(){var t=d(l.a.mark((function t(e){var r,n,i,a,s,o,c,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return t.next=5,t.sent.text();case 5:return r=t.sent,n=e.substring(e.lastIndexOf("/")+1),(i=new dd).push(r),i.end(),a=i.manifest,s=a.playlists,console.log("pls",s),s.sort((function(t,e){return Math.abs(t.attributes.RESOLUTION.height-fu)<Math.abs(e.attributes.RESOLUTION.height-fu)?-1:Math.abs(t.attributes.RESOLUTION.height-fu)>Math.abs(e.attributes.RESOLUTION.height-fu)?1:0})),o=s[0],c=e.replace(n,o.uri),u=e.replace(n,"play_".concat(o.attributes.RESOLUTION.height,"p.mp4")),console.log("pl",o),console.log("videoUrl",c),console.log("bunnyUrl",u),t.abrupt("return",[c,u]);case 23:t.prev=23,t.t0=t.catch(0),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e){return t.apply(this,arguments)}}(),gd=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},md=function(t){return 3600*t.substring(0,2)+60*t.substring(3,5)+1*t.substring(6,8)+.001*t.substring(9)},vd=function(){var t=d(l.a.mark((function t(e){var r,n,i,a,s,o,c,u,h,f,d,p,g,m,v,y,b,_,T,E,x,S,w,C,O,k,A,D,L,R,P,M,I,F,j,N,B,U,z,G,H,V,W,Y,X,q,K,$,Q,Z,J,tt,et,rt,nt,it,at,st,ot,lt,ct,ut,ht,ft,dt,pt,gt;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=/\d\d:\d\d:\d\d,\d\d\d/g,n=/<code>(.*?)<\/code>/g,i=/<a href="(.*?)">\d*<\/a>/,a=/<del> <a href="(.*?)">\d*<\/a>(.*?)<\/del> <a href="(.*?)">\d*<\/a>/g,s=/<del> <a href="(.*?)">\d*<\/a>(.*?)/g,o=/(.*?)<\/del> <a href="(.*?)">\d*<\/a>/g,c=/<link(.*?) href(\s*?)=(\s*?)"(.*?)"(.*?)>/,u=/href(\s*?)=(\s*?)"(.*?)"/,h=/type(\s*?)=(\s*?)"(.*?)"/,f=new zf({smart:!0}),d=new qf,p=f.parse(e),g=d.render(p),m=p.walker(),b=!0,_=!0,T=!0,E=[],x=[],S=0,w=!1,C="",O="",k="",A="",D=!1;case 22:if(!(v=m.next())){t.next=63;break}if(y=v.node,D||"html_inline"!==y.type||"<del>"!==y.literal||(D=!0,v=m.next(),v=m.next(),y=v.node,L=d.render(y),null!==(R=L.match(r))&&R.length>0&&(P=md(R[0]),x.push({start:P,end:pu}))),D){t.next=60;break}if("heading"!==y.type||1!==y.level){t.next=31;break}(_=!_)&&(M=d.render(y),C=M.replace(/<h1>/g,"").replace(/<\/h1>/g,"").replace(/\n/g,"")),t.next=60;break;case 31:if("heading"!==y.type||3!==y.level){t.next=59;break}if(I=d.render(y),F=I.replace(/<h3>/g,"").replace(/<\/h3>/g,""),j=F.match(r),N=F.match(n),!(null!==j&&j.length>0)){t.next=57;break}if(!(T=!T)){t.next=57;break}B=md(j[0]),U=E.length-1;case 41:if(!(U>=0)){t.next=48;break}if(E[U].end=B,"title"!==E[U].type){t.next=45;break}return t.abrupt("break",48);case 45:U--,t.next=41;break;case 48:z=F.replace(n,"").replace(i,""),A=vu;try{A=N[0].replace("<code>","").replace("</code>","")}catch(l){}A===vu&&(""!==O&&O!==z||k!==A)&&(w=!w),A===gu&&(z=""),E.push({index:E.length,type:"title",parent:0,isLeft:w,slide:A,text:z,start:B,end:pu,bottom:0}),S=E.length-1,O=z,k=A;case 57:t.next=60;break;case 59:if("list"===y.type&&"item"!==y.parent.type&&(b=!b))for(G=(G=(G=(G=(G=d.render(y)).replace(/<ul>/g,"").replace(/<\/ul>/g,"").replace(/\n/g,"")).replace(a,"")).replace(s,"")).replace(o,""),H=0,V=0;H<G.length;)W=G.indexOf("<li>",H),Y=G.indexOf("</li>",H),-1===W&&(W=pu),-1===Y&&(Y=pu),W<Y?(W!==H&&(X=G.substring(H,W),null!==(q=X.match(r))&&q.length>0&&A!==gu&&(0===V&&(V=1),E.push({index:E.length,parent:S,type:"text",level:V,text:X.replace(i,""),start:md(q[0]),end:pu,bottom:0}))),H=W+4,V++):(Y!==H&&(K=G.substring(H,Y),null!==($=K.match(r))&&$.length>0&&A!==gu&&(0===V&&(V=1),E.push({index:E.length,parent:S,type:"text",level:V,text:K.replace(i,""),start:md($[0]),end:pu,bottom:0}))),H=Y+5,V--);case 60:D&&"html_inline"===y.type&&"</del>"===y.literal&&(D=!1,v=m.next(),v=m.next(),y=v.node,Q=d.render(y),null!==(Z=Q.match(r))&&Z.length>0&&(J=md(Z[0]),x[x.length-1].end=J)),t.next=22;break;case 63:return console.log("arr",E),console.log("dels",x),tt=g.match(c),rt=/<h3>(.*?)<code>PRESENTER-ONLY<\/code>(.*?)<\/h3>\n<ul[^>]*?>[\s\S]*?<\/ul>(?=(\n<h1>|\n<h2>|\n<h3>|\n<!--))/gi,et=(et=g).replace(rt,""),rt=/<h3>(.*?)<code>PRESENTER-ONLY<\/code>(.*?)<\/h3>/gi,et=et.replace(rt,""),nt=/(<code>(.*?)<\/code>)|(<a[^>]*?>\d*?<\/a>)/gi,et=et.replace(nt,""),it="",t.next=76,fetch("./style.css");case 76:return at=t.sent,console.log("res",at),t.next=80,at.text();case 80:if(it=t.sent,/<html/.test(it)&&(it=""),st=/<\/head>/gi,ot=g.search(st),'<!doctype html>\n    <html lang="en">\n    <head>\n        <meta charset="utf-8" />\n',ot>0&&(et='<!doctype html>\n    <html lang="en">\n    <head>\n        <meta charset="utf-8" />\n'+"\n\t<title>".concat(C,"</title>\n")+"\t<style>\n".concat(it,"\n</style>\n")+et.slice(ot)),!0===st.test(et)&&(console.log(st.lastIndex,et.length),et=et.slice(0,st.lastIndex)+'<body>\n\t<div id="content">\n'+et.slice(st.lastIndex)),!(null!==tt&&tt.length>0)){t.next=115;break}if(!((lt=tt[0].match(u)).length>0)){t.next=115;break}ct=lt[0].replace(/\s+/gm,"").replace('href="',"").replace('"',""),ut=tt[0].match(h),ht="bunny",ut&&ut.length>0&&(ht=ut[0].replace(/\s+/gm,"").replace('type="',"").replace('"',"")),console.log("type_string",ht),console.log("video_url",ct),t.t0=ht,t.next="mp4"===t.t0?99:"m3u8"===t.t0?100:"youtube"===t.t0?104:108;break;case 99:return t.abrupt("return",[ct,C,E,x,et,"mp4"]);case 100:return t.next=102,pd(ct);case 102:return ft=t.sent,t.abrupt("return",[ft[0],C,E,x,et,"m3u8"]);case 104:return t.next=106,Qf(ct);case 106:return dt=t.sent,t.abrupt("return",["".concat(ut.CORS).concat(dt.url),C,E,x,et,"googlevideo"]);case 108:return pt=ct.replace(/\/$/,""),t.next=111,pd("".concat(pt,"/playlist.m3u8"));case 111:return ft=t.sent,gt=ft[1],console.log("bunnyUrl",gt),t.abrupt("return",[gt,C,E,x,et,"mp4"]);case 115:return t.abrupt("return",[]);case 116:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),yd=r(12),bd=function(t,e,r){for(var n=(t=t.trim()).toString().split("\n"),i="",a=0;a<n.length;a++){var s=n[a].toString().split(" "),o=document.createElement("canvas").getContext("2d"),l=2;for(o.font=r+"px Helvetica Neue, Helvetica, Sans-Serif, Arial, Trebuchet MS";s.length>0&&l<=s.length;){var c=s.slice(0,l).join(" ");o.measureText(c).width>=e?(i+=s.slice(0,l-1).join(" "),i+="\n",s=s.splice(l-1),l=1):l+=1}i+=s.join(" "),a<n.length-1&&(i+="\n")}return i};function _d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Td(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ed,xd,Sd,wd,Cd,Od,kd,Ad,Dd,Ld={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Rd={duration:.5,overwrite:!1,delay:0},Pd=1e8,Md=1e-8,Id=2*Math.PI,Fd=Id/4,jd=0,Nd=Math.sqrt,Bd=Math.cos,Ud=Math.sin,zd=function(t){return"string"===typeof t},Gd=function(t){return"function"===typeof t},Hd=function(t){return"number"===typeof t},Vd=function(t){return"undefined"===typeof t},Wd=function(t){return"object"===typeof t},Yd=function(t){return!1!==t},Xd=function(){return"undefined"!==typeof window},qd=function(t){return Gd(t)||zd(t)},Kd="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},$d=Array.isArray,Qd=/(?:-?\.?\d|\.)+/gi,Zd=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Jd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ep=/[+-]=-?[.\d]+/,rp=/[^,'"\[\]\s]+/gi,np=/[\d.+\-=]+(?:e[-+]\d*)*/i,ip={},ap={},sp=function(t){return(ap=Rp(t,ip))&&bm},op=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},lp=function(t,e){return!e&&console.warn(t)},cp=function(t,e){return t&&(ip[t]=e)&&ap&&(ap[t]=e)||ip},up=function(){return 0},hp={},fp=[],dp={},pp={},gp={},mp=30,vp=[],yp="",bp=function(t){var e,r,n=t[0];if(Wd(n)||Gd(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(r=vp.length;r--&&!vp[r].targetTest(n););e=vp[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Vg(t[r],e)))||t.splice(r,1);return t},_p=function(t){return t._gsap||bp(cg(t))[0]._gsap},Tp=function(t,e,r){return(r=t[e])&&Gd(r)?t[e]():Vd(r)&&t.getAttribute&&t.getAttribute(e)||r},Ep=function(t,e){return(t=t.split(",")).forEach(e)||t},xp=function(t){return Math.round(1e5*t)/1e5||0},Sp=function(t){return Math.round(1e7*t)/1e7||0},wp=function(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r},Cp=function(){var t,e,r=fp.length,n=fp.slice(0);for(dp={},fp.length=0,t=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Op=function(t,e,r,n){fp.length&&Cp(),t.render(e,r,n),fp.length&&Cp()},kp=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(rp).length<2?e:zd(t)?t.trim():t},Ap=function(t){return t},Dp=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},Lp=function(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])},Rp=function(t,e){for(var r in e)t[r]=e[r];return t},Pp=function t(e,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=Wd(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Mp=function(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n},Ip=function(t){var e=t.parent||xd,r=t.keyframes?Lp:Dp;if(Yd(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t},Fp=function(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,a=e._next;i?i._next=a:t[r]===e&&(t[r]=a),a?a._prev=i:t[n]===e&&(t[n]=i),e._next=e._prev=e.parent=null},jp=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Np=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},Bp=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Up=function t(e){return!e||e._ts&&t(e.parent)},zp=function(t){return t._repeat?Gp(t._tTime,t=t.duration()+t._rDelay)*t:0},Gp=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},Hp=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Vp=function(t){return t._end=Sp(t._start+(t._tDur/Math.abs(t._ts||t._rts||Md)||0))},Wp=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Sp(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Vp(t),r._dirty||Np(r,t)),t},Yp=function(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=Hp(t.rawTime(),e),(!e._dur||ig(0,e.totalDuration(),r)-e._tTime>Md)&&e.render(r,!0)),Np(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},Xp=function(t,e,r,n){return e.parent&&jp(e),e._start=Sp((Hd(r)?r:r||t!==xd?eg(t,r,e):t._time)+e._delay),e._end=Sp(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,s=t[n];if(i)for(a=e[i];s&&s[i]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),Qp(e)||(t._recent=e),n||Yp(t,e),t},qp=function(t,e){return(ip.ScrollTrigger||op("scrollTrigger",e))&&ip.ScrollTrigger.create(e,t)},Kp=function(t,e,r,n){return Qg(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&kd!==Lg.frame?(fp.push(t),t._lazy=[e,n],1):void 0:1},$p=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Qp=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Zp=function(t,e,r,n){var i=t._repeat,a=Sp(e)||0,s=t._tTime/t._tDur;return s&&!n&&(t._time*=a/t._dur),t._dur=a,t._tDur=i?i<0?1e10:Sp(a*(i+1)+t._rDelay*i):a,s&&!n?Wp(t,t._tTime=t._tDur*s):t.parent&&Vp(t),r||Np(t.parent,t),t},Jp=function(t){return t instanceof Yg?Np(t):Zp(t,t._dur)},tg={_start:0,endTime:up,totalDuration:up},eg=function t(e,r,n){var i,a,s,o=e.labels,l=e._recent||tg,c=e.duration()>=Pd?l.endTime(!1):e._dur;return zd(r)&&(isNaN(r)||r in o)?(a=r.charAt(0),s="%"===r.substr(-1),i=r.indexOf("="),"<"===a||">"===a?(i>=0&&(r=r.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(s?(i<0?l:n).totalDuration()/100:1)):i<0?(r in o||(o[r]=c),o[r]):(a=parseFloat(r.charAt(i-1)+r.substr(i+1)),s&&n&&(a=a/100*($d(n)?n[0]:n).totalDuration()),i>1?t(e,r.substr(0,i-1),n)+a:c+a)):null==r?c:+r},rg=function(t,e,r){var n,i,a=Hd(e[1]),s=(a?2:1)+(t<2?0:1),o=e[s];if(a&&(o.duration=e[1]),o.parent=r,t){for(n=o,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=Yd(i.vars.inherit)&&i.parent;o.immediateRender=Yd(n.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new em(e[0],o,e[s+1])},ng=function(t,e){return t||0===t?e(t):e},ig=function(t,e,r){return r<t?t:r>e?e:r},ag=function(t){if("string"!==typeof t)return"";var e=np.exec(t);return e?t.substr(e.index+e[0].length):""},sg=[].slice,og=function(t,e){return t&&Wd(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Wd(t[0]))&&!t.nodeType&&t!==Sd},lg=function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var n;return zd(t)&&!e||og(t,1)?(n=r).push.apply(n,cg(t)):r.push(t)}))||r},cg=function(t,e,r){return!zd(t)||r||!wd&&Rg()?$d(t)?lg(t,r):og(t)?sg.call(t,0):t?[t]:[]:sg.call((e||Cd).querySelectorAll(t),0)},ug=function(t){return t.sort((function(){return.5-Math.random()}))},hg=function(t){if(Gd(t))return t;var e=Wd(t)?t:{each:t},r=Bg(e.ease),n=e.from||0,i=parseFloat(e.base)||0,a={},s=n>0&&n<1,o=isNaN(n)||s,l=e.axis,c=n,u=n;return zd(n)?c=u={center:.5,edges:.5,end:1}[n]||0:!s&&o&&(c=n[0],u=n[1]),function(t,s,h){var f,d,p,g,m,v,y,b,_,T=(h||e).length,E=a[T];if(!E){if(!(_="auto"===e.grid?0:(e.grid||[1,Pd])[1])){for(y=-Pd;y<(y=h[_++].getBoundingClientRect().left)&&_<T;);_--}for(E=a[T]=[],f=o?Math.min(_,T)*c-.5:n%_,d=o?T*u/_-.5:n/_|0,y=0,b=Pd,v=0;v<T;v++)p=v%_-f,g=d-(v/_|0),E[v]=m=l?Math.abs("y"===l?g:p):Nd(p*p+g*g),m>y&&(y=m),m<b&&(b=m);"random"===n&&ug(E),E.max=y-b,E.min=b,E.v=T=(parseFloat(e.amount)||parseFloat(e.each)*(_>T?T-1:l?"y"===l?T/_:_:Math.max(_,T/_))||0)*("edges"===n?-1:1),E.b=T<0?i-T:i,E.u=ag(e.amount||e.each)||0,r=r&&T<0?jg(r):r}return T=(E[t]-E.min)/E.max||0,Sp(E.b+(r?r(T):T)*E.v)+E.u}},fg=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var n=Math.round(parseFloat(r)/t)*t*e;return(n-n%1)/e+(Hd(r)?0:ag(r))}},dg=function(t,e){var r,n,i=$d(t);return!i&&Wd(t)&&(r=i=t.radius||Pd,t.values?(t=cg(t.values),(n=!Hd(t[0]))&&(r*=r)):t=fg(t.increment)),ng(e,i?Gd(t)?function(e){return n=t(e),Math.abs(n-e)<=r?n:e}:function(e){for(var i,a,s=parseFloat(n?e.x:e),o=parseFloat(n?e.y:0),l=Pd,c=0,u=t.length;u--;)(i=n?(i=t[u].x-s)*i+(a=t[u].y-o)*a:Math.abs(t[u]-s))<l&&(l=i,c=u);return c=!r||l<=r?t[c]:e,n||c===e||Hd(e)?c:c+ag(e)}:fg(t))},pg=function(t,e,r,n){return ng($d(t)?!e:!0===r?!!(r=0):!n,(function(){return $d(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*n)/n}))},gg=function(t,e,r){return ng(r,(function(r){return t[~~e(r)]}))},mg=function(t){for(var e,r,n,i,a=0,s="";~(e=t.indexOf("random(",a));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?rp:Qd),s+=t.substr(a,e-a)+pg(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),a=n+1;return s+t.substr(a,t.length-a)},vg=function(t,e,r,n,i){var a=e-t,s=n-r;return ng(i,(function(e){return r+((e-t)/a*s||0)}))},yg=function(t,e,r){var n,i,a,s=t.labels,o=Pd;for(n in s)(i=s[n]-e)<0===!!r&&i&&o>(i=Math.abs(i))&&(a=n,o=i);return a},bg=function(t,e,r){var n,i,a=t.vars,s=a[e];if(s)return n=a[e+"Params"],i=a.callbackScope||t,r&&fp.length&&Cp(),n?s.apply(i,n):s.call(i)},_g=function(t){return jp(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&bg(t,"onInterrupt"),t},Tg=function(t){var e=(t=!t.name&&t.default||t).name,r=Gd(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:up,render:um,add:Kg,kill:fm,modifier:hm,rawVars:0},a={targetTest:0,get:0,getSetter:sm,aliases:{},register:0};if(Rg(),t!==n){if(pp[e])return;Dp(n,Dp(Mp(t,i),a)),Rp(n.prototype,Rp(i,Mp(t,a))),pp[n.prop=e]=n,t.targetTest&&(vp.push(n),hp[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}cp(e,n),t.register&&t.register(bm,n,gm)},Eg=255,xg={aqua:[0,Eg,Eg],lime:[0,Eg,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Eg],navy:[0,0,128],white:[Eg,Eg,Eg],olive:[128,128,0],yellow:[Eg,Eg,0],orange:[Eg,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Eg,0,0],pink:[Eg,192,203],cyan:[0,Eg,Eg],transparent:[Eg,Eg,Eg,0]},Sg=function(t,e,r){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Eg+.5|0},wg=function(t,e,r){var n,i,a,s,o,l,c,u,h,f,d=t?Hd(t)?[t>>16,t>>8&Eg,t&Eg]:0:xg.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xg[t])d=xg[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),i=t.charAt(2),a=t.charAt(3),t="#"+n+n+i+i+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&Eg,d&Eg,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&Eg,t&Eg]}else if("hsl"===t.substr(0,3))if(d=f=t.match(Qd),e){if(~t.indexOf("="))return d=t.match(Zd),r&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,o=+d[1]/100,n=2*(l=+d[2]/100)-(i=l<=.5?l*(o+1):l+o-l*o),d.length>3&&(d[3]*=1),d[0]=Sg(s+1/3,n,i),d[1]=Sg(s,n,i),d[2]=Sg(s-1/3,n,i);else d=t.match(Qd)||xg.transparent;d=d.map(Number)}return e&&!f&&(n=d[0]/Eg,i=d[1]/Eg,a=d[2]/Eg,l=((c=Math.max(n,i,a))+(u=Math.min(n,i,a)))/2,c===u?s=o=0:(h=c-u,o=l>.5?h/(2-c-u):h/(c+u),s=c===n?(i-a)/h+(i<a?6:0):c===i?(a-n)/h+2:(n-i)/h+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*o+.5),d[2]=~~(100*l+.5)),r&&d.length<4&&(d[3]=1),d},Cg=function(t){var e=[],r=[],n=-1;return t.split(kg).forEach((function(t){var i=t.match(Jd)||[];e.push.apply(e,i),r.push(n+=i.length+1)})),e.c=r,e},Og=function(t,e,r){var n,i,a,s,o="",l=(t+o).match(kg),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map((function(t){return(t=wg(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(a=Cg(t),(n=r.c).join(o)!==a.c.join(o)))for(s=(i=t.replace(kg,"1").split(Jd)).length-1;u<s;u++)o+=i[u]+(~n.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:r).shift());if(!i)for(s=(i=t.split(kg)).length-1;u<s;u++)o+=i[u]+l[u];return o+i[s]},kg=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in xg)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ag=/hsl[a]?\(/,Dg=function(t){var e,r=t.join(" ");if(kg.lastIndex=0,kg.test(r))return e=Ag.test(r),t[1]=Og(t[1],e),t[0]=Og(t[0],e,Cg(t[1])),!0},Lg=function(){var t,e,r,n,i,a,s=Date.now,o=500,l=33,c=s(),u=c,h=1e3/240,f=h,d=[],p=function r(p){var g,m,v,y,b=s()-u,_=!0===p;if(b>o&&(c+=b-l),((g=(v=(u+=b)-c)-f)>0||_)&&(y=++n.frame,i=v-1e3*n.time,n.time=v/=1e3,f+=g+(g>=h?4:h-g),m=1),_||(t=e(r)),m)for(a=0;a<d.length;a++)d[a](v,i,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){Od&&(!wd&&Xd()&&(Sd=wd=window,Cd=Sd.document||{},ip.gsap=bm,(Sd.gsapVersions||(Sd.gsapVersions=[])).push(bm.version),sp(ap||Sd.GreenSockGlobals||!Sd.gsap&&Sd||{}),r=Sd.requestAnimationFrame),t&&n.sleep(),e=r||function(t){return setTimeout(t,f-1e3*n.time+1|0)},Dd=1,p(2))},sleep:function(){(r?Sd.cancelAnimationFrame:clearTimeout)(t),Dd=0,e=up},lagSmoothing:function(t,e){o=t||1e8,l=Math.min(e,o,0)},fps:function(t){h=1e3/(t||240),f=1e3*n.time+h},add:function(t){d.indexOf(t)<0&&d.push(t),Rg()},remove:function(t){var e;~(e=d.indexOf(t))&&d.splice(e,1)&&a>=e&&a--},_listeners:d}}(),Rg=function(){return!Dd&&Lg.wake()},Pg={},Mg=/^[\d.\-M][\d.\-,\s]/,Ig=/["']/g,Fg=function(t){for(var e,r,n,i={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,l=a.length;o<l;o++)r=a[o],e=o!==l-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[s]=isNaN(n)?n.replace(Ig,"").trim():+n,s=r.substr(e+1).trim();return i},jg=function(t){return function(e){return 1-t(1-e)}},Ng=function t(e,r){for(var n,i=e._first;i;)i instanceof Yg?t(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},Bg=function(t,e){return t&&(Gd(t)?t:Pg[t]||function(t){var e=(t+"").split("("),r=Pg[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[Fg(e[1])]:function(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<r?t.indexOf(")",r+1):r)}(t).split(",").map(kp)):Pg._CE&&Mg.test(t)?Pg._CE("",t):r}(t))||e},Ug=function(t,e,r,n){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,a={easeIn:e,easeOut:r,easeInOut:n};return Ep(t,(function(t){for(var e in Pg[t]=ip[t]=a,Pg[i=t.toLowerCase()]=r,a)Pg[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Pg[t+"."+e]=a[e]})),a},zg=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Gg=function t(e,r,n){var i=r>=1?r:1,a=(n||(e?.3:.45))/(r<1?r:1),s=a/Id*(Math.asin(1/i)||0),o=function(t){return 1===t?1:i*Math.pow(2,-10*t)*Ud((t-s)*a)+1},l="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:zg(o);return a=Id/a,l.config=function(r,n){return t(e,r,n)},l},Hg=function t(e,r){void 0===r&&(r=1.70158);var n=function(t){return t?--t*t*((r+1)*t+r)+1:0},i="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:zg(n);return i.config=function(r){return t(e,r)},i};Ep("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;Ug(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),Pg.Linear.easeNone=Pg.none=Pg.Linear.easeIn,Ug("Elastic",Gg("in"),Gg("out"),Gg()),function(t,e){var r=1/e,n=function(n){return n<r?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};Ug("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),Ug("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ug("Circ",(function(t){return-(Nd(1-t*t)-1)})),Ug("Sine",(function(t){return 1===t?1:1-Bd(t*Fd)})),Ug("Back",Hg("in"),Hg("out"),Hg()),Pg.SteppedEase=Pg.steps=ip.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*ig(0,.99999999,t)|0)+i)*r}}},Rd.ease=Pg["quad.out"],Ep("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return yp+=t+","+t+"Params,"}));var Vg=function(t,e){this.id=jd++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Tp,this.set=e?e.getSetter:sm},Wg=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zp(this,+t.duration,1,1),this.data=t.data,Dd||Lg.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Zp(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Rg(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Wp(this,t),!r._dp||r.parent||Yp(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Xp(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Md||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Op(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+zp(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+zp(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?Gp(this._tTime,r)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Hp(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Bp(this.totalTime(ig(-this._delay,this._tDur,e),!0)),Vp(this),this},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Rg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Md&&(this._tTime-=Md)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Xp(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Yd(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Hp(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Jp(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Jp(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(eg(this,t),Yd(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Yd(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Md))},e.eventCallback=function(t,e,r){var n=this.vars;return arguments.length>1?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(r){var n=Gd(t)?t:Ap,i=function(){var t=e.then;e.then=null,Gd(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),r(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){_g(this)},t}();Dp(Wg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Yg=function(t){function e(e,r){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=Yd(e.sortChildren),xd&&Xp(e.parent||xd,_d(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&qp(_d(n),e.scrollTrigger),n}Td(e,t);var r=e.prototype;return r.to=function(t,e,r){return rg(0,arguments,this),this},r.from=function(t,e,r){return rg(1,arguments,this),this},r.fromTo=function(t,e,r,n){return rg(2,arguments,this),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,Ip(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new em(t,e,eg(this,r),1),this},r.call=function(t,e,r){return Xp(this,em.delayedCall(0,t,e),r)},r.staggerTo=function(t,e,r,n,i,a,s){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=s,r.parent=this,new em(t,r,eg(this,i)),this},r.staggerFrom=function(t,e,r,n,i,a,s){return r.runBackwards=1,Ip(r).immediateRender=Yd(r.immediateRender),this.staggerTo(t,e,r,n,i,a,s)},r.staggerFromTo=function(t,e,r,n,i,a,s,o){return n.startAt=r,Ip(n).immediateRender=Yd(n.immediateRender),this.staggerTo(t,e,n,i,a,s,o)},r.render=function(t,e,r){var n,i,a,s,o,l,c,u,h,f,d,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=t<=0?0:Sp(t),b=this._zTime<0!==t<0&&(this._initted||!v);if(this!==xd&&y>m&&t>=0&&(y=m),y!==this._tTime||r||b){if(g!==this._time&&v&&(y+=this._time-g,t+=this._time-g),n=y,h=this._start,l=!(u=this._ts),b&&(v||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(d=this._yoyo,o=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,r);if(n=Sp(y%o),y===m?(s=this._repeat,n=v):((s=~~(y/o))&&s===y/o&&(n=v,s--),n>v&&(n=v)),f=Gp(this._tTime,o),!g&&this._tTime&&f!==s&&(f=s),d&&1&s&&(n=v-n,p=1),s!==f&&!this._lock){var _=d&&1&f,T=_===(d&&1&s);if(s<f&&(_=!_),g=_?0:v,this._lock=1,this.render(g||(p?0:Sp(s*o)),e,!v)._lock=0,this._tTime=y,!e&&this.parent&&bg(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,T&&(this._lock=2,g=_?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;Ng(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,r){var n;if(r>e)for(n=t._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,Sp(g),Sp(n)),c&&(y-=n-(n=c._start))),this._tTime=y,this._time=n,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&(bg(this,"onStart"),this._tTime!==y))return this;if(n>=g&&t>=0)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var E=t<0?t:n;i;){if(a=i._prev,(i._act||E<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=E?-1e-8:Md);break}}i=a}}if(c&&!e&&(this.pause(),c.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=h,Vp(this),this.render(t,e,r);this._onUpdate&&!e&&bg(this,"onUpdate",!0),(y===m&&m>=this.totalDuration()||!y&&g)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((t||!v)&&(y===m&&this._ts>0||!y&&this._ts<0)&&jp(this,1),e||t<0&&!g||!y&&!g&&m||(bg(this,y===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,e){var r=this;if(Hd(e)||(e=eg(this,e,t)),!(t instanceof Wg)){if($d(t))return t.forEach((function(t){return r.add(t,e)})),this;if(zd(t))return this.addLabel(t,e);if(!Gd(t))return this;t=em.delayedCall(0,t)}return this!==t?Xp(this,t,e):this},r.getChildren=function(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-Pd);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof em?e&&i.push(a):(r&&i.push(a),t&&i.push.apply(i,a.getChildren(!0,e,r)))),a=a._next;return i},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return zd(t)?this.removeLabel(t):Gd(t)?this.killTweensOf(t):(Fp(this,t),t===this._recent&&(this._recent=this._last),Np(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Sp(Lg.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=eg(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var n=em.delayedCall(0,e||up,r);return n.data="isPause",this._hasPause=1,Xp(this,n,eg(this,t))},r.removePause=function(t){var e=this._first;for(t=eg(this,t);e;)e._start===t&&"isPause"===e.data&&jp(e),e=e._next},r.killTweensOf=function(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)Xg!==n[i]&&n[i].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,n=[],i=cg(t),a=this._first,s=Hd(e);a;)a instanceof em?wp(a._targets,i)&&(s?(!Xg||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&n.push(a):(r=a.getTweensOf(i,e)).length&&n.push.apply(n,r),a=a._next;return n},r.tweenTo=function(t,e){e=e||{};var r,n=this,i=eg(n,t),a=e,s=a.startAt,o=a.onStart,l=a.onStartParams,c=a.immediateRender,u=em.to(n,Dp({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale())||Md,onStart:function(){if(n.pause(),!r){var t=e.duration||Math.abs((i-(s&&"time"in s?s.time:n._time))/n.timeScale());u._dur!==t&&Zp(u,t,0,1).render(u._time,!0,!0),r=1}o&&o.apply(u,l||[])}},e));return c?u.render(0):u},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,Dp({startAt:{time:eg(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),yg(this,eg(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),yg(this,eg(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Md)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=t,i._end+=t),i=i._next;if(e)for(n in a)a[n]>=r&&(a[n]+=t);return Np(this)},r.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Np(this)},r.totalDuration=function(t){var e,r,n,i=0,a=this,s=a._last,o=Pd;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(n=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>o&&a._sort&&s._ts&&!a._lock?(a._lock=1,Xp(a,s,r-s._delay,1)._lock=0):o=r,r<0&&s._ts&&(i-=r,(!n&&!a._dp||n&&n.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),o=0),s._end>i&&s._ts&&(i=s._end),s=e;Zp(a,a===xd&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(xd._ts&&(Op(xd,Hp(t,xd)),kd=Lg.frame),Lg.frame>=mp){mp+=Ld.autoSleep||120;var e=xd._first;if((!e||!e._ts)&&Ld.autoSleep&&Lg._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Lg.sleep()}}},e}(Wg);Dp(Yg.prototype,{_lock:0,_hasPause:0,_forcing:0});var Xg,qg=function(t,e,r,n,i,a,s){var o,l,c,u,h,f,d,p,g=new gm(this._pt,t,e,0,1,cm,null,i),m=0,v=0;for(g.b=r,g.e=n,r+="",(d=~(n+="").indexOf("random("))&&(n=mg(n)),a&&(a(p=[r,n],t,e),r=p[0],n=p[1]),l=r.match(tp)||[];o=tp.exec(n);)u=o[0],h=n.substring(m,o.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(f=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:f,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-f,m:c&&c<4?Math.round:0},m=tp.lastIndex);return g.c=m<n.length?n.substring(m,n.length):"",g.fp=s,(ep.test(n)||d)&&(g.e=0),this._pt=g,g},Kg=function(t,e,r,n,i,a,s,o,l){Gd(n)&&(n=n(i||0,t,a));var c,u=t[e],h="get"!==r?r:Gd(u)?l?t[e.indexOf("set")||!Gd(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():u,f=Gd(u)?l?im:nm:rm;if(zd(n)&&(~n.indexOf("random(")&&(n=mg(n)),"="===n.charAt(1)&&((c=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(ag(h)||0))||0===c)&&(n=c)),h!==n)return isNaN(h*n)||""===n?(!u&&!(e in t)&&op(e,n),qg.call(this,t,e,h,n,f,o||Ld.stringFilter,l)):(c=new gm(this._pt,t,e,+h||0,n-(h||0),"boolean"===typeof u?lm:om,0,f),l&&(c.fp=l),s&&c.modifier(s,this,t),this._pt=c)},$g=function(t,e,r,n,i,a){var s,o,l,c;if(pp[t]&&!1!==(s=new pp[t]).init(i,s.rawVars?e[t]:function(t,e,r,n,i){if(Gd(t)&&(t=Zg(t,i,e,r,n)),!Wd(t)||t.style&&t.nodeType||$d(t)||Kd(t))return zd(t)?Zg(t,i,e,r,n):t;var a,s={};for(a in t)s[a]=Zg(t[a],i,e,r,n);return s}(e[t],n,i,a,r),r,n,a)&&(r._pt=o=new gm(r._pt,i,t,0,1,s.render,s,0,s.priority),r!==Ad))for(l=r._ptLookup[r._targets.indexOf(i)],c=s._props.length;c--;)l[s._props[c]]=o;return s},Qg=function t(e,r){var n,i,a,s,o,l,c,u,h,f,d,p,g,m=e.vars,v=m.ease,y=m.startAt,b=m.immediateRender,_=m.lazy,T=m.onUpdate,E=m.onUpdateParams,x=m.callbackScope,S=m.runBackwards,w=m.yoyoEase,C=m.keyframes,O=m.autoRevert,k=e._dur,A=e._startAt,D=e._targets,L=e.parent,R=L&&"nested"===L.data?L.parent._targets:D,P="auto"===e._overwrite&&!Ed,M=e.timeline;if(M&&(!C||!v)&&(v="none"),e._ease=Bg(v,Rd.ease),e._yEase=w?jg(Bg(!0===w?v:w,Rd.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!M&&!!m.runBackwards,!M){if(p=(u=D[0]?_p(D[0]).harness:0)&&m[u.prop],n=Mp(m,hp),A&&A.render(-1,!0).kill(),y)if(jp(e._startAt=em.set(D,Dp({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:Yd(_),startAt:null,delay:0,onUpdate:T,onUpdateParams:E,callbackScope:x,stagger:0},y))),r<0&&!b&&!O&&e._startAt.render(-1,!0),b){if(r>0&&!O&&(e._startAt=0),k&&r<=0)return void(r&&(e._zTime=r))}else!1===O&&(e._startAt=0);else if(S&&k)if(A)!O&&(e._startAt=0);else if(r&&(b=!1),a=Dp({overwrite:!1,data:"isFromStart",lazy:b&&Yd(_),immediateRender:b,stagger:0,parent:L},n),p&&(a[u.prop]=p),jp(e._startAt=em.set(D,a)),r<0&&e._startAt.render(-1,!0),b){if(!r)return}else t(e._startAt,Md);for(e._pt=0,_=k&&Yd(_)||_&&!k,i=0;i<D.length;i++){if(c=(o=D[i])._gsap||bp(D)[i]._gsap,e._ptLookup[i]=f={},dp[c.id]&&fp.length&&Cp(),d=R===D?i:R.indexOf(o),u&&!1!==(h=new u).init(o,p||n,e,d,R)&&(e._pt=s=new gm(e._pt,o,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){f[t]=s})),h.priority&&(l=1)),!u||p)for(a in n)pp[a]&&(h=$g(a,n,e,d,o,R))?h.priority&&(l=1):f[a]=s=Kg.call(e,o,a,"get",n[a],d,R,0,m.stringFilter);e._op&&e._op[i]&&e.kill(o,e._op[i]),P&&e._pt&&(Xg=e,xd.killTweensOf(o,f,e.globalTime(r)),g=!e.parent,Xg=0),e._pt&&_&&(dp[c.id]=1)}l&&pm(e),e._onInit&&e._onInit(e)}e._onUpdate=T,e._initted=(!e._op||e._pt)&&!g},Zg=function(t,e,r,n,i){return Gd(t)?t.call(e,r,n,i):zd(t)&&~t.indexOf("random(")?mg(t):t},Jg=yp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",tm=(Jg+",id,stagger,delay,duration,paused,scrollTrigger").split(","),em=function(t){function e(e,r,n,i){var a;"number"===typeof r&&(n.duration=r,r=n,n=null);var s,o,l,c,u,h,f,d,p=(a=t.call(this,i?r:Ip(r))||this).vars,g=p.duration,m=p.delay,v=p.immediateRender,y=p.stagger,b=p.overwrite,_=p.keyframes,T=p.defaults,E=p.scrollTrigger,x=p.yoyoEase,S=r.parent||xd,w=($d(e)||Kd(e)?Hd(e[0]):"length"in r)?[e]:cg(e);if(a._targets=w.length?bp(w):lp("GSAP target "+e+" not found. https://greensock.com",!Ld.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,_||y||qd(g)||qd(m)){if(r=a.vars,(s=a.timeline=new Yg({data:"nested",defaults:T||{}})).kill(),s.parent=s._dp=_d(a),s._start=0,_)Ip(Dp(s.vars.defaults,{ease:"none"})),y?w.forEach((function(t,e){return _.forEach((function(r,n){return s.to(t,r,n?">":e*y)}))})):_.forEach((function(t){return s.to(w,t,">")}));else{if(c=w.length,f=y?hg(y):up,Wd(y))for(u in y)~Jg.indexOf(u)&&(d||(d={}),d[u]=y[u]);for(o=0;o<c;o++){for(u in l={},r)tm.indexOf(u)<0&&(l[u]=r[u]);l.stagger=0,x&&(l.yoyoEase=x),d&&Rp(l,d),h=w[o],l.duration=+Zg(g,_d(a),o,h,w),l.delay=(+Zg(m,_d(a),o,h,w)||0)-a._delay,!y&&1===c&&l.delay&&(a._delay=m=l.delay,a._start+=m,l.delay=0),s.to(h,l,f(o,h,w))}s.duration()?g=m=0:a.timeline=0}g||a.duration(g=s.duration())}else a.timeline=0;return!0!==b||Ed||(Xg=_d(a),xd.killTweensOf(w),Xg=0),Xp(S,_d(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(v||!g&&!_&&a._start===Sp(S._time)&&Yd(v)&&Up(_d(a))&&"nested"!==S.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-m))),E&&qp(_d(a),E),a}Td(e,t);var r=e.prototype;return r.render=function(t,e,r){var n,i,a,s,o,l,c,u,h,f=this._time,d=this._tDur,p=this._dur,g=t>d-Md&&t>=0?d:t<Md?0:t;if(p){if(g!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==t<0){if(n=g,u=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(n=Sp(g%s),g===d?(a=this._repeat,n=p):((a=~~(g/s))&&a===g/s&&(n=p,a--),n>p&&(n=p)),(l=this._yoyo&&1&a)&&(h=this._yEase,n=p-n),o=Gp(this._tTime,s),n===f&&!r&&this._initted)return this;a!==o&&(u&&this._yEase&&Ng(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=r=1,this.render(Sp(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Kp(this,t<0?t:n,r,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,r)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(n/p),this._from&&(this.ratio=c=1-c),n&&!f&&!e&&(bg(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(t<0?t:!n&&l?-1e-8:u._dur*c,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),bg(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&bg(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&jp(this,1),e||t<0&&!f||!g&&!f||(bg(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,n){var i,a,s,o=t.ratio,l=e<0||!e&&(!t._start&&$p(t)&&(t._initted||!Qp(t))||(t._ts<0||t._dp._ts<0)&&!Qp(t))?0:1,c=t._rDelay,u=0;if(c&&t._repeat&&(u=ig(0,t._tDur,e),a=Gp(u,c),s=Gp(t._tTime,c),t._yoyo&&1&a&&(l=1-l),a!==s&&(o=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==o||n||t._zTime===Md||!e&&t._zTime){if(!t._initted&&Kp(t,e,n,r))return;for(s=t._zTime,t._zTime=e||(r?Md:0),r||(r=e&&!s),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=u,i=t._pt;i;)i.r(l,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&bg(t,"onUpdate"),u&&t._repeat&&!r&&t.parent&&bg(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&jp(t,1),r||(bg(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},r.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?_g(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Xg&&!0!==Xg.vars.overwrite)._first||_g(this),this.parent&&r!==this.timeline.totalDuration()&&Zp(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,a,s,o,l,c,u=this._targets,h=t?cg(t):u,f=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(u,h))return"all"===e&&(this._pt=0),_g(this);for(n=this._op=this._op||[],"all"!==e&&(zd(e)&&(o={},Ep(e,(function(t){return o[t]=1})),e=o),e=function(t,e){var r,n,i,a,s=t[0]?_p(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(n in r=Rp({},e),o)if(n in r)for(i=(a=o[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(u,e)),c=u.length;c--;)if(~h.indexOf(u[c]))for(o in i=f[c],"all"===e?(n[c]=e,s=i,a={}):(a=n[c]=n[c]||{},s=e),s)(l=i&&i[o])&&("kill"in l.d&&!0!==l.d.kill(o)||Fp(this,l,"_pt"),delete i[o]),"all"!==a&&(a[o]=1);return this._initted&&!this._pt&&d&&_g(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,e){return rg(1,arguments)},e.delayedCall=function(t,r,n,i){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},e.fromTo=function(t,e,r){return rg(2,arguments)},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return xd.killTweensOf(t,e,r)},e}(Wg);Dp(em.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ep("staggerTo,staggerFrom,staggerFromTo",(function(t){em[t]=function(){var e=new Yg,r=sg.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var rm=function(t,e,r){return t[e]=r},nm=function(t,e,r){return t[e](r)},im=function(t,e,r,n){return t[e](n.fp,r)},am=function(t,e,r){return t.setAttribute(e,r)},sm=function(t,e){return Gd(t[e])?nm:Vd(t[e])&&t.setAttribute?am:rm},om=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},lm=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cm=function(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},um=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},hm=function(t,e,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(t,e,r),a=i},fm=function(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?Fp(this,n,"_pt"):n.dep||(e=1),n=r;return!e},dm=function(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)},pm=function(t){for(var e,r,n,i,a=t._pt;a;){for(e=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=e}t._pt=n},gm=function(){function t(t,e,r,n,i,a,s,o,l){this.t=e,this.s=n,this.c=i,this.p=r,this.r=a||om,this.d=s||this,this.set=o||rm,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=dm,this.m=t,this.mt=r,this.tween=e},t}();Ep(yp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return hp[t]=1})),ip.TweenMax=ip.TweenLite=em,ip.TimelineLite=ip.TimelineMax=Yg,xd=new Yg({sortChildren:!1,defaults:Rd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ld.stringFilter=Dg;var mm={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return Tg(t)}))},timeline:function(t){return new Yg(t)},getTweensOf:function(t,e){return xd.getTweensOf(t,e)},getProperty:function(t,e,r,n){zd(t)&&(t=cg(t)[0]);var i=_p(t||{}).get,a=r?Ap:kp;return"native"===r&&(r=""),t?e?a((pp[e]&&pp[e].get||i)(t,e,r,n)):function(e,r,n){return a((pp[e]&&pp[e].get||i)(t,e,r,n))}:t},quickSetter:function(t,e,r){if((t=cg(t)).length>1){var n=t.map((function(t){return bm.quickSetter(t,e,r)})),i=n.length;return function(t){for(var e=i;e--;)n[e](t)}}t=t[0]||{};var a=pp[e],s=_p(t),o=s.harness&&(s.harness.aliases||{})[e]||e,l=a?function(e){var n=new a;Ad._pt=0,n.init(t,r?e+r:e,Ad,0,[t]),n.render(1,n),Ad._pt&&um(1,Ad)}:s.set(t,o);return a?l:function(e){return l(t,o,r?e+r:e,s,1)}},isTweening:function(t){return xd.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Bg(t.ease,Rd.ease)),Pp(Rd,t||{})},config:function(t){return Pp(Ld,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,n=t.plugins,i=t.defaults,a=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!pp[t]&&!ip[t]&&lp(e+" effect requires "+t+" plugin.")})),gp[e]=function(t,e,n){return r(cg(t),Dp(e||{},i),n)},a&&(Yg.prototype[e]=function(t,r,n){return this.add(gp[e](t,Wd(r)?r:(n=r)&&{},this),n)})},registerEase:function(t,e){Pg[t]=Bg(e)},parseEase:function(t,e){return arguments.length?Bg(t,e):Pg},getById:function(t){return xd.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,n,i=new Yg(t);for(i.smoothChildTiming=Yd(t.smoothChildTiming),xd.remove(i),i._dp=0,i._time=i._tTime=xd._time,r=xd._first;r;)n=r._next,!e&&!r._dur&&r instanceof em&&r.vars.onComplete===r._targets[0]||Xp(i,r,r._start-r._delay),r=n;return Xp(xd,i,0),i},utils:{wrap:function t(e,r,n){var i=r-e;return $d(e)?gg(e,t(0,e.length),r):ng(n,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,r,n){var i=r-e,a=2*i;return $d(e)?gg(e,t(0,e.length-1),r):ng(n,(function(t){return e+((t=(a+(t-e)%a)%a||0)>i?a-t:t)}))},distribute:hg,random:pg,snap:dg,normalize:function(t,e,r){return vg(t,e,0,1,r)},getUnit:ag,clamp:function(t,e,r){return ng(r,(function(r){return ig(t,e,r)}))},splitColor:wg,toArray:cg,selector:function(t){return t=cg(t)[0]||lp("Invalid scope")||{},function(e){var r=t.current||t.nativeElement||t;return cg(e,r.querySelectorAll?r:r===t?lp("Invalid scope")||Cd.createElement("div"):t)}},mapRange:vg,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||ag(r))}},interpolate:function t(e,r,n,i){var a=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!a){var s,o,l,c,u,h=zd(e),f={};if(!0===n&&(i=1)&&(n=null),h)e={p:e},r={p:r};else if($d(e)&&!$d(r)){for(l=[],c=e.length,u=c-2,o=1;o<c;o++)l.push(t(e[o-1],e[o]));c--,a=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},n=r}else i||(e=Rp($d(e)?[]:{},e));if(!l){for(s in r)Kg.call(f,e,s,"get",r[s]);a=function(t){return um(t,f)||(h?e.p:e)}}}return ng(n,a)},shuffle:ug},install:sp,effects:gp,ticker:Lg,updateRoot:Yg.updateRoot,plugins:pp,globalTimeline:xd,core:{PropTween:gm,globals:cp,Tween:em,Timeline:Yg,Animation:Wg,getCache:_p,_removeLinkedListItem:Fp,suppressOverwrites:function(t){return Ed=t}}};Ep("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return mm[t]=em[t]})),Lg.add(Yg.updateRoot),Ad=mm.to({},{duration:0});var vm=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},ym=function(t,e){return{name:t,rawVars:1,init:function(t,r,n){n._onInit=function(t){var n,i;if(zd(r)&&(n={},Ep(r,(function(t){return n[t]=1})),r=n),e){for(i in n={},r)n[i]=e(r[i]);r=n}!function(t,e){var r,n,i,a=t._targets;for(r in e)for(n=a.length;n--;)(i=t._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=vm(i,r)),i&&i.modifier&&i.modifier(e[r],t,a[n],r))}(t,r)}}}},bm=mm.registerPlugin({name:"attr",init:function(t,e,r,n,i){var a,s;for(a in e)(s=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],n,i,0,0,a))&&(s.op=a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},ym("roundProps",fg),ym("modifiers"),ym("snap",dg))||mm;em.version=Yg.version=bm.version="3.8.0",Od=1,Xd()&&Rg();Pg.Power0,Pg.Power1,Pg.Power2,Pg.Power3,Pg.Power4,Pg.Linear,Pg.Quad,Pg.Cubic,Pg.Quart,Pg.Quint,Pg.Strong,Pg.Elastic,Pg.Back,Pg.SteppedEase,Pg.Bounce,Pg.Sine,Pg.Expo,Pg.Circ;var _m,Tm,Em,xm,Sm,wm,Cm,Om={},km=180/Math.PI,Am=Math.PI/180,Dm=Math.atan2,Lm=/([A-Z])/g,Rm=/(?:left|right|width|margin|padding|x)/i,Pm=/[\s,\(]\S/,Mm={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Im=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Fm=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},jm=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Nm=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},Bm=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Um=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},zm=function(t,e,r){return t.style[e]=r},Gm=function(t,e,r){return t.style.setProperty(e,r)},Hm=function(t,e,r){return t._gsap[e]=r},Vm=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},Wm=function(t,e,r,n,i){var a=t._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)},Ym=function(t,e,r,n,i){var a=t._gsap;a[e]=r,a.renderTransform(i,a)},Xm="transform",qm=Xm+"Origin",Km=function(t,e){var r=Tm.createElementNS?Tm.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Tm.createElement(t);return r.style?r:Tm.createElement(t)},$m=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(Lm,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,Zm(r)||r,1)||""},Qm="O,Moz,ms,Ms,Webkit".split(","),Zm=function(t,e,r){var n=(e||Sm).style,i=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Qm[i]+t in n););return i<0?null:(3===i?"ms":i>=0?Qm[i]:"")+t},Jm=function(){"undefined"!==typeof window&&window.document&&(_m=window,Tm=_m.document,Em=Tm.documentElement,Sm=Km("div")||{style:{}},Km("div"),Xm=Zm(Xm),qm=Xm+"Origin",Sm.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Cm=!!Zm("perspective"),xm=1)},tv=function t(e){var r,n=Km("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(Em.appendChild(n),n.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(o){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),Em.removeChild(n),this.style.cssText=s,r},ev=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},rv=function(t){var e;try{e=t.getBBox()}catch(r){e=tv.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===tv||(e=tv.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+ev(t,["x","cx","x1"])||0,y:+ev(t,["y","cy","y1"])||0,width:0,height:0}},nv=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!rv(t))},iv=function(t,e){if(e){var r=t.style;e in Om&&e!==qm&&(e=Xm),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Lm,"-$1").toLowerCase())):r.removeAttribute(e)}},av=function(t,e,r,n,i,a){var s=new gm(t._pt,e,r,0,1,a?Um:Bm);return t._pt=s,s.b=n,s.e=i,t._props.push(r),s},sv={deg:1,rad:1,turn:1},ov=function t(e,r,n,i){var a,s,o,l,c=parseFloat(n)||0,u=(n+"").trim().substr((c+"").length)||"px",h=Sm.style,f=Rm.test(r),d="svg"===e.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),g=100,m="px"===i,v="%"===i;return i===u||!c||sv[i]||sv[u]?c:("px"!==u&&!m&&(c=t(e,r,n,"px")),l=e.getCTM&&nv(e),!v&&"%"!==u||!Om[r]&&!~r.indexOf("adius")?(h[f?"width":"height"]=g+(m?u:i),s=~r.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,l&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Tm&&s.appendChild||(s=Tm.body),(o=s._gsap)&&v&&o.width&&f&&o.time===Lg.time?xp(c/o.width*g):((v||"%"===u)&&(h.position=$m(e,"position")),s===e&&(h.position="static"),s.appendChild(Sm),a=Sm[p],s.removeChild(Sm),h.position="absolute",f&&v&&((o=_p(s)).time=Lg.time,o.width=s[p]),xp(m?a*c/g:a&&c?g/a*c:0))):(a=l?e.getBBox()[f?"width":"height"]:e[p],xp(v?c/a*g:c/100*a)))},lv=function(t,e,r,n){var i;return xm||Jm(),e in Mm&&"transform"!==e&&~(e=Mm[e]).indexOf(",")&&(e=e.split(",")[0]),Om[e]&&"transform"!==e?(i=_v(t,n),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Tv($m(t,qm))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=dv[e]&&dv[e](t,e,r)||$m(t,e)||Tp(t,e)||("opacity"===e?1:0)),r&&!~(i+"").trim().indexOf(" ")?ov(t,e,i,r)+r:i},cv=function(t,e,r,n){if(!r||"none"===r){var i=Zm(e,t,1),a=i&&$m(t,i,1);a&&a!==r?(e=i,r=a):"borderColor"===e&&(r=$m(t,"borderTopColor"))}var s,o,l,c,u,h,f,d,p,g,m,v,y=new gm(this._pt,t.style,e,0,1,cm),b=0,_=0;if(y.b=r,y.e=n,r+="","auto"===(n+="")&&(t.style[e]=n,n=$m(t,e)||n,t.style[e]=r),Dg(s=[r,n]),n=s[1],l=(r=s[0]).match(Jd)||[],(n.match(Jd)||[]).length){for(;o=Jd.exec(n);)f=o[0],p=n.substring(b,o.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),f!==(h=l[_++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),(v="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),d=parseFloat(f),g=f.substr((d+"").length),b=Jd.lastIndex-g.length,g||(g=g||Ld.units[e]||m,b===n.length&&(n+=g,y.e+=g)),m!==g&&(c=ov(t,e,h,g)||0),y._pt={_next:y._pt,p:p||1===_?p:",",s:c,c:v?v*d:d-c,m:u&&u<4||"zIndex"===e?Math.round:0});y.c=b<n.length?n.substring(b,n.length):""}else y.r="display"===e&&"none"===n?Um:Bm;return ep.test(n)&&(y.e=0),this._pt=y,y},uv={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hv=function(t){var e=t.split(" "),r=e[0],n=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(t=r,r=n,n=t),e[0]=uv[r]||r,e[1]=uv[n]||n,e.join(" ")},fv=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,a=e.t,s=a.style,o=e.u,l=a._gsap;if("all"===o||!0===o)s.cssText="",n=1;else for(i=(o=o.split(",")).length;--i>-1;)r=o[i],Om[r]&&(n=1,r="transformOrigin"===r?qm:Xm),iv(a,r);n&&(iv(a,Xm),l&&(l.svg&&a.removeAttribute("transform"),_v(a,1),l.uncache=1))}},dv={clearProps:function(t,e,r,n,i){if("isFromStart"!==i.data){var a=t._pt=new gm(t._pt,e,r,0,0,fv);return a.u=n,a.pr=-10,a.tween=i,t._props.push(r),1}}},pv=[1,0,0,1,0,0],gv={},mv=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},vv=function(t){var e=$m(t,Xm);return mv(e)?pv:e.substr(7).match(Zd).map(xp)},yv=function(t,e){var r,n,i,a,s=t._gsap||_p(t),o=t.style,l=vv(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?pv:l:(l!==pv||t.offsetParent||t===Em||s.svg||(i=o.display,o.display="block",(r=t.parentNode)&&t.offsetParent||(a=1,n=t.nextSibling,Em.appendChild(t)),l=vv(t),i?o.display=i:iv(t,"display"),a&&(n?r.insertBefore(t,n):r?r.appendChild(t):Em.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},bv=function(t,e,r,n,i,a){var s,o,l,c=t._gsap,u=i||yv(t,!0),h=c.xOrigin||0,f=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,g=u[0],m=u[1],v=u[2],y=u[3],b=u[4],_=u[5],T=e.split(" "),E=parseFloat(T[0])||0,x=parseFloat(T[1])||0;r?u!==pv&&(o=g*y-m*v)&&(l=E*(-m/o)+x*(g/o)-(g*_-m*b)/o,E=E*(y/o)+x*(-v/o)+(v*_-y*b)/o,x=l):(E=(s=rv(t)).x+(~T[0].indexOf("%")?E/100*s.width:E),x=s.y+(~(T[1]||T[0]).indexOf("%")?x/100*s.height:x)),n||!1!==n&&c.smooth?(b=E-h,_=x-f,c.xOffset=d+(b*g+_*v)-b,c.yOffset=p+(b*m+_*y)-_):c.xOffset=c.yOffset=0,c.xOrigin=E,c.yOrigin=x,c.smooth=!!n,c.origin=e,c.originIsAbsolute=!!r,t.style[qm]="0px 0px",a&&(av(a,c,"xOrigin",h,E),av(a,c,"yOrigin",f,x),av(a,c,"xOffset",d,c.xOffset),av(a,c,"yOffset",p,c.yOffset)),t.setAttribute("data-svg-origin",E+" "+x)},_v=function(t,e){var r=t._gsap||new Vg(t);if("x"in r&&!e&&!r.uncache)return r;var n,i,a,s,o,l,c,u,h,f,d,p,g,m,v,y,b,_,T,E,x,S,w,C,O,k,A,D,L,R,P,M,I=t.style,F=r.scaleX<0,j="px",N="deg",B=$m(t,qm)||"0";return n=i=a=l=c=u=h=f=d=0,s=o=1,r.svg=!(!t.getCTM||!nv(t)),m=yv(t,r.svg),r.svg&&(C=(!r.uncache||"0px 0px"===B)&&!e&&t.getAttribute("data-svg-origin"),bv(t,C||B,!!C||r.originIsAbsolute,!1!==r.smooth,m)),p=r.xOrigin||0,g=r.yOrigin||0,m!==pv&&(_=m[0],T=m[1],E=m[2],x=m[3],n=S=m[4],i=w=m[5],6===m.length?(s=Math.sqrt(_*_+T*T),o=Math.sqrt(x*x+E*E),l=_||T?Dm(T,_)*km:0,(h=E||x?Dm(E,x)*km+l:0)&&(o*=Math.abs(Math.cos(h*Am))),r.svg&&(n-=p-(p*_+g*E),i-=g-(p*T+g*x))):(M=m[6],R=m[7],A=m[8],D=m[9],L=m[10],P=m[11],n=m[12],i=m[13],a=m[14],c=(v=Dm(M,L))*km,v&&(C=S*(y=Math.cos(-v))+A*(b=Math.sin(-v)),O=w*y+D*b,k=M*y+L*b,A=S*-b+A*y,D=w*-b+D*y,L=M*-b+L*y,P=R*-b+P*y,S=C,w=O,M=k),u=(v=Dm(-E,L))*km,v&&(y=Math.cos(-v),P=x*(b=Math.sin(-v))+P*y,_=C=_*y-A*b,T=O=T*y-D*b,E=k=E*y-L*b),l=(v=Dm(T,_))*km,v&&(C=_*(y=Math.cos(v))+T*(b=Math.sin(v)),O=S*y+w*b,T=T*y-_*b,w=w*y-S*b,_=C,S=O),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=xp(Math.sqrt(_*_+T*T+E*E)),o=xp(Math.sqrt(w*w+M*M)),v=Dm(S,w),h=Math.abs(v)>2e-4?v*km:0,d=P?1/(P<0?-P:P):0),r.svg&&(C=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!mv($m(t,Xm)),C&&t.setAttribute("transform",C))),Math.abs(h)>90&&Math.abs(h)<270&&(F?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,h+=h<=0?180:-180)),r.x=n-((r.xPercent=n&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+j,r.y=i-((r.yPercent=i&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+j,r.z=a+j,r.scaleX=xp(s),r.scaleY=xp(o),r.rotation=xp(l)+N,r.rotationX=xp(c)+N,r.rotationY=xp(u)+N,r.skewX=h+N,r.skewY=f+N,r.transformPerspective=d+j,(r.zOrigin=parseFloat(B.split(" ")[2])||0)&&(I[qm]=Tv(B)),r.xOffset=r.yOffset=0,r.force3D=Ld.force3D,r.renderTransform=r.svg?kv:Cm?Ov:xv,r.uncache=0,r},Tv=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ev=function(t,e,r){var n=ag(e);return xp(parseFloat(e)+parseFloat(ov(t,"x",r+"px",n)))+n},xv=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ov(t,e)},Sv="0deg",wv="0px",Cv=") ",Ov=function(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,a=r.x,s=r.y,o=r.z,l=r.rotation,c=r.rotationY,u=r.rotationX,h=r.skewX,f=r.skewY,d=r.scaleX,p=r.scaleY,g=r.transformPerspective,m=r.force3D,v=r.target,y=r.zOrigin,b="",_="auto"===m&&t&&1!==t||!0===m;if(y&&(u!==Sv||c!==Sv)){var T,E=parseFloat(c)*Am,x=Math.sin(E),S=Math.cos(E);E=parseFloat(u)*Am,T=Math.cos(E),a=Ev(v,a,x*T*-y),s=Ev(v,s,-Math.sin(E)*-y),o=Ev(v,o,S*T*-y+y)}g!==wv&&(b+="perspective("+g+Cv),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(_||a!==wv||s!==wv||o!==wv)&&(b+=o!==wv||_?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+Cv),l!==Sv&&(b+="rotate("+l+Cv),c!==Sv&&(b+="rotateY("+c+Cv),u!==Sv&&(b+="rotateX("+u+Cv),h===Sv&&f===Sv||(b+="skew("+h+", "+f+Cv),1===d&&1===p||(b+="scale("+d+", "+p+Cv),v.style[Xm]=b||"translate(0, 0)"},kv=function(t,e){var r,n,i,a,s,o=e||this,l=o.xPercent,c=o.yPercent,u=o.x,h=o.y,f=o.rotation,d=o.skewX,p=o.skewY,g=o.scaleX,m=o.scaleY,v=o.target,y=o.xOrigin,b=o.yOrigin,_=o.xOffset,T=o.yOffset,E=o.forceCSS,x=parseFloat(u),S=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=Am,d*=Am,r=Math.cos(f)*g,n=Math.sin(f)*g,i=Math.sin(f-d)*-m,a=Math.cos(f-d)*m,d&&(p*=Am,s=Math.tan(d-p),i*=s=Math.sqrt(1+s*s),a*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),n*=s)),r=xp(r),n=xp(n),i=xp(i),a=xp(a)):(r=g,a=m,n=i=0),(x&&!~(u+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(x=ov(v,"x",u,"px"),S=ov(v,"y",h,"px")),(y||b||_||T)&&(x=xp(x+y-(y*r+b*i)+_),S=xp(S+b-(y*n+b*a)+T)),(l||c)&&(s=v.getBBox(),x=xp(x+l/100*s.width),S=xp(S+c/100*s.height)),s="matrix("+r+","+n+","+i+","+a+","+x+","+S+")",v.setAttribute("transform",s),E&&(v.style[Xm]=s)},Av=function(t,e,r,n,i,a){var s,o,l=360,c=zd(i),u=parseFloat(i)*(c&&~i.indexOf("rad")?km:1),h=a?u*a:u-n,f=n+h+"deg";return c&&("short"===(s=i.split("_")[1])&&(h%=l)!==h%180&&(h+=h<0?l:-360),"cw"===s&&h<0?h=(h+36e9)%l-~~(h/l)*l:"ccw"===s&&h>0&&(h=(h-36e9)%l-~~(h/l)*l)),t._pt=o=new gm(t._pt,e,r,n,h,Fm),o.e=f,o.u="deg",t._props.push(r),o},Dv=function(t,e){for(var r in e)t[r]=e[r];return t},Lv=function(t,e,r){var n,i,a,s,o,l,c,u=Dv({},r._gsap),h=r.style;for(i in u.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),h[Xm]=e,n=_v(r,1),iv(r,Xm),r.setAttribute("transform",a)):(a=getComputedStyle(r)[Xm],h[Xm]=e,n=_v(r,1),h[Xm]=a),Om)(a=u[i])!==(s=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(o=ag(a)!==(c=ag(s))?ov(r,i,a,c):parseFloat(a),l=parseFloat(s),t._pt=new gm(t._pt,n,i,o,l-o,Im),t._pt.u=c||0,t._props.push(i));Dv(n,u)};Ep("padding,margin,Width,Radius",(function(t,e){var r="Top",n="Right",i="Bottom",a="Left",s=(e<3?[r,n,i,a]:[r+a,r+n,i+n,i+a]).map((function(r){return e<2?t+r:"border"+r+t}));dv[e>1?"border"+t:t]=function(t,e,r,n,i){var a,o;if(arguments.length<4)return a=s.map((function(e){return lv(t,e,r)})),5===(o=a.join(" ")).split(a[0]).length?a[0]:o;a=(n+"").split(" "),o={},s.forEach((function(t,e){return o[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,o,i)}}));var Rv={name:"css",register:Jm,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,n,i){var a,s,o,l,c,u,h,f,d,p,g,m,v,y,b,_=this._props,T=t.style,E=r.vars.startAt;for(h in xm||Jm(),e)if("autoRound"!==h&&(s=e[h],!pp[h]||!$g(h,e,r,n,t,i)))if(c=typeof s,u=dv[h],"function"===c&&(c=typeof(s=s.call(r,n,t,i))),"string"===c&&~s.indexOf("random(")&&(s=mg(s)),u)u(this,t,h,s,r)&&(b=1);else if("--"===h.substr(0,2))a=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",kg.lastIndex=0,kg.test(a)||(f=ag(a),d=ag(s)),d?f!==d&&(a=ov(t,h,a,d)+d):f&&(s+=f),this.add(T,"setProperty",a,s,n,i,0,0,h),_.push(h);else if("undefined"!==c){if(E&&h in E?(a="function"===typeof E[h]?E[h].call(r,n,t,i):E[h],h in Ld.units&&!ag(a)&&(a+=Ld.units[h]),zd(a)&&~a.indexOf("random(")&&(a=mg(a)),"="===(a+"").charAt(1)&&(a=lv(t,h))):a=lv(t,h),l=parseFloat(a),(p="string"===c&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),o=parseFloat(s),h in Mm&&("autoAlpha"===h&&(1===l&&"hidden"===lv(t,"visibility")&&o&&(l=0),av(this,T,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==h&&"transform"!==h&&~(h=Mm[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in Om)if(m||((v=t._gsap).renderTransform&&!e.parseTransform||_v(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new gm(this._pt,T,Xm,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new gm(this._pt,v,"scaleY",v.scaleY,(p?p*o:o-v.scaleY)||0),_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){s=hv(s),v.svg?bv(t,s,0,y,0,this):((d=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&av(this,v,"zOrigin",v.zOrigin,d),av(this,T,h,Tv(a),Tv(s)));continue}if("svgOrigin"===h){bv(t,s,1,y,0,this);continue}if(h in gv){Av(this,v,h,l,s,p);continue}if("smoothOrigin"===h){av(this,v,"smooth",v.smooth,s);continue}if("force3D"===h){v[h]=s;continue}if("transform"===h){Lv(this,s,t);continue}}else h in T||(h=Zm(h)||h);if(g||(o||0===o)&&(l||0===l)&&!Pm.test(s)&&h in T)o||(o=0),(f=(a+"").substr((l+"").length))!==(d=ag(s)||(h in Ld.units?Ld.units[h]:f))&&(l=ov(t,h,a,d)),this._pt=new gm(this._pt,g?v:T,h,l,p?p*o:o-l,g||"px"!==d&&"zIndex"!==h||!1===e.autoRound?Im:Nm),this._pt.u=d||0,f!==d&&"%"!==d&&(this._pt.b=a,this._pt.r=jm);else if(h in T)cv.call(this,t,h,a,s);else{if(!(h in t)){op(h,s);continue}this.add(t,h,a||t[h],s,n,i)}_.push(h)}b&&pm(this)},get:lv,aliases:Mm,getSetter:function(t,e,r){var n=Mm[e];return n&&n.indexOf(",")<0&&(e=n),e in Om&&e!==qm&&(t._gsap.x||lv(t,"x"))?r&&wm===r?"scale"===e?Vm:Hm:(wm=r||{})&&("scale"===e?Wm:Ym):t.style&&!Vd(t.style[e])?zm:~e.indexOf("-")?Gm:sm(t,e)},core:{_removeProperty:iv,_getMatrix:yv}};bm.utils.checkPrefix=Zm,function(t,e,r,n){var i=Ep(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Om[t]=1}));Ep(e,(function(t){Ld.units[t]="deg",gv[t]=1})),Mm[i[13]]=t+","+e,Ep("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Mm[e[1]]=i[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Ep("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Ld.units[t]="px"})),bm.registerPlugin(Rv);var Pv,Mv=bm.registerPlugin(Rv)||bm,Iv=(Mv.core.Tween,function(t,e,r,n,i,a,s,o,l,c,u){var f=!1;if(t&&s.filter((function(t){return"title"===t.type&&a>=t.start&&a<t.start+.5})).forEach((function(t){var r=t.index,n="animation-"+r;if(0===e.getObjects().filter((function(t){return t.id===n})).length){var a=s.slice(0,r).filter((function(t){return"title"===t.type})),o=a.length>0?a[a.length-1].slide:"",l=a.length>0?a[a.length-1].text:"";""===o||o===t.slide&&l===t.text||(f=!0,t.slide===yu&&Mv.set(".canvas-container",{css:{opacity:0}}),e.add(new yd.fabric.Text(" ",{id:n,selectable:uu,evented:uu})),function(t,e,r,n){var i=document.getElementById("animationImg");i.onload=function(){n?(Mv.set(i,{css:{rotationY:0,transformOrigin:"50% 50% -".concat(e/2)}}),Mv.to(i,{duration:1,rotationY:r?-90:90,onComplete:function(){i.src="",t.getObjects().forEach((function(e){(e.id.indexOf("title-")>-1||e.id.indexOf("text-")>-1||e.id.indexOf("tri-")>-1)&&t.remove(e)})),Mv.set(".canvas-container",{css:{backgroundColor:"white",opacity:1}})}})):(Mv.set(i,{css:{rotationY:0,transformOrigin:"50% 50% -".concat(e/2)}}),Mv.set(".canvas-container",{css:{rotationY:r?90:-90,transformOrigin:"50% 50% -".concat(e/2)}}),Mv.to(i,{rotationY:r?-90:90,duration:1,onComplete:function(){i.src=""}}),Mv.to(".canvas-container",{duration:1,rotationY:0}))},i.src=t.toDataURL("png")}(e,i,!t.isLeft,t.slide===yu))}})),!f){e.getObjects().forEach((function(t){if(t.id.indexOf("animation-")>-1||t.id.indexOf("title-")>-1||t.id.indexOf("text-")>-1||t.id.indexOf("tri-")>-1){var r=1*t.id.substring(t.id.indexOf("-")+1),n=s[r];(n.start<a&&n.end<=a||n.start>a&&n.end>=a)&&e.remove(t)}}));for(var d=0;d<s.length;d++){var p=s[d];p.slide!==yu&&(0===p.end||a<p.end)&&a>=p.start&&function(){var t="title"===p.type?"title-"+d:"text-"+d;if(0===e.getObjects().filter((function(e){return e.id===t})).length){var i,f,g=!0;if(a<=p.start+1&&(g=!1),"title"===p.type){if(p.slide===mu)n.left=Cu+Au,n.width=xu*(Ru+Pu)+Du,r.moveTo(1),n.moveTo(2);else if(p.slide===gu){var m=o.scale;(xu*(Ru+Pu)+Du)/o.scale>l&&(m=(xu*(Ru+Pu)+Du)/l);var v=Su*Mu;r.scaleX=m,r.scaleY=m,r.left=Cu+Au,r.width=(xu*(Ru+Pu)+Du)/m;var y=v/m+Math.abs(c-v)/3;r.height=y;var b=Ou+Lu-Math.abs(c-v)*m/3;r.top=b+y*m/2;var _=new yd.fabric.Polygon([{x:-50,y:0},{x:-50,y:Math.abs(c-v)/3},{x:xu/m+100,y:Math.abs(c-v)/3},{x:xu/m+100,y:0}]);_.id="originalPolygon";var T=new yd.fabric.Polygon(_.points,{left:-r.get("width")/2-2,top:-r.get("height")/2}),E=new yd.fabric.Group([T],{inverted:!0});r.clipPath=E,r.moveTo(2),n.moveTo(1)}else if(p.slide===yu);else{var x=(l-xu/o.scale*Ru)/2,S=Cu+Au-x*o.scale;r.top=Ou+Lu+Su*Mu/2,r.left=p.isLeft?S:S+Du+xu*Pu,r.width=xu*Ru/o.scale+x,r.height=Su*Mu/o.scale,r.scaleX=o.scale,r.scaleY=o.scale,r.clipPath=u,n.left=p.isLeft?xu*Ru+(Cu+Au+Du):Cu+Au,n.width=xu*Pu,r.moveTo(1),n.moveTo(2)}e.getObjects().forEach((function(t){t.id.indexOf("text-")>-1&&e.remove(t),t.id.indexOf("tri-")>-1&&e.remove(t)})),f=bd(p.text,.95*n.get("width"),_u),i={id:t,selectable:uu,evented:uu,left:n.get("left"),top:Ou+Lu+Lu,fill:"#ffb714",originX:"left",originY:"top",width:.95*n.get("width"),textAlign:"center",fontSize:_u,fontFamily:"Helvetica Neue, Helvetica, Sans-Serif, Arial, Trebuchet MS",textShadow:"green -5px -5px 3px",strokeStyle:"#c3bfbf",strokeWidth:30}}else{var w=s[d-1].bottom,C=(Cu+Au)*p.level+wu/2;f=bd(p.text,n.get("width")-2*(Cu+Au)-C,Tu),i={id:t,selectable:uu,evented:uu,left:n.get("left")+C,top:w+Ou*(ku-.17*p.level),fill:"white",originX:"left",originY:"top",width:n.get("width")-2*(Cu+Au)-C,textAlign:"left",fontSize:Tu,fontFamily:"Helvetica Neue, Helvetica, Sans-Serif, Arial, Trebuchet MS",scaleX:3,scaleY:3};var O={id:"tri-"+d,selectable:uu,evented:uu,left:n.get("left")+(Cu+Au)*p.level,top:w+1.4*Ou*(ku-.17*p.level),angle:90,width:wu,height:.8*wu,originX:"left",originY:"top",fill:"#ffb714"};e.add(new yd.fabric.Triangle(O))}var k=null,A=0;"title"===p.type&&p.slide===gu&&(f=" ");var D=f.split("\n"),L=100;L>f.length&&(L=f.length);for(var R=0;R<D.length;R++){var P=D[R],M=document.createElement("canvas").getContext("2d");M.font=i.fontSize+"px Helvetica Neue, Helvetica, Sans-Serif, Arial, Trebuchet MS";var I=M.measureText(P).width,F=i.id.indexOf("title")>-1,j=i.id.indexOf("title")>-1?n.get("left")+(n.get("width")-I)/2:i.left,N=null===k?i.top:k.get("top")+k.get("height");k="";for(var B=!1,U=0;U<P.length;U++){var z=P[U];if(g||U+A+L<=f.length){var G=""===k?j:k.get("left")+k.get("width");k=new yd.fabric.Text(z,h(h({},i),{},{left:G,top:N,scaleX:1,scaleY:1,fill:F?"rgba(255,183,20,1)":"rgba(255,255,255,1)"})),B=!1}else if(U+A+L>f.length){var H=""===k?j:k.get("left")+k.get("width");B||(H-=50),k=new yd.fabric.Text(z,h(h({},i),{},{left:H,top:N,scaleX:5,scaleY:5,fill:F?"rgba(255,183,20,0)":"rgba(255,255,255,0)"})),Mv.timeline().to(k,1/3,{scaleX:1,scaleY:1,fill:F?"rgba(255,183,20,1)":"rgba(255,255,255,1)",left:H+50,top:N,delay:(U+A+L-f.length)/f.length}),B=!0}e.add(k)}A+=P.length}""!==k&&(p.bottom=k.get("top")+k.get("height"))}}()}}return s}),Fv=null,jv="",Nv=[],Bv=[],Uv=0,zv=0,Gv="",Hv=null,Vv=null,Wv=null,Yv=!1,Xv="",qv="";function Kv(t){var e=Object(n.useState)(Iu),r=Object(p.a)(e,2),i=r[0],a=r[1],s=Object(n.useState)(0),o=Object(p.a)(s,2),c=o[0],u=o[1];Object(n.useEffect)((function(){t.handlePlayerCallback&&t.handlePlayerCallback(i)}),[i]),Object(n.useEffect)((function(){t.handleCurrentTimeCallback&&t.handleCurrentTimeCallback(1e3*c)}),[c]);var f=Object(n.useRef)(null),g=Object(n.useRef)(null),v=Object(n.useRef)(null),y=Object(n.useState)({scale:1,local_source:"",video_ready:!1,played:0,is_seeking:!1,duration:0}),b=Object(p.a)(y,2),_=b[0],T=b[1],E=Object(n.useState)(0),x=Object(p.a)(E,2),S=x[0],w=x[1],C=Object(n.useState)(0),O=Object(p.a)(C,2),k=O[0],A=O[1],D=Object(n.useState)(1),L=Object(p.a)(D,2),R=L[0],P=L[1],M=Object(n.useState)(!1),I=Object(p.a)(M,2),F=I[0],j=I[1],N=Object(n.useState)(""),B=Object(p.a)(N,2),U=B[0],z=B[1],G=Object(n.useState)(""),H=Object(p.a)(G,2),V=H[0],W=H[1],Y=Object(n.useState)(30),X=Object(p.a)(Y,2),q=X[0],K=X[1];function $(){return Q.apply(this,arguments)}function Q(){return(Q=d(l.a.mark((function e(){var r,n,i,a,s,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Xv&&void 0!==Xv){e.next=9;break}return e.next=3,fetch(qv||hu);case 3:return r=e.sent,e.next=6,r.text();case 6:n=e.sent,e.next=10;break;case 9:n=Xv;case 10:return t.handleMdContentCallback&&t.handleMdContentCallback(n),e.next=13,vd(n);case 13:s=e.sent,o=Object(p.a)(s,6),i=o[0],Gv=o[1],Nv=o[2],Bv=o[3],jv=o[4],"m3u8"===(a=o[5])?m.a.isSupported()&&f&&((c=new m.a).loadSource(i),c.attachMedia(f.current)):("googlevideo"===a||"mp4"===a)&&T(h(h({},_),{},{local_source:i})),console.log("url",i),z("load_video");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(){var t=v.current.offsetWidth,e=9*t/16;w(t),A(e)};Object(n.useEffect)((function(){null!==Fv&&(Fv.setZoom(S/xu),Fv.setWidth(xu*Fv.getZoom()),Fv.setHeight(Su*Fv.getZoom()),Fv.renderAll(),document.body.offsetHeight>window.innerHeight&&Z())}),[S]),Object(n.useLayoutEffect)((function(){window.addEventListener("resize",Z)}),[]),Object(n.useEffect)((function(){null!==f.current&&(t.play?tt():et())}),[t.play]),Object(n.useEffect)((function(){void 0!==t.markdown_text&&""!==t.markdown_text&&(Xv=t.markdown_text,$())}),[t.markdown_text]),Object(n.useEffect)((function(){void 0!==t.markdownURL&&""!==t.markdownURL&&(qv=t.markdownURL,$())}),[t.markdownURL]),Object(n.useEffect)((function(){void 0!==t.csslink&&""!==t.csslink&&W(t.csslink)}),[t.csslink]),Object(n.useEffect)((function(){void 0!==t.mode&&""!==t.mode&&z(t.mode)}),[t.mode]),Object(n.useEffect)((function(){void 0!==t.playbackRate&&""!==t.playbackRate&&P(t.playbackRate)}),[t.playbackRate]),Object(n.useEffect)((function(){console.log("props.play_at",t.play_at),void 0!==t.play_at&&""!==t.play_at&&null!==f.current&&(f.current.currentTime=t.play_at)}),[t.play_at]),Object(n.useEffect)((function(){t.is_prev_scene&&null!==f.current&&it()}),[t.is_prev_scene,t.pseudo_number]),Object(n.useEffect)((function(){t.is_next_scene&&null!==f.current&&at()}),[t.is_next_scene,t.pseudo_number]),Object(n.useEffect)((function(){console.log("props.volume",t.volume),void 0!==t.volume&&""!==t.volume&&null!==f.current&&K(t.volume)}),[t.volume]),Object(n.useEffect)((function(){if("init"===U||"api_init"===U){Mv.set(g.current,{css:{transformStyle:"preserve-3d",perspective:1200}}),Z();var t=function(t,e,r){var n=new yd.fabric.Canvas(t,{width:e,height:r,backgroundColor:"#416d92"}),i={id:"layout1",selectable:uu,evented:uu,originX:"center",originY:"center",left:e/2,top:r/2,width:e-2*Cu,height:r-2*Ou,fill:"#ffffff"},a={id:"fab_initial_layout_video",selectable:uu,evented:uu,left:Cu+Au,top:Ou+Lu,width:e*Ru,height:r*Mu,fill:"#00ff00"},s={id:"layout-md",selectable:uu,evented:uu,left:e*Ru+Cu+Au+Du,top:Ou+Lu,width:e*Pu,height:r*Mu,fill:"#263c50"},o=new yd.fabric.Rect(s);return n.add(new yd.fabric.Rect(i),new yd.fabric.Rect(a),o),[n,o]}("sCanvas",xu,Su),e=Object(p.a)(t,2);Fv=e[0],Wv=e[1],"init"===U&&$()}}),[U]),Object(n.useEffect)((function(){if(_.video_ready&&null!==Fv&&0===Fv.getObjects().filter((function(t){return"video"===t.id})).length){console.log("videowidth",Uv),console.log("videoheight",zv),console.log("addVideoToCanvas");var t=function(t,e,r,n){var i=document.getElementsByTagName("video")[0];if(void 0===i)return[];i.width=e,i.height=r,i.crossOrigin="anonymous";var a=(e-xu/n.scale*Ru)/2,s=Su/n.scale,o={id:"video",selectable:uu,evented:uu,left:Cu+Au-a*n.scale,top:Ou+Lu+Su*Mu/2,angle:0,originX:0,originY:"center",scaleX:n.scale,scaleY:n.scale,width:xu*Ru/n.scale+a,height:Su*Mu/n.scale,objectCaching:!0,statefullCache:!0,stroke:"rgba(255,255,255,0)",strokeWidth:0},l=new yd.fabric.Image(i,o),c=new yd.fabric.Polygon([{x:0,y:-10},{x:a,y:-10},{x:a,y:s},{x:0,y:s}]);c.id="_original_polygon";var u=new yd.fabric.Polygon(c.points,{left:-l.get("width")/2- -1*c.get("left")-Eu,top:-l.get("height")/2- -1*c.get("top")-Eu}),h=new yd.fabric.Group([u],{inverted:!0});return l.clipPath=h,t.add(l),t.getObjects().forEach((function(e){return"fab_initial_layout_video"===e.id&&t.remove(e)})),l.moveTo(1),console.log(t.getObjects()),yd.fabric.util.requestAnimFrame((function e(){t.renderAll(),yd.fabric.util.requestAnimFrame(e)})),[t,l,h]}(Fv,Uv,zv,_),e=Object(p.a)(t,3);Fv=e[0],Vv=e[1],Hv=e[2],nt(0),Fv.renderAll()}}),[_.video_ready]),Object(n.useEffect)((function(){if(null!==Fv&&""!==Gv&&0===Fv.getObjects().filter((function(t){return"project_title"===t.id})).length){var t=bd(Gv,xu*(Ru+Pu)+Du,bu),e={id:"project_title",selectable:uu,evented:uu,left:xu*(Ru+Pu)+Cu+Au+Du,top:-(Ou+Lu)+Su,fill:"#2a3238",originX:"right",originY:"bottom",width:xu*(Ru+Pu)+Du,textAlign:"right",fontSize:bu,fontFamily:"Helvetica Neue, Helvetica, Sans-Serif, Arial, Trebuchet MS"};Fv.add(new yd.fabric.Text(t,e)),Fv.renderAll()}}),[_.scale]);Object(n.useEffect)((function(){null!==f.current&&void 0!==R&&""!==R&&(f.current.playbackRate=R)}),[R]);var J=function(){null!==Vv&&function(){for(var t=f.current.currentTime,e=Bv.filter((function(e){return e.start<=t&&t<e.end})),r=0;e.length>0&&r<50;)t=t-e[0].start+e[0].end,0===(e=e.slice(1).filter((function(e){return e.start<=t&&t<e.end}))).length&&(f.current.currentTime=t),r++;var n=!_.is_seeking&&Yv;if(Nv=Iv(n,Fv,Vv,Wv,S,t,Nv,_,Uv,zv,Hv),!_.is_seeking){var i=f.current.currentTime,a=Bv.filter((function(t){return t.end<=i})).reduce((function(t,e){return t+e.end-e.start}),0),s=i-a;T(h(h({},_),{},{played:0===_.duration?0:gd(s/_.duration,5)}))}}()},tt=function(){null!==Vv&&null!==f.current&&((Yv=f.current.currentTime>0&&!f.current.paused&&!f.current.ended&&f.current.readyState>f.current.HAVE_CURRENT_DATA)||(Yv=!0,f.current.play(),a(ju)),Pv=setInterval((function(){J(),Yv||clearInterval(Pv)}),du))},et=function(){null!==Vv&&null!==f.current&&(Yv=f.current.currentTime>0&&!f.current.paused&&!f.current.ended&&f.current.readyState>f.current.HAVE_CURRENT_DATA)&&(Yv=!1,f.current.pause(),a(Nu))},rt=function(){a(Iu),Yv=!1,nt(0),null!==f.current&&f.current.pause()},nt=function(t){var e=t;T(h(h({},_),{},{played:e}));for(var r=e*_.duration,n=Bv.filter((function(t){return t.start<=r})),i=0;n.length>0&&i<50;)r=r-n[0].start+n[0].end,n=n.slice(1).filter((function(t){return t.start<=r})),i++;null!==f.current&&(f.current.currentTime=r,Yv||J())},it=function(){if(null!==f.current){var t=f.current.currentTime,e=Nv.filter((function(e){return"title"===e.type&&e.start<=t})),r=null;null!==(r=e.length>1?e[e.length-2]:e.length>0?e[e.length-1]:e[0])&&(f.current.currentTime=r.start+.1,Yv||J())}},at=function(){if(null!==f.current){var t=f.current.currentTime,e=Nv.filter((function(e){return"title"===e.type&&e.start>t}));if(e.length>0){var r=e[0];f.current.currentTime=r.start+.1,Yv||J()}}};Object(n.useEffect)((function(){null!==f.current&&(f.current.volume=.01*q)}),[q]);return Object(kl.jsxs)("div",{ref:v,className:"pb-3",children:[Object(kl.jsx)("link",{rel:"stylesheet",type:"text/css",href:V}),Object(kl.jsx)("div",{className:"backContainer",style:{height:k+"px",width:S+"px"},children:Object(kl.jsxs)("div",{className:"back",ref:g,style:{height:2*k+"px",width:2*S+"px"},children:[Object(kl.jsx)("img",{alt:"",crossOrigin:"anonymous",id:"animationImg"}),Object(kl.jsx)("canvas",{id:"sCanvas"})]})}),Object(kl.jsxs)("div",{children:[Object(kl.jsx)("video",{controls:!0,src:_.local_source,ref:f,onLoadedData:function(t){zv=t.target.videoHeight,Uv=t.target.videoWidth,T(h(h({},_),{},{scale:Su*Mu/zv,video_ready:!0}))},onLoadedMetadata:function(t){var e=t.target.duration;Bv.filter((function(t){return t.end>e})).forEach((function(t){return t.end=e}));var r=Bv.reduce((function(t,e){return t+(e.end-e.start)}),0);T(h(h({},_),{},{duration:e-r})),Nv.filter((function(t){return t.end===pu})).forEach((function(t){t.end=e-1})),Nv.push({index:Nv.length,type:"title",parent:0,isLeft:!1,slide:yu,text:" ",start:e-1,end:e,bottom:0})},onTimeUpdate:function(t){u(t.target.currentTime)},onEnded:function(){a(Fu),console.log("videoended"),rt()},preload:"auto",width:"unset",height:"100%",crossOrigin:"Anonymous"}),Object(kl.jsx)(cu,{playbackRate:R,dropdownopen:F,handleDropdown:function(){j(!F)},onPlaybackRateChange:function(t){P(t)},is_playing:Yv,played:_.played,duration:_.duration,onPlayPause:function(){Yv?et():tt()},onSliderChange:function(t){nt(gd(t.target.value,5))},onSliderMouseUp:function(){T(h(h({},_),{},{is_seeking:!1}))},onSliderMouseDown:function(){T(h(h({},_),{},{is_seeking:!0}))},onRewind:rt,onSkipPrevious:it,onSkipNext:at,volume:q,onVolumeChange:function(t,e){K(e)},onDownloadNotes:function(){if(""===Gv)return alert("Sorry, project title is empty."),!1;if(""===jv)return alert("Sorry, markdown text is empty."),!1;var t=window.URL.createObjectURL(new Blob([jv])),e=document.createElement("a");e.href=t,e.setAttribute("download","".concat(Gv,".html")),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)}})]})]})}r(116);var $v=function(t){var e=void 0!==t.mdContent?t.mdContent:"";return Object(kl.jsx)("div",{className:"rootdiv",children:Object(kl.jsx)(Kv,{mdContent:e,mode:"init"})})},Qv=function(t){t&&t instanceof Function&&r.e(1).then(r.bind(null,143)).then((function(e){var r=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;r(t),n(t),i(t),a(t),s(t)}))};s.a.render(Object(kl.jsx)(i.a.StrictMode,{children:Object(kl.jsx)($v,{})}),document.getElementById("root")),Qv()},function(t,e,r){"use strict";r.r(e),r.d(e,"capitalize",(function(){return n.a})),r.d(e,"createChainedFunction",(function(){return i})),r.d(e,"createSvgIcon",(function(){return _})),r.d(e,"debounce",(function(){return T})),r.d(e,"deprecatedPropType",(function(){return E})),r.d(e,"isMuiElement",(function(){return x})),r.d(e,"ownerDocument",(function(){return w})),r.d(e,"ownerWindow",(function(){return C})),r.d(e,"requirePropFactory",(function(){return O})),r.d(e,"setRef",(function(){return k})),r.d(e,"unstable_useEnhancedEffect",(function(){return A})),r.d(e,"unstable_useId",(function(){return L})),r.d(e,"unsupportedProp",(function(){return R})),r.d(e,"useControlled",(function(){return P})),r.d(e,"useEventCallback",(function(){return M.a})),r.d(e,"useForkRef",(function(){return I.a})),r.d(e,"useIsFocusVisible",(function(){return F.a})),r.d(e,"unstable_ClassNameGenerator",(function(){return j.a}));var n=r(9);var i=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e){return null==e?t:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n),e.apply(this,n)}}),(function(){}))},a=r(5),s=r(1),o=r(13),l=(r(0),r(8)),c=r(138),u=r(21),h=r(11),f=r(119),d=r(139);function p(t){return Object(f.a)("MuiSvgIcon",t)}Object(d.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var g=r(3),m=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],v=Object(h.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(t,e){var r=t.ownerState;return[e.root,"inherit"!==r.color&&e["color".concat(Object(n.a)(r.color))],e["fontSize".concat(Object(n.a)(r.fontSize))]]}})((function(t){var e,r,n=t.theme,i=t.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:n.transitions.create("fill",{duration:n.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:n.typography.pxToRem(20),medium:n.typography.pxToRem(24),large:n.typography.pxToRem(35)}[i.fontSize],color:null!=(e=null==(r=n.palette[i.color])?void 0:r.main)?e:{action:n.palette.action.active,disabled:n.palette.action.disabled,inherit:void 0}[i.color]}})),y=s.forwardRef((function(t,e){var r=Object(u.a)({props:t,name:"MuiSvgIcon"}),i=r.children,s=r.className,h=r.color,f=void 0===h?"inherit":h,d=r.component,y=void 0===d?"svg":d,b=r.fontSize,_=void 0===b?"medium":b,T=r.htmlColor,E=r.titleAccess,x=r.viewBox,S=void 0===x?"0 0 24 24":x,w=Object(o.a)(r,m),C=Object(a.a)({},r,{color:f,component:y,fontSize:_,viewBox:S}),O=function(t){var e=t.color,r=t.fontSize,i=t.classes,a={root:["root","inherit"!==e&&"color".concat(Object(n.a)(e)),"fontSize".concat(Object(n.a)(r))]};return Object(c.a)(a,p,i)}(C);return Object(g.jsxs)(v,Object(a.a)({as:y,className:Object(l.a)(O.root,s),ownerState:C,focusable:"false",viewBox:S,color:T,"aria-hidden":!E||void 0,role:E?"img":void 0,ref:e},w,{children:[i,E?Object(g.jsx)("title",{children:E}):null]}))}));y.muiName="SvgIcon";var b=y;function _(t,e){var r=function(r,n){return Object(g.jsx)(b,Object(a.a)({"data-testid":"".concat(e,"Icon"),ref:n},r,{children:t}))};return r.muiName=b.muiName,s.memo(s.forwardRef(r))}var T=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=function(){t.apply(n,a)};clearTimeout(e),e=setTimeout(o,r)}return n.clear=function(){clearTimeout(e)},n};var E=function(t,e){return function(){return null}};var x=function(t,e){return s.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)},S=r(65),w=S.a;var C=function(t){return Object(S.a)(t).defaultView||window};r(37);var O=function(t,e){return function(){return null}},k=r(48).a,A=r(63).a,D=r(6);var L=function(t){var e=s.useState(t),r=Object(D.a)(e,2),n=r[0],i=r[1],a=t||n;return s.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e9*Math.random())))}),[n]),a};var R=function(t,e,r,n,i){return null},P=r(141).a,M=r(28),I=r(33),F=r(35),j=r(61)},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(61),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function a(t,e){return i[e]||"".concat(n.a.generate(t),"-").concat(e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(1),i=!0,a=!1,s=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(t){t.metaKey||t.altKey||t.ctrlKey||(i=!0)}function c(){i=!1}function u(){"hidden"===this.visibilityState&&a&&(i=!0)}function h(t){var e=t.target;try{return e.matches(":focus-visible")}catch(r){}return i||function(t){var e=t.type,r=t.tagName;return!("INPUT"!==r||!o[e]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable}(e)}function f(){var t=n.useCallback((function(t){var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",u,!0))}),[]),e=n.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!h(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100),e.current=!1,!0)},ref:t}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(1),i=r(63);function a(t){var e=n.useRef(t);return Object(i.a)((function(){e.current=t})),n.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(1),i=r(48);function a(t,e){return n.useMemo((function(){return null==t&&null==e?null:function(r){Object(i.a)(t,r),Object(i.a)(e,r)}}),[t,e])}},,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t,e,r){var n={};return Object.keys(t).forEach((function(i){n[i]=t[i].reduce((function(t,n){return n&&(r&&r[n]&&t.push(r[n]),t.push(e(n))),t}),[]).join(" ")})),n}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(119);function i(t,e){var r={};return e.forEach((function(e){r[e]=Object(n.a)(t,e)})),r}},function(t,e,r){"use strict";r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"d",(function(){return h}));var n=r(40);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),r)}function a(t){if(t.type)return t;if("#"===t.charAt(0))return a(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),r=t.match(e);return r&&1===r[0].length&&(r=r.map((function(t){return t+t}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),r=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error(Object(n.a)(9,t));var i,s=t.substring(e+1,t.length-1);if("color"===r){if(i=(s=s.split(" ")).shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(n.a)(10,i))}else s=s.split(",");return{type:r,values:s=s.map((function(t){return parseFloat(t)})),colorSpace:i}}function s(t){var e=t.type,r=t.colorSpace,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==e.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(e,"(").concat(n,")")}function o(t){var e="hsl"===(t=a(t)).type?a(function(t){var e=(t=a(t)).values,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+r/30)%12;return i-o*Math.max(Math.min(e-3,9-e,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===t.type&&(c+="a",u.push(e[3])),s({type:c,values:u})}(t)).values:t.values;return e=e.map((function(e){return"color"!==t.type&&(e/=255),e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(t,e){var r=o(t),n=o(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function c(t,e){return t=a(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,s(t)}function u(t,e){if(t=a(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(var r=0;r<3;r+=1)t.values[r]*=1-e;return s(t)}function h(t,e){if(t=a(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(-1!==t.type.indexOf("color"))for(var n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return s(t)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(6),i=r(1);function a(t){var e=t.controlled,r=t.default,a=(t.name,t.state,i.useRef(void 0!==e).current),s=i.useState(r),o=Object(n.a)(s,2),l=o[0],c=o[1];return[a?e:l,i.useCallback((function(t){a||c(t)}),[])]}},function(t,e,r){"use strict";var n=r(17),i=r(22),a=r(71),s=["values","unit","step"];function o(t){var e=t.values,r=void 0===e?{xs:0,sm:600,md:900,lg:1200,xl:1536}:e,a=t.unit,o=void 0===a?"px":a,l=t.step,c=void 0===l?5:l,u=Object(i.a)(t,s),h=Object.keys(r);function f(t){var e="number"===typeof r[t]?r[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function d(t,e){var n=h.indexOf(e);return"@media (min-width:".concat("number"===typeof r[t]?r[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==n&&"number"===typeof r[h[n]]?r[h[n]]:e)-c/100).concat(o,")")}return Object(n.a)({keys:h,values:r,up:f,down:function(t){var e="number"===typeof r[t]?r[t]:t;return"@media (max-width:".concat(e-c/100).concat(o,")")},between:d,only:function(t){return h.indexOf(t)+1<h.length?d(t,h[h.indexOf(t)+1]):f(t)},unit:o},u)}var l={borderRadius:4},c=r(16);function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Object(c.a)({spacing:t}),r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=0===r.length?[1]:r;return i.map((function(t){var r=e(t);return"number"===typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}var h=["breakpoints","palette","spacing","shape"];e.a=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,r=void 0===e?{}:e,s=t.palette,c=void 0===s?{}:s,f=t.spacing,d=t.shape,p=void 0===d?{}:d,g=Object(i.a)(t,h),m=o(r),v=u(f),y=Object(a.a)({breakpoints:m,direction:"ltr",components:{},palette:Object(n.a)({mode:"light"},c),spacing:v,shape:Object(n.a)({},l,p)},g),b=arguments.length,_=new Array(b>1?b-1:0),T=1;T<b;T++)_[T-1]=arguments[T];return y=_.reduce((function(t,e){return Object(a.a)(t,e)}),y)}}]);
//# sourceMappingURL=nuroplayer.min.js.map